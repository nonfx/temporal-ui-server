import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as we,l as y,s as l,m as c,g as e,a as Me,e as b,r as m,t as R,d as r,b as ye,f as ae,aA as $,ah as Be,n as oe,c as ee,i as et}from"../chunks/CVkC3v6g.js";import{t as h,a as t,c as Fe,b as ce}from"../chunks/CXa2DXXa.js";import{i as ke}from"../chunks/B3G23GpA.js";import{a as q,s as ze,b as Ve,m as tt}from"../chunks/B71MWTBs.js";import{p as Re}from"../chunks/BlTZtavH.js";import{P as st}from"../chunks/CzIAgOFi.js";import{s as I}from"../chunks/DUPvQxLd.js";import{i as V}from"../chunks/DpQPgcBL.js";import{k as Xe}from"../chunks/DLaUIK3W.js";import{e as xe,i as Ee}from"../chunks/ojfNN_0P.js";import{o as rt}from"../chunks/DaqIHZoW.js";import{g as ot}from"../chunks/BijhgWLC.js";import{t as a}from"../chunks/D2OY9xdY.js";import{i as at,j as Ge}from"../chunks/CSM2YGqK.js";import{b as He,h as lt,c as nt}from"../chunks/DVeFClz5.js";import{l as it,p as De}from"../chunks/BNtWe5Xb.js";import{W as ct}from"../chunks/BJSgUHYk.js";import{L as Le}from"../chunks/LH3G9Yqj.js";import{f as Je,r as ut,t as dt}from"../chunks/BogN5CJj.js";import{d as mt}from"../chunks/Rj7H03Qd.js";import{o as vt,b as pt,u as Qe}from"../chunks/dAqOlFj6.js";import{s as ft}from"../chunks/01A5YHN4.js";import{s as ht}from"../chunks/CTBtQUu0.js";import{C as _t,a as gt,S as $t,T as bt,c as xt}from"../chunks/BUR758je.js";import{A as wt}from"../chunks/Bao8vGeu.js";import{B as Ue}from"../chunks/DSyaFiGS.js";import{E as Oe}from"../chunks/B4jGSy-b.js";import{I as yt}from"../chunks/BkKACGbj.js";import{A as kt}from"../chunks/CNClEvGf.js";import{T as At}from"../chunks/CbiwIFSL.js";import{i as Ct}from"../chunks/C4ry1RZU.js";import{c as St}from"../chunks/Cp_AbnJM.js";import{s as je}from"../chunks/DUeNOFto.js";import{d as Tt,b as Pt}from"../chunks/DAc9Z4oz.js";import{t as qt}from"../chunks/CeIuC_4N.js";import{S as It}from"../chunks/S6Q2Q0ub.js";import{a as Ft}from"../chunks/DZYw9DiY.js";import{m as Et}from"../chunks/Db8GgboF.js";var Dt=h('<div class="flex flex-wrap items-center gap-2"> </div>');function Lt(Y,F){we(F,!1);const[v,H]=ze(),x=()=>q(Re,"$page",v),C=()=>q(He,"$schedulesCount",v),S=c(),u=c(),E=async()=>{try{Ve(He,await at({namespace:e(S),query:e(u)}))}catch(W){console.error("Fetching schedules count failed: ",W==null?void 0:W.message)}};y(()=>x(),()=>{l(S,x().params.namespace)}),y(()=>x(),()=>{l(u,x().url.searchParams.get("query"))}),y(()=>e(S),()=>{e(S),E()}),Me(),ke();var U=Dt(),K=b(U,!0);m(U),R(W=>I(K,W),[()=>a("common.schedules-plural",{count:Number(C())})],r),t(Y,U),ye(),H()}var zt=h("<div><code><pre> </pre></code></div>");function Rt(Y,F){const v=it(F,["children","$$slots","$$events","$$legacy"]);we(F,!1);let H=De(F,"calendar",8,void 0),x=De(F,"interval",8,void 0);ke();var C=Fe(),S=ae(C);Xe(S,()=>[H(),x()],u=>{var E=zt(),U=b(E),K=b(U),W=b(K,!0);m(K),m(U),m(E),R(ue=>{ft(E,1,`frequency ${v.class??""}`,"svelte-egff5j"),I(W,ue)},[()=>ht(H()||x(),void 0,2)],r),t(u,E)}),t(Y,C),ye()}var Wt=h('<td class="cell svelte-tyvqki"><!></td>'),Bt=h('<td class="cell whitespace-pre-line break-words svelte-tyvqki"><!></td>'),Ut=h('<td class="cell whitespace-pre-line break-words svelte-tyvqki"> </td>'),Ot=h("<p><!></p>"),jt=h('<td class="cell truncate svelte-tyvqki"></td>'),Vt=h("<div> </div>"),Ht=h('<td class="cell truncate svelte-tyvqki"></td>'),Mt=h('<td class="cell svelte-tyvqki"><p><!></p> <!></td>'),Nt=h('<td class="cell svelte-tyvqki"> </td>'),Yt=h("<tr></tr>");function Kt(Y,F){we(F,!1);const[v,H]=ze(),x=()=>q(Re,"$page",v),C=()=>q(dt,"$timeFormat",v),S=()=>q(ut,"$relativeTime",v),u=c(),E=c(),U=c(),K=c(),W=c(),ue=c(),T=c();var te=c(),se=c(),le=c(),B=c();let{namespace:he}=x().params,p=De(F,"schedule",8),de=De(F,"columns",8);const me=G=>{var J;return(J=G==null?void 0:G.sort((D,pe)=>new Date(pe.actualTime).getTime()-new Date(D.actualTime).getTime()).slice(0,5))!==null&&J!==void 0?J:[]};y(()=>($(te),Be(p())),()=>{l(u,l(te,p()===null||p()===void 0?void 0:p().info)===null||$(te)===void 0?void 0:$(te).spec)}),y(()=>($(se),e(u)),()=>{l(E,l(se,e(u)===null||e(u)===void 0?void 0:e(u).structuredCalendar)===null||$(se)===void 0?void 0:$(se)[0])}),y(()=>($(le),e(u)),()=>{l(U,l(le,e(u)===null||e(u)===void 0?void 0:e(u).interval)===null||$(le)===void 0?void 0:$(le)[0])}),y(()=>e(u),()=>{l(K,(e(u)===null||e(u)===void 0?void 0:e(u).timezoneName)||"UTC")}),y(()=>($(B),Be(p())),()=>{l(W,l(B,p()===null||p()===void 0?void 0:p().searchAttributes)!==null&&$(B)!==void 0?$(B):{})}),y(()=>e(W),()=>{l(ue,mt({searchAttributes:e(W)}))}),y(()=>Be(p()),()=>{l(T,vt({namespace:he,scheduleId:p()===null||p()===void 0?void 0:p().scheduleId}))}),Me(),ke();var ve=Yt();xe(ve,5,de,({label:G})=>G,(G,J)=>{let D=()=>e(J).label;var pe=Fe(),Ae=ae(pe);{var Ce=re=>{var ne=Wt(),_e=b(ne);const L=r(()=>{var w,M;return(M=(w=p())==null?void 0:w.info)!=null&&M.paused?"Paused":"Running"});ct(_e,{get status(){return e(L)}}),m(ne),t(re,ne)},Se=(re,ne)=>{{var _e=w=>{var M=Bt(),ge=b(M);Le(ge,{get href(){return e(T)},children:($e,Q)=>{oe();var N=ce();R(()=>I(N,p().scheduleId)),t($e,N)},$$slots:{default:!0}}),m(M),t(w,M)},L=(w,M)=>{{var ge=Q=>{var N=Ut(),P=b(N,!0);m(N),R(()=>{var O,o,f;return I(P,((f=(o=(O=p())==null?void 0:O.info)==null?void 0:o.workflowType)==null?void 0:f.name)??"")}),t(Q,N)},$e=(Q,N)=>{{var P=o=>{var f=jt();xe(f,5,()=>{var g,_;return me((_=(g=p())==null?void 0:g.info)==null?void 0:_.recentActions)},Ee,(g,_)=>{var n=Ot(),k=b(n);const z=r(()=>{var A,s,d,i;return pt({namespace:he,workflow:(s=(A=e(_))==null?void 0:A.startWorkflowResult)==null?void 0:s.workflowId,run:(i=(d=e(_))==null?void 0:d.startWorkflowResult)==null?void 0:i.runId})});Le(k,{get href(){return e(z)},children:(A,s)=>{oe();var d=ce();R(i=>I(d,i),[()=>{var i;return Je((i=e(_))==null?void 0:i.actualTime,C(),{relative:S()})}],r),t(A,d)},$$slots:{default:!0}}),m(n),t(g,n)}),m(f),t(o,f)},O=(o,f)=>{{var g=n=>{var k=Ht();xe(k,5,()=>{var z,A,s;return((s=(A=(z=p())==null?void 0:z.info)==null?void 0:A.futureActionTimes)==null?void 0:s.slice(0,5))??[]},Ee,(z,A)=>{var s=Vt(),d=b(s,!0);m(s),R(i=>I(d,i),[()=>Je(e(A),C(),{relative:S(),relativeLabel:a("common.from-now")})],r),t(z,s)}),m(k),t(n,k)},_=(n,k)=>{{var z=s=>{var d=Mt(),i=b(d),ie=b(i);lt(ie,()=>a("common.timezone",{timezone:e(K)})),m(i);var X=ee(i,2);Rt(X,{get calendar(){return e(E)},get interval(){return e(U)}}),m(d),t(s,d)},A=s=>{var d=Nt(),i=b(d,!0);m(d),R(()=>{var ie,X,j;return I(i,((j=(X=(ie=e(ue))==null?void 0:ie.searchAttributes)==null?void 0:X.indexedFields)==null?void 0:j[D()])??"")}),t(s,d)};V(n,s=>{D()===a("schedules.schedule-spec")?s(z):s(A,!1)},k)}};V(o,n=>{D()===a("schedules.upcoming-runs")?n(g):n(_,!1)},f)}};V(Q,o=>{D()===a("schedules.recent-runs")?o(P):o(O,!1)},N)}};V(w,Q=>{D()===a("common.workflow-type")?Q(ge):Q($e,!1)},M)}};V(re,w=>{D()===a("schedules.id")?w(_e):w(L,!1)},ne)}};V(Ae,re=>{D()===a("common.status")?re(Ce):re(Se,!1)})}t(G,pe)}),m(ve),t(Y,ve),ye(),H()}var Gt=h('<caption class="sr-only" slot="caption"> </caption>'),Jt=h("<!> <!>",1),Qt=h('<div class="flex flex-col gap-4" slot="header"><h1 class="flex flex-col gap-0 md:flex-row md:items-center md:gap-2"><!></h1> <div class="flex flex-col justify-between gap-2 md:flex-row"><!></div></div>'),Xt=h("<th> </th>"),Zt=h('<tr slot="headers" class="text-left"></tr>'),es=h("<p> <!> <!>.</p> <!>",1),ts=h("<!> <!>",1);function ss(Y,F){we(F,!1);const[v,H]=ze(),x=()=>q(Re,"$page",v),C=()=>q(xt,"$configurableTableColumns",v),S=()=>q(G,"$coreUser",v),u=()=>q(Ct,"$isCloud",v),E=()=>q(qt,"$temporalVersion",v),U=()=>q(Pt,"$customSearchAttributes",v),K=()=>q(je,"$scheduleFilters",v),W=()=>q(Tt,"$scheduleSearchAttributes",v),ue=()=>q(He,"$schedulesCount",v),T=c(),te=c(),se=c(),le=c(),B=c(),he=c(),p=c();var de=c(),me=c();let ve=c(Date.now()),G=St(),J=c(!1),D=c("");const pe=()=>{l(J,!0)};rt(()=>{e(B)&&Ve(je,Ft(e(B),W()))});const Ae=L=>{var w;l(D,((w=L==null?void 0:L.body)===null||w===void 0?void 0:w.message)||a("schedules.error-message-fetching"))};y(()=>x(),()=>{l(T,x().params.namespace)}),y(()=>($(me),$(de),C(),e(T)),()=>{l(te,l(me,l(de,C()===null||C()===void 0?void 0:C()[e(T)])===null||$(de)===void 0?void 0:$(de).schedules)!==null&&$(me)!==void 0?$(me):[])}),y(()=>(S(),e(T)),()=>{l(se,S().namespaceWriteDisabled(e(T)))}),y(()=>(u(),E(),U()),()=>{l(le,Object.entries({...(u()||Et("1.25.0",E()))&&{ScheduleId:It.KEYWORD},...U()}).map(([L,w])=>({label:L,value:L,type:w})))}),y(()=>x(),()=>{l(B,x().url.searchParams.get("query"))}),y(()=>(e(T),e(B)),()=>{l(he,()=>(l(D,""),nt(e(T),e(B),Ae)))}),y(()=>e(T),()=>{l(p,gt(e(T)))}),Me(),ke();var Ce=ts(),Se=ae(Ce);Xe(Se,()=>[e(T),e(B),e(ve)],L=>{const w=r(()=>a("common.schedules")),M=r(()=>a("common.per-page")),ge=r(()=>a("common.next")),$e=r(()=>a("common.previous")),Q=r(()=>a("schedules.empty-state-title")),N=r(()=>a("schedules.error-message-fetching"));kt(L,{get onFetch(){return e(he)},onError:Ae,get total(){return ue()},get"aria-label"(){return e(w)},get pageSizeSelectLabel(){return e(M)},get nextButtonLabel(){return e(ge)},get previousButtonLabel(){return e($e)},get emptyStateMessage(){return e(Q)},get errorMessage(){return e(N)},children:et,$$slots:{default:(P,O)=>{const o=r(()=>O.visibleItems);var f=Fe(),g=ae(f);xe(g,1,()=>e(o),Ee,(_,n)=>{Kt(_,{get schedule(){return e(n)},get columns(){return e(te)}})}),t(P,f)},caption:(P,O)=>{var o=Gt(),f=b(o,!0);m(o),R(g=>I(f,g),[()=>a("common.schedules")],r),t(P,o)},header:(P,O)=>{var o=Qt();const f=r(()=>O.visibleItems),g=r(()=>e(f).length||e(B));var _=b(o),n=b(_);Lt(n,{}),m(_);var k=ee(_,2),z=b(k);{var A=s=>{var d=Jt(),i=ae(d);$t(i,{get searchAttributeOptions(){return e(le)},refresh:()=>{l(ve,Date.now())},get filters(){return tt(),K()},set filters(j){Ve(je,j)},$$legacy:!0});var ie=ee(i,2);{var X=j=>{const Te=r(()=>Qe({namespace:e(T)})),Pe=r(()=>!Ge());Ue(j,{"data-testid":"create-schedule",get href(){return e(Te)},get disabled(){return e(Pe)},children:(qe,Ne)=>{oe();var Ie=ce();R(We=>I(Ie,We),[()=>a("schedules.create")],r),t(qe,Ie)},$$slots:{default:!0}})};V(ie,j=>{e(se)||j(X)})}t(s,d)};V(z,s=>{e(g)&&s(A)})}m(k),m(o),t(P,o)},headers:(P,O)=>{var o=Zt();xe(o,5,()=>e(te),Ee,(f,g)=>{let _=()=>e(g).label;var n=Xt(),k=b(n,!0);m(n),R(()=>I(k,_())),t(f,n)}),m(o),t(P,o)},empty:(P,O)=>{var o=Fe(),f=ae(o);{var g=n=>{const k=r(()=>a("schedules.empty-state-title"));Oe(n,{get title(){return e(k)},children:(z,A)=>{wt(z,{intent:"warning",icon:"warning",class:"mx-12",children:(s,d)=>{oe();var i=ce();R(()=>I(i,e(D))),t(s,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},_=(n,k)=>{{var z=s=>{const d=r(()=>a("schedules.empty-state-title")),i=r(()=>a("schedules.empty-state-description"));Oe(s,{get title(){return e(d)},get content(){return e(i)}})},A=s=>{const d=r(()=>a("schedules.empty-state-title"));Oe(s,{get title(){return e(d)},children:(i,ie)=>{var X=es(),j=ae(X),Te=b(j),Pe=ee(Te);Le(Pe,{newTab:!0,href:"https://docs.temporal.io/workflows/#schedule",children:(Z,be)=>{oe();var fe=ce();R(Ye=>I(fe,Ye),[()=>a("schedules.getting-started-docs-link")],r),t(Z,fe)},$$slots:{default:!0}});var qe=ee(Pe),Ne=ee(qe);Le(Ne,{newTab:!0,href:"https://docs.temporal.io/cli/schedule",children:(Z,be)=>{oe();var fe=ce("Temporal CLI");t(Z,fe)},$$slots:{default:!0}}),oe(),m(j);var Ie=ee(j,2);{var We=Z=>{const be=r(()=>!Ge());Ue(Z,{"data-testid":"create-schedule",get disabled(){return e(be)},$$events:{click:()=>ot(Qe({namespace:e(T)}))},children:(fe,Ye)=>{oe();var Ke=ce();R(Ze=>I(Ke,Ze),[()=>a("schedules.create")],r),t(fe,Ke)},$$slots:{default:!0}})};V(Ie,Z=>{e(se)||Z(We)})}R((Z,be)=>{I(Te,`${Z??""} `),I(qe,` ${be??""} `)},[()=>a("schedules.getting-started-docs-link-preface"),()=>a("schedules.getting-started-cli-link-preface")],r),t(i,X)},$$slots:{default:!0}})};V(n,s=>{e(B)?s(z):s(A,!1)},k)}};V(f,n=>{e(D)?n(g):n(_,!1)})}t(P,o)},"actions-end-additional":(P,O)=>{At(P,{text:"Configure Columns",top:!0,children:(o,f)=>{Ue(o,{"data-testid":"workflows-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click:pe},children:(g,_)=>{yt(g,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}})});var re=ee(Se,2);const ne=r(()=>a("common.columns")),_e=r(()=>a("common.schedules-table"));_t(re,{get availableColumns(){return e(p)},get table(){return bt.SCHEDULES},get type(){return e(ne)},get title(){return e(_e)},get open(){return e(J)},set open(L){l(J,L)},$$legacy:!0}),t(Y,Ce),ye(),H()}var rs=h("<!> <!>",1);function Hs(Y,F){we(F,!1);const[v,H]=ze(),x=()=>q(Re,"$page",v);ke();var C=rs(),S=ae(C);const u=r(()=>`Schedules | ${x().params.namespace}`);st(S,{get title(){return e(u)},get url(){return x().url.href}});var E=ee(S,2);ss(E,{}),t(Y,C),ye(),H()}export{Hs as component};
