import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Z,f as G,g as t,r as p,b as ee,e as c,n as M,t as W,d as m,c as S,l as oe,a as de,s as Q,m as U,i as ve}from"../chunks/DYX0w8bX.js";import{t as u,c as ie,a,b as j}from"../chunks/Bz76f8pg.js";import{i as te}from"../chunks/CZRFLhJG.js";import{s as re,a as R}from"../chunks/CgU0heln.js";import{p as ae}from"../chunks/DOYgSXUg.js";import{P as fe}from"../chunks/navuEww_.js";import{s as A}from"../chunks/CxFVcq4O.js";import{i as V}from"../chunks/B_BuKjdB.js";import{k as ge}from"../chunks/BADwFS2C.js";import{e as X,i as se}from"../chunks/CgLBepva.js";import{s as ue,c as _e}from"../chunks/BoNO6UAY.js";import{p as ne}from"../chunks/BrXzBH3h.js";import{L as Y}from"../chunks/BPhwjPAO.js";import{t as r}from"../chunks/D2OY9xdY.js";import{f as le,r as ye,t as $e}from"../chunks/DzOyNlRA.js";import{l as xe,m as he}from"../chunks/CePtYCY2.js";import{D as pe,f as be}from"../chunks/mowcktsP.js";import{A as ke}from"../chunks/DPW468Qj.js";import{B as we}from"../chunks/SNXFWeJi.js";import{E as Pe}from"../chunks/C1XTKaKf.js";import{A as De}from"../chunks/_N3SEluQ.js";var Ce=u('<td class="p-2 text-left"><!></td>'),Te=u('<td class="whitespace-pre-line break-words p-2 text-left"><div class="flex flex-col gap-1"><!> <!></div></td>'),Fe=u("<p> </p>"),Le=u('<td class="truncate p-2 text-left"><div class="flex flex-col gap-1"><!> <p> </p></div></td>'),Ve=u('<td class="truncate p-2 text-center"><p><!></p></td>'),We=u("<tr></tr>");function Ae(q,D){Z(D,!1);const[C,I]=re(),T=()=>R(ae,"$page",C),y=()=>R($e,"$timeFormat",C),b=()=>R(ye,"$relativeTime",C);let i=ne(D,"deployment",8),z=ne(D,"columns",8);te();var B=We();X(B,5,z,({label:F})=>F,(F,H)=>{let $=()=>t(H).label;var k=ie(),J=G(k);{var K=w=>{var L=Ce(),v=c(L);const h=m(()=>xe({namespace:T().params.namespace,deployment:i().name}));Y(v,{get href(){return t(h)},children:(e,o)=>{M();var s=j();W(()=>A(s,i().name)),a(e,s)},$$slots:{default:!0}}),p(L),a(w,L)},N=(w,L)=>{{var v=e=>{var o=Te(),s=c(o),f=c(s);{var n=d=>{const g=m(()=>r("deployments.ramping-percentage",{percentage:i().routingConfig.rampingVersionPercentage}));pe(d,{status:"Ramping",get version(){return i().routingConfig.rampingVersion},get label(){return t(g)}})};V(f,d=>{i().routingConfig.rampingVersion&&d(n)})}var l=S(f,2);const _=m(()=>r("deployments.current"));pe(l,{status:"Current",get version(){return i().routingConfig.currentVersion},get label(){return t(_)}}),p(s),p(o),a(e,o)},h=(e,o)=>{{var s=n=>{var l=Le(),_=c(l),d=c(_);{var g=x=>{var O=Fe(),me=c(O,!0);p(O),W(ce=>A(me,ce),[()=>le(i().routingConfig.rampingVersionChangedTime,y(),{relative:b()})],m),a(x,O)};V(d,x=>{i().routingConfig.rampingVersionChangedTime&&x(g)})}var P=S(d,2),E=c(P,!0);p(P),p(_),p(l),W(x=>A(E,x),[()=>le(i().createTime,y(),{relative:b()})],m),a(n,l)},f=(n,l)=>{{var _=d=>{var g=Ve(),P=c(g),E=c(P);const x=m(()=>he({namespace:T().params.namespace,query:`TemporalWorkerDeployment="${i().name}"`}));Y(E,{icon:"external-link",get href(){return t(x)}}),p(P),p(g),a(d,g)};V(n,d=>{$()===r("deployments.workflows")&&d(_)},l)}};V(e,n=>{$()===r("deployments.deployed")?n(s):n(f,!1)},o)}};V(w,e=>{$()===r("deployments.deployment-version")?e(v):e(h,!1)},L)}};V(J,w=>{$()===r("deployments.name")?w(K):w(N,!1)})}a(F,k)}),p(B),a(q,B),ee(),I()}var Be=u('<caption class="sr-only" slot="caption"> </caption>'),Ee=u('<div class="flex flex-col gap-4" slot="header"><div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div></div>'),Se=u("<th> </th>"),qe=u('<tr slot="headers" class="text-left"></tr>'),Ie=u('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),Me=u('<div class="flex flex-col gap-4"><!></div>');function Re(q,D){Z(D,!1);const[C,I]=re(),T=()=>R(ae,"$page",C),y=U(),b=U();let i=U("");const z=$=>{var k;Q(i,((k=$==null?void 0:$.body)===null||k===void 0?void 0:k.message)||r("deployments.error-message-fetching"))},B=[{label:r("deployments.name")},{label:r("deployments.deployment-version")},{label:r("deployments.deployed")},{label:r("deployments.workflows")}];oe(()=>T(),()=>{Q(y,T().params.namespace)}),oe(()=>t(y),()=>{Q(b,()=>(Q(i,""),be(t(y),"",z)))}),de(),te();var F=Me(),H=c(F);ge(H,()=>[t(y)],$=>{const k=m(()=>r("deployments.deployments")),J=m(()=>r("common.per-page")),K=m(()=>r("common.next")),N=m(()=>r("common.previous")),w=m(()=>r("deployments.empty-state-title")),L=m(()=>r("deployments.error-message-fetching"));De($,{get onFetch(){return t(b)},onError:z,get"aria-label"(){return t(k)},get pageSizeSelectLabel(){return t(J)},get nextButtonLabel(){return t(K)},get previousButtonLabel(){return t(N)},get emptyStateMessage(){return t(w)},get errorMessage(){return t(L)},children:ve,$$slots:{default:(v,h)=>{const e=m(()=>h.visibleItems);var o=ie(),s=G(o);X(s,1,()=>t(e),se,(f,n)=>{Ae(f,{get deployment(){return t(n)},columns:B})}),a(v,o)},caption:(v,h)=>{var e=Be(),o=c(e,!0);p(e),W(s=>A(o,s),[()=>r("deployments.deployments")],m),a(v,e)},header:(v,h)=>{var e=Ee(),o=c(e),s=c(o),f=c(s,!0);p(s);var n=S(s,2);we(n,{class:"shrink-0",children:(l,_)=>{M();var d=j("Pre-Release");a(l,d)},$$slots:{default:!0}}),p(o),p(e),W(l=>A(f,l),[()=>r("deployments.worker-deployments")],m),a(v,e)},headers:(v,h)=>{var e=qe();X(e,5,()=>B,se,(o,s,f)=>{let n=()=>t(s).label;var l=Se();ue(l,1,_e(f===0&&"w-full"));var _=c(l,!0);p(l),W(()=>A(_,n())),a(o,l)}),p(e),a(v,e)},empty:(v,h)=>{const e=m(()=>r("deployments.empty-state-title"));Pe(v,{get title(){return t(e)},class:"px-4",children:(o,s)=>{var f=Ie(),n=G(f),l=S(c(n));Y(l,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(g,P)=>{M();var E=j("Learn more");a(g,E)},$$slots:{default:!0}}),M(),p(n);var _=S(n,2);{var d=g=>{ke(g,{intent:"warning",icon:"warning",class:"px-12",children:(P,E)=>{M();var x=j();W(()=>A(x,t(i))),a(P,x)},$$slots:{default:!0}})};V(_,g=>{t(i)&&g(d)})}a(o,f)},$$slots:{default:!0}})}}})}),p(F),a(q,F),ee(),I()}var ze=u("<!> <!>",1);function ct(q,D){Z(D,!1);const[C,I]=re(),T=()=>R(ae,"$page",C);te();var y=ze(),b=G(y);fe(b,{title:"Deployments",get url(){return T().url.href}});var i=S(b,2);Re(i,{}),a(q,y),ee(),I()}export{ct as component};
