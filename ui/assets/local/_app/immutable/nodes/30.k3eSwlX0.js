import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as _e,aK as l,g as e,f as me,r as a,b as ge,e as s,n as H,t as y,c as b,aL as De,s as he,i as Te}from"../chunks/DYX0w8bX.js";import{t as m,c as Pe,a as r,b as re}from"../chunks/Bz76f8pg.js";import{i as Ie}from"../chunks/CZRFLhJG.js";import{s as Ve,a as de}from"../chunks/CgU0heln.js";import{p as we}from"../chunks/DSa-87So.js";import{P as Se}from"../chunks/navuEww_.js";import{s as _}from"../chunks/CxFVcq4O.js";import{i as V}from"../chunks/B_BuKjdB.js";import{k as Be}from"../chunks/BADwFS2C.js";import{e as fe,i as be}from"../chunks/CgLBepva.js";import{p as Fe}from"../chunks/CJRdbost.js";import{L as ye}from"../chunks/C6S4L6P5.js";import{t as o}from"../chunks/D2OY9xdY.js";import{f as ce,r as Le,t as Ce}from"../chunks/DzOyNlRA.js";import{g as ke}from"../chunks/DhXZ3X_M.js";import{g as We,m as Ae}from"../chunks/D3vHw1qr.js";import{D as ue,f as Ee}from"../chunks/CZiFf6p7.js";import{A as Me}from"../chunks/DPW468Qj.js";import{B as Re}from"../chunks/SNXFWeJi.js";import{E as je}from"../chunks/C1XTKaKf.js";import{A as qe}from"../chunks/qjRtTAJ_.js";var ze=m('<td class="py-1 text-left"><!></td>'),Ke=m('<div class="flex items-center gap-2"> <!></div>'),Ne=m('<div class="flex items-center gap-2"> <!></div>'),Qe=m('<td class="whitespace-pre-line break-words py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <div class="flex items-center gap-2"> <!></div></div></td>'),Ge=m("<p> </p>"),He=m("<p> </p>"),Je=m('<td class="truncate py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <p> </p></div></td>'),Oe=m('<td class="w-24 truncate py-1"><!></td>'),Ue=m("<tr></tr>");function Xe(J,t){_e(t,!0);const[k,q]=Ve(),z=()=>de(we,"$page",k),w=()=>de(Ce,"$timeFormat",k),D=()=>de(Le,"$relativeTime",k);var T,O,I,S,U,X,Y,Z,$,c;const g=l(()=>(O=(T=t.deployment===null||t.deployment===void 0?void 0:t.deployment.latestVersionSummary)===null||T===void 0?void 0:T.deploymentVersion)===null||O===void 0?void 0:O.buildId),n=l(()=>((S=(I=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||I===void 0?void 0:I.deploymentVersion)===null||S===void 0?void 0:S.buildId)||ke((U=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||U===void 0?void 0:U.rampingVersion)),p=l(()=>((X=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||X===void 0?void 0:X.createTime)||((Y=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||Y===void 0?void 0:Y.rampingVersionChangedTime)),u=l(()=>(($=(Z=t.deployment===null||t.deployment===void 0?void 0:t.deployment.currentVersionSummary)===null||Z===void 0?void 0:Z.deploymentVersion)===null||$===void 0?void 0:$.buildId)||ke((c=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||c===void 0?void 0:c.currentVersion)),x=l(()=>e(g)!==e(n)&&e(g)!==e(u));var v=Ue();fe(v,21,()=>t.columns,({label:h})=>h,(h,oe)=>{let F=()=>e(oe).label;var L=Pe(),ae=me(L);{var ne=K=>{var ee=ze(),ve=s(ee);const pe=l(()=>We({namespace:z().params.namespace,deployment:t.deployment.name}));ye(ve,{get href(){return e(pe)},children:(C,N)=>{H();var M=re();y(()=>_(M,t.deployment.name)),r(C,M)},$$slots:{default:!0}}),a(ee),r(K,ee)},le=(K,ee)=>{{var ve=C=>{var N=Qe(),M=s(N),se=s(M);{var W=f=>{var P=Ke(),i=s(P),d=b(i);const R=l(()=>o("deployments.latest"));ue(d,{status:"Latest",get label(){return e(R)}}),a(P),y(()=>_(i,`${e(g)??""} `)),r(f,P)};V(se,f=>{e(g)&&e(x)&&f(W)})}var A=b(se,2);{var Q=f=>{var P=Ne(),i=s(P),d=b(i);{var R=j=>{const ie=l(()=>o("deployments.ramping-percentage",{percentage:t.deployment.routingConfig.rampingVersionPercentage}));ue(j,{status:"Ramping",get label(){return e(ie)}})};V(d,j=>{var ie,xe;(xe=(ie=t.deployment)==null?void 0:ie.routingConfig)!=null&&xe.rampingVersionPercentage&&j(R)})}a(P),y(()=>_(i,`${e(n)??""} `)),r(f,P)};V(A,f=>{e(n)&&f(Q)})}var B=b(A,2),E=s(B),G=b(E);const te=l(()=>o("deployments.current"));ue(G,{status:"Current",get label(){return e(te)}}),a(B),a(M),a(N),y(()=>_(E,`${e(u)??""} `)),r(C,N)},pe=(C,N)=>{{var M=W=>{var A=Je(),Q=s(A),B=s(Q);{var E=i=>{var d=Ge(),R=s(d,!0);a(d),y(j=>_(R,j),[()=>ce(t.deployment.latestVersionSummary.createTime,w(),{relative:D()})]),r(i,d)};V(B,i=>{var d;e(g)&&e(x)&&((d=t.deployment.latestVersionSummary)!=null&&d.createTime)&&i(E)})}var G=b(B,2);{var te=i=>{var d=He(),R=s(d,!0);a(d),y(j=>_(R,j),[()=>ce(e(p),w(),{relative:D()})]),r(i,d)};V(G,i=>{e(n)&&e(p)&&i(te)})}var f=b(G,2),P=s(f,!0);a(f),a(Q),a(A),y(i=>_(P,i),[()=>ce(t.deployment.createTime,w(),{relative:D()})]),r(W,A)},se=(W,A)=>{{var Q=B=>{var E=Oe(),G=s(E);const te=l(()=>Ae({namespace:z().params.namespace,query:`TemporalWorkerDeployment="${t.deployment.name}"`}));ye(G,{icon:"external-link",get href(){return e(te)},children:(f,P)=>{H();var i=re();y(d=>_(i,d),[()=>o("deployments.go-to-workflows")]),r(f,i)},$$slots:{default:!0}}),a(E),r(B,E)};V(W,B=>{F()===o("deployments.actions")&&B(Q)},A)}};V(C,W=>{F()===o("deployments.deployed")?W(M):W(se,!1)},N)}};V(K,C=>{F()===o("deployments.build-id")?C(ve):C(pe,!1)},ee)}};V(ae,K=>{F()===o("deployments.name")?K(ne):K(le,!1)})}r(h,L)}),a(v),r(J,v),ge(),q()}var Ye=m('<caption class="sr-only" slot="caption"> </caption>'),Ze=m('<div class="flex flex-col gap-4" slot="header"><div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div></div>'),$e=m("<th> </th>"),et=m('<tr slot="headers" class="text-left"></tr>'),tt=m('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),rt=m('<div class="flex flex-col gap-4"><!></div>');function ot(J,t){_e(t,!0);let k=De("");const q=l(()=>Fe.params.namespace),z=l(()=>()=>(he(k,""),Ee(e(q),"",w))),w=I=>{var S;he(k,((S=I==null?void 0:I.body)===null||S===void 0?void 0:S.message)||o("deployments.error-message-fetching"),!0)},D=[{label:o("deployments.name")},{label:o("deployments.build-id")},{label:o("deployments.deployed")},{label:o("deployments.actions")}];var T=rt(),O=s(T);Be(O,()=>[e(q)],I=>{const S=l(()=>o("deployments.deployments")),U=l(()=>o("common.per-page")),X=l(()=>o("common.next")),Y=l(()=>o("common.previous")),Z=l(()=>o("deployments.empty-state-title")),$=l(()=>o("deployments.error-message-fetching"));qe(I,{get onFetch(){return e(z)},onError:w,get"aria-label"(){return e(S)},get pageSizeSelectLabel(){return e(U)},get nextButtonLabel(){return e(X)},get previousButtonLabel(){return e(Y)},get emptyStateMessage(){return e(Z)},get errorMessage(){return e($)},children:Te,$$slots:{default:(c,g)=>{const n=l(()=>g.visibleItems);var p=Pe(),u=me(p);fe(u,17,()=>e(n),be,(x,v)=>{Xe(x,{get deployment(){return e(v)},columns:D})}),r(c,p)},caption:(c,g)=>{var n=Ye(),p=s(n,!0);a(n),y(u=>_(p,u),[()=>o("deployments.deployments")]),r(c,n)},header:(c,g)=>{var n=Ze(),p=s(n),u=s(p),x=s(u,!0);a(u);var v=b(u,2);Re(v,{class:"shrink-0",children:(h,oe)=>{H();var F=re("Pre-Release");r(h,F)},$$slots:{default:!0}}),a(p),a(n),y(h=>_(x,h),[()=>o("deployments.worker-deployments")]),r(c,n)},headers:(c,g)=>{var n=et();fe(n,21,()=>D,be,(p,u)=>{let x=()=>e(u).label;var v=$e(),h=s(v,!0);a(v),y(()=>_(h,x())),r(p,v)}),a(n),r(c,n)},empty:(c,g)=>{const n=l(()=>o("deployments.empty-state-title"));je(c,{get title(){return e(n)},class:"px-4",children:(p,u)=>{var x=tt(),v=me(x),h=b(s(v));ye(h,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(L,ae)=>{H();var ne=re("Learn more");r(L,ne)},$$slots:{default:!0}}),H(),a(v);var oe=b(v,2);{var F=L=>{Me(L,{intent:"warning",icon:"warning",class:"px-12",children:(ae,ne)=>{H();var le=re();y(()=>_(le,e(k))),r(ae,le)},$$slots:{default:!0}})};V(oe,L=>{e(k)&&L(F)})}r(p,x)},$$slots:{default:!0}})}}})}),a(T),r(J,T),ge()}var at=m("<!> <!>",1);function It(J,t){_e(t,!1);const[k,q]=Ve(),z=()=>de(we,"$page",k);Ie();var w=at(),D=me(w);Se(D,{title:"Deployments",get url(){return z().url.href}});var T=b(D,2);ot(T,{}),r(J,w),ge(),q()}export{It as component};
