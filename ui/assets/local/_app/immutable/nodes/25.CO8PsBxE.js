import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as de,e as o,r as a,c as n,t as $,d as s,b as ue,f as B,g as e,n as $e,l as Oe,s as c,m as U,ah as Br,az as ut,a as Qt}from"../chunks/DYX0w8bX.js";import{t as b,a as u,b as ce,c as Me}from"../chunks/Bz76f8pg.js";import{i as ve}from"../chunks/CZRFLhJG.js";import{s as et,a as ae,b as We}from"../chunks/CgU0heln.js";import{p as Vt}from"../chunks/r-PpyO62.js";import{P as Hr}from"../chunks/navuEww_.js";import{s as d}from"../chunks/CxFVcq4O.js";import{a as Gt}from"../chunks/BS7N7SXQ.js";import{i as Pe}from"../chunks/B_BuKjdB.js";import{e as Be,i as Ze}from"../chunks/CgLBepva.js";import{w as jr}from"../chunks/DsexP6Wk.js";import{g as Er}from"../chunks/Cqkd3idL.js";import{C as Nr}from"../chunks/B5ieTp04.js";import{p as j,l as Qr}from"../chunks/BrXzBH3h.js";import{A as Jt}from"../chunks/DNgFeJjM.js";import{t as r}from"../chunks/D2OY9xdY.js";import{s as Vr}from"../chunks/CFGOF_JX.js";import{s as Gr}from"../chunks/BoNO6UAY.js";import{S as Jr}from"../chunks/BZxm5gqJ.js";import{I as Kr}from"../chunks/bByi-JaQ.js";import{s as Xr}from"../chunks/CTBtQUu0.js";import{E as Kt}from"../chunks/C1XTKaKf.js";import{L as qe}from"../chunks/Cj5NQmzx.js";import{y as Yr,k as Lt,r as Zr,w as es}from"../chunks/CZ9ukivc.js";import{f as He,r as vt,t as pt,g as zt}from"../chunks/DzOyNlRA.js";import{d as Xt}from"../chunks/BOkQ1rrX.js";import{m as ts,b as rs,p as Je,y as ss}from"../chunks/DiYIevVH.js";import{W as Yt}from"../chunks/BNr3lY2V.js";import{d as as}from"../chunks/CeXtBg5U.js";import{p as os,s as Ie,q as ls}from"../chunks/qEOT7B5E.js";import{W as ns}from"../chunks/Bghpvykx.js";import{B as Ot}from"../chunks/BesGWwka.js";import{D as qt,T as Bt}from"../chunks/EY9Zt4o4.js";import{I as is}from"../chunks/BExi9zWc.js";import{I as cs}from"../chunks/BgCZ4XhP.js";import{L as Ht}from"../chunks/724y1XB3.js";import{d as Ke}from"../chunks/BnzsqTWD.js";import{M as Xe}from"../chunks/DubtWomI.js";import{R as jt,a as Et}from"../chunks/DjSFcTzd.js";import{S as ds}from"../chunks/BSffviOV.js";import{T as us,b as vs}from"../chunks/CkvU9QX_.js";import{f as ze,l as Ye,u as ps,p as ms,t as fs,d as _s,g as gs}from"../chunks/BPQH0Dbd.js";import{c as hs}from"../chunks/DaQJZaOx.js";var $s=b('<div><h2 class="mb-4"> </h2> <p> </p></div>');function xs(P,p){de(p,!1);let f=j(p,"notes",8,"");ve();var k=$s(),x=o(k),y=o(x,!0);a(x);var T=n(x,2),C=o(T,!0);a(T),a(k),$(W=>{d(y,W),d(C,f())},[()=>r("common.notes")],s),u(P,k),ue()}var ws=b('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),bs=b('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li></ul>'),ys=b("<!> <!>",1);function ks(P,p){de(p,!1);let f=j(p,"spec",8),k=j(p,"state",8),x=j(p,"policies",8),y=j(p,"notes",8,"");ve();var T=ys(),C=B(T);xs(C,{get notes(){return y()}});var W=n(C,2);const E=s(()=>r("schedules.advanced-settings"));Jt(W,{get title(){return e(E)},children:(M,J)=>{var g=bs(),h=o(g),q=o(h),O=n(q),H=o(O,!0);a(O),a(h);var Q=n(h,2),N=o(Q),K=n(N),pe=o(K,!0);a(K),a(Q);var w=n(Q,2),A=o(w),L=n(A),X=o(L,!0);a(L),a(w);var V=n(w,2),te=o(V),re=n(te),xe=o(re,!0);a(re),a(V);var me=n(V,2);{var fe=S=>{var F=ws(),ne=o(F),se=n(ne),ye=o(se,!0);a(se),a(F),$((ke,Fe)=>{d(ne,`${ke??""} `),d(ye,Fe)},[()=>r("schedules.remaining-actions"),()=>{var ke;return((ke=k())==null?void 0:ke.remainingActions)??r("common.none")}],s),u(S,F)};Pe(me,S=>{var F;(F=k())!=null&&F.limitedActions&&S(fe)})}var oe=n(me,2),le=o(oe),_e=n(le),ge=o(_e,!0);a(_e),a(oe),a(g),$((S,F,ne,se,ye,ke,Fe,tt,Ee,rt)=>{d(q,`${S??""} `),d(H,F),d(N,`${ne??""} `),d(pe,se),d(A,`${ye??""} `),d(X,ke),d(te,`${Fe??""} `),d(xe,tt),d(le,`${Ee??""} `),d(ge,rt)},[()=>r("schedules.start-time"),()=>{var S;return((S=f())==null?void 0:S.startTime)??r("common.none")},()=>r("schedules.end-time"),()=>{var S;return((S=f())==null?void 0:S.endTime)??r("common.none")},()=>r("schedules.jitter"),()=>{var S;return((S=f())==null?void 0:S.jitter)??r("common.none")},()=>r("schedules.exclusion-calendar"),()=>{var S,F;return((F=(S=f())==null?void 0:S.excludeCalendar)==null?void 0:F[0])??r("common.none")},()=>r("schedules.overlap-policy"),()=>{var S;return((S=x())==null?void 0:S.overlapPolicy)??r("common.none")}],s),u(M,g)},$$slots:{default:!0}}),u(P,T),ue()}var Ts=b("<div><!></div>");function je(P,p){const f=Qr(p,["children","$$slots","$$events","$$legacy"]);de(p,!1);let k=j(p,"error",8,!1);ve();var x=Ts();let y;var T=o(x);Vr(T,p,"default",{},null),a(x),$(C=>y=Gr(x,1,`panel surface-primary ${f.class??""}`,"svelte-eklrpl",y,C),[()=>({error:k()})],s),u(P,x),ue()}var Ss=b('<p class="error-text svelte-130heqv"> </p> <p class="error-text svelte-130heqv"> </p>',1);function Nt(P,p){de(p,!1);let f=j(p,"error",8,"");ve(),je(P,{error:!0,children:(k,x)=>{var y=Ss(),T=B(y),C=o(T,!0);a(T);var W=n(T,2),E=o(W,!0);a(W),$(M=>{d(C,M),d(E,f())},[()=>r("schedules.error-title")],s),u(k,y)},$$slots:{default:!0}}),ue()}var Ps=b('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Cs(P,p){de(p,!1);let f=j(p,"calendar",8,void 0),k=j(p,"interval",8,void 0),x=j(p,"timezoneName",8,"UTC");ve(),je(P,{children:(y,T)=>{var C=Ps(),W=B(C),E=o(W,!0);a(W);var M=n(W,2),J=o(M);Jr(J,{get calendar(){return f()},get interval(){return k()},get timezoneName(){return x()},class:"text-base"}),a(M),$(g=>d(E,g),[()=>r("schedules.schedule-spec")],s),u(y,C)},$$slots:{default:!0}}),ue()}function As(P,p){de(p,!1);let f=j(p,"input",8);ve(),je(P,{children:(k,x)=>{const y=s(()=>r("schedules.schedule-input")),T=s(()=>Xr(f()));Kr(k,{get title(){return e(y)},get content(){return e(T)}})},$$slots:{default:!0}}),ue()}var Ds=b('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><p> </p></div></div>'),Is=b('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><p> </p></div></div>'),Ms=b('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function Rs(P,p){de(p,!1);const[f,k]=et(),x=()=>ae(pt,"$timeFormat",f),y=()=>ae(vt,"$relativeTime",f);let T=j(p,"recentRuns",24,()=>[]),C=j(p,"namespace",8),W=j(p,"workflowQuery",8);const E=M=>{var J,g;return(g=(J=M==null?void 0:M.sort((h,q)=>new Date(q.actualTime).getTime()-new Date(h.actualTime).getTime()))===null||J===void 0?void 0:J.slice(0,5))!==null&&g!==void 0?g:[]};ve(),je(P,{class:"w-full",children:(M,J)=>{var g=Ms(),h=B(g),q=o(h),O=o(q,!0);a(q);var H=n(q,2);const Q=s(()=>ts({namespace:C(),query:W()}));qe(H,{get href(){return e(Q)},children:(w,A)=>{$e();var L=ce();$(X=>d(L,X),[()=>r("common.view-all-runs")],s),u(w,L)},$$slots:{default:!0}}),a(h);var N=n(h,2);Be(N,1,()=>E(T()),w=>{var A;return(A=w==null?void 0:w.startWorkflowResult)==null?void 0:A.workflowId},(w,A)=>{var L=Me(),X=B(L);Gt(X,()=>Yr({namespace:C(),workflowId:Xt(e(A).startWorkflowResult.workflowId),runId:e(A).startWorkflowResult.runId},fetch),null,(V,te)=>{var re=Ds(),xe=o(re),me=o(xe);Yt(me,{get status(){return e(te).status}}),a(xe);var fe=n(xe,2),oe=o(fe);const le=s(()=>rs({workflow:e(A).startWorkflowResult.workflowId,run:e(A).startWorkflowResult.runId,namespace:C()}));qe(oe,{get href(){return e(le)},children:(F,ne)=>{$e();var se=ce();$(()=>d(se,e(A).startWorkflowResult.workflowId)),u(F,se)},$$slots:{default:!0}}),a(fe);var _e=n(fe,2),ge=o(_e),S=o(ge,!0);a(ge),a(_e),a(re),$(F=>d(S,F),[()=>He(e(A).actualTime,x(),{relative:y()})],s),u(V,re)},V=>{var te=Is(),re=n(o(te),2),xe=o(re,!0);a(re);var me=n(re,2),fe=o(me),oe=o(fe,!0);a(fe),a(me),a(te),$(le=>{d(xe,e(A).startWorkflowResult.workflowId),d(oe,le)},[()=>He(e(A).actualTime,x(),{relative:y()})],s),u(V,te)}),u(w,L)});var K=n(N,2);{var pe=w=>{const A=s(()=>r("schedules.recent-runs-empty-state-title"));Kt(w,{get title(){return e(A)}})};Pe(K,w=>{T().length||w(pe)})}$(w=>d(O,w),[()=>r("schedules.recent-runs")],s),u(M,g)},$$slots:{default:!0}}),ue(),k()}const Us=P=>Array.isArray(P)?P.join(", "):P;var Ws=b('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Fs=b('<ul class="w-full"></ul>');function Ls(P,p){de(p,!1);const f=U(),k=U(),x=U();var y=U();let T=j(p,"searchAttributes",8);Oe(()=>Br(T()),()=>{c(f,as({searchAttributes:T()}))}),Oe(()=>(ut(y),e(f)),()=>{c(k,c(y,e(f)===null||e(f)===void 0?void 0:e(f).searchAttributes.indexedFields)!==null&&ut(y)!==void 0?ut(y):{})}),Oe(()=>e(k),()=>{c(x,Object.keys(e(k)).length)}),Qt(),ve();const C=s(()=>r("events.custom-search-attributes")),W=s(()=>`${e(x)} ${r("events.custom-search")} ${os(r("events.attribute"),e(x))}`),E=s(()=>e(x)>0);Jt(P,{get title(){return e(C)},get subtitle(){return e(W)},get expandable(){return e(E)},children:(M,J)=>{var g=Me(),h=B(g);{var q=O=>{var H=Fs();Be(H,5,()=>Object.entries(e(k)),Ze,(Q,N)=>{let K=()=>e(N)[0],pe=()=>e(N)[1];var w=Ws();const A=s(()=>Us(pe()));var L=o(w),X=o(L,!0);a(L);var V=n(L,2),te=o(V,!0);a(V),a(w),$(()=>{d(X,K()),d(te,e(A))}),u(Q,w)}),a(H),u(O,H)};Pe(h,O=>{e(x)&&O(q)})}u(M,g)},$$slots:{default:!0}}),ue()}var zs=b('<div class="row svelte-dqszqh"><p> </p></div>'),Os=b('<h2 class="mb-4"> </h2> <!>',1);function qs(P,p){de(p,!1);const[f,k]=et(),x=()=>ae(pt,"$timeFormat",f),y=()=>ae(vt,"$relativeTime",f);let T=j(p,"futureRuns",24,()=>[]);ve(),je(P,{class:"w-full",children:(C,W)=>{var E=Os(),M=B(E),J=o(M,!0);a(M);var g=n(M,2);Be(g,1,()=>T().slice(0,5),Ze,(h,q)=>{var O=zs(),H=o(O),Q=o(H,!0);a(H),a(O),$(N=>d(Q,N),[()=>He(e(q),x(),{relative:y(),relativeLabel:r("common.from-now")})],s),u(h,O)},h=>{const q=s(()=>r("schedules.upcoming-runs-empty-state-title"));Kt(h,{get title(){return e(q)}})}),$(h=>d(J,h),[()=>r("schedules.upcoming-runs")],s),u(C,E)},$$slots:{default:!0}}),ue(),k()}var Bs=b('<p class="flex items-center gap-2 text-right text-sm"> </p>'),Hs=b("<!> <!> <!> <!>",1),js=b('<div class="w-full xl:w-1/2"><!></div>'),Es=b('<h3 slot="title"> </h3>'),Ns=b('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),Qs=b('<h3 slot="title"> </h3>'),Vs=b('<div slot="content"><!></div>'),Gs=b('<h3 slot="title"> </h3>'),Js=b('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),Ks=b('<h3 slot="title"> </h3>'),Xs=b('<div slot="content"><p> </p></div>'),Ys=b('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <p class="flex items-center gap-2 text-right text-sm"> </p> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),Zs=b('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),ea=b('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function ta(P,p){de(p,!1);const[f,k]=et(),x=()=>ae(Vt,"$page",f),y=()=>ae(te,"$coreUser",f),T=()=>ae(Ye,"$loading",f),C=()=>ae(X,"$overlapPolicy",f),W=()=>ae(pt,"$timeFormat",f),E=()=>ae(vt,"$relativeTime",f),M=()=>ae(es,"$workflowCount",f),J=U();let g=x().params.namespace,h=x().params.schedule,q=`TemporalScheduledById="${h}"`;const O={namespace:g,scheduleId:Xt(h)};let H=U(ze(O)),Q=U(!1),N=U(!1),K=U(!1),pe=U(!1),w=U(""),A=U(""),L=U(!1),X=jr("Unspecified"),V=[{description:r("schedules.trigger-unspecified-description"),label:r("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:r("schedules.trigger-buffer-all-description"),label:r("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:r("schedules.trigger-allow-all-description"),label:r("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:r("schedules.trigger-skip-description"),label:r("schedules.trigger-skip-title"),value:"Skip"},{description:r("schedules.trigger-buffer-one-description"),label:r("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:r("schedules.trigger-cancel-other-description"),label:r("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:r("schedules.trigger-terminate-other-description"),label:r("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],te=hs();const re=async()=>{c(A,"");try{We(Ye,!0),await gs({namespace:g,scheduleId:h}),c(pe,!1),setTimeout(()=>{We(Ye,!1),Er(Je({namespace:g}))},2e3),c(w,"")}catch(D){c(A,r("schedules.delete-schedule-error",{error:D==null?void 0:D.message})),We(Ye,!1)}},xe=async D=>{var m,Y;!((Y=(m=D==null?void 0:D.schedule)===null||m===void 0?void 0:m.state)===null||Y===void 0)&&Y.paused?await ps({namespace:g,scheduleId:h,reason:e(w)}):await ms({namespace:g,scheduleId:h,reason:e(w)}),c(H,ze(O)),c(w,""),c(Q,!1)},me=()=>{c(N,!1),We(X,"Unspecified")},fe=async()=>{c(L,!0),await fs({namespace:g,scheduleId:h,overlapPolicy:C()}),setTimeout(()=>{c(H,ze(O)),me(),c(L,!1)},1e3)};let oe=U(!1),le=U(Ie(new Date)),_e=U(Ie(new Date)),ge=U(""),S=U(""),F=U(""),ne=U(""),se=U(""),ye=U("");const ke=D=>{c(le,Ie(D.detail))},Fe=D=>{c(_e,Ie(D.detail))},tt=()=>{const D=new Date(Date.now()),m=vs(D,1);c(ge,D.getUTCHours().toString()),c(S,D.getUTCMinutes().toString()),c(F,D.getUTCSeconds().toString()),c(ne,m.getUTCHours().toString()),c(se,m.getUTCMinutes().toString()),c(ye,m.getUTCSeconds().toString()),c(le,Ie(new Date)),c(_e,e(ne)<e(ge)?Ie(ls(new Date,1)):Ie(new Date))},Ee=()=>{c(K,!1),c(oe,!1),We(X,"Unspecified")},rt=async()=>{c(L,!0);const D=zt({date:e(le),hour:e(ge),minute:e(S),second:e(F)}),m=zt({date:e(_e),hour:e(ne),minute:e(se),second:e(ye)});await _s({namespace:g,scheduleId:h,overlapPolicy:C(),startTime:D,endTime:m}),setTimeout(()=>{c(H,ze(O)),Ee(),c(L,!1)},1e3)},mt=()=>{c(w,"")};Oe(()=>(y(),Lt),()=>{c(J,y().namespaceWriteDisabled(g)||!Lt())}),Oe(()=>e(K),()=>{e(K)&&tt()}),Qt(),ve();var ft=Me(),Zt=B(ft);Gt(Zt,()=>e(H),D=>{var m=ea(),Y=B(m),Te=o(Y),Ce=o(Te);const Re=s(()=>Je({namespace:g}));qe(Ce,{get href(){return e(Re)},icon:"chevron-left",children:(Ae,Ue)=>{$e();var De=ce();$(Se=>d(De,Se),[()=>r("schedules.back-to-schedules")],s),u(Ae,De)},$$slots:{default:!0}});var he=n(Ce,2);he.textContent=h,a(Te),a(Y);var we=n(Y,2);Ht(we,{}),u(D,m)},(D,m)=>{var Y=Me(),Te=B(Y);{var Ce=he=>{const we=s(()=>r("schedules.deleting"));Ht(he,{get title(){return e(we)},class:"my-2"})},Re=he=>{var we=Ys(),Ae=B(we),Ue=o(Ae),De=o(Ue);const Se=s(()=>Je({namespace:g}));qe(De,{get href(){return e(Se)},icon:"chevron-left",children:(t,i)=>{$e();var l=ce();$(v=>d(l,v),[()=>r("schedules.back-to-schedules")],s),u(t,l)},$$slots:{default:!0}});var Ne=n(De,2),Qe=o(Ne);Qe.textContent=h,a(Ne);var Le=n(Ne,2),_t=o(Le);const er=s(()=>{var t;return(t=e(m))!=null&&t.schedule.state.paused?"Paused":"Running"});Yt(_t,{get status(){return e(er)}});var gt=n(_t,2),tr=o(gt,!0);a(gt),a(Le);var st=n(Le,2),rr=o(st,!0);a(st);var sr=n(st,2);{var ar=t=>{var i=Bs(),l=o(i,!0);a(i),$(v=>d(l,v),[()=>{var v,_;return r("common.last-updated",{updated:He((_=(v=e(m))==null?void 0:v.info)==null?void 0:_.updateTime,W(),{relative:E()})})}],s),u(t,i)};Pe(sr,t=>{var i,l;(l=(i=e(m))==null?void 0:i.info)!=null&&l.updateTime&&t(ar)})}a(Ue);var or=n(Ue,2);const lr=s(()=>{var t,i,l;return(l=(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.state)!=null&&l.paused?r("schedules.unpause"):r("schedules.pause")}),nr=s(()=>r("schedules.schedule-actions"));ds(or,{position:"right",get label(){return e(lr)},get menuLabel(){return e(nr)},id:"schedule-actions",get disabled(){return e(J)},$$events:{click:()=>c(Q,!0)},children:(t,i)=>{var l=Hs(),v=B(l);Ke(v,{"data-testid":"trigger-schedule",$$events:{click:()=>c(N,!0)},children:(Z,ee)=>{$e();var I=ce();$(ie=>d(I,ie),[()=>r("schedules.trigger")],s),u(Z,I)},$$slots:{default:!0}});var _=n(v,2);Ke(_,{"data-testid":"backfill-schedule",$$events:{click:()=>c(K,!0)},children:(Z,ee)=>{$e();var I=ce();$(ie=>d(I,ie),[()=>r("schedules.backfill")],s),u(Z,I)},$$slots:{default:!0}});var R=n(_,2);const G=s(()=>ss({namespace:g,scheduleId:h}));Ke(R,{"data-testid":"edit-schedule",get href(){return e(G)},children:(Z,ee)=>{$e();var I=ce();$(ie=>d(I,ie),[()=>r("common.edit")],s),u(Z,I)},$$slots:{default:!0}});var be=n(R,2);Ke(be,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>c(pe,!0)},children:(Z,ee)=>{$e();var I=ce();$(ie=>d(I,ie),[()=>r("common.delete")],s),u(Z,I)},$$slots:{default:!0}}),u(t,l)},$$slots:{default:!0}}),a(Ae);var ht=n(Ae,2);Nr(ht,{});var at=n(ht,2),$t=o(at);{var ir=t=>{var i=js(),l=o(i);const v=s(()=>{var _,R;return(R=(_=e(m))==null?void 0:_.info)==null?void 0:R.invalidScheduleError});Nt(l,{get error(){return e(v)}}),a(i),u(t,i)};Pe($t,t=>{var i,l;(l=(i=e(m))==null?void 0:i.info)!=null&&l.invalidScheduleError&&t(ir)})}var ot=n($t,2),lt=o(ot),nt=o(lt),xt=o(nt),cr=n(xt);us(cr,{key:"common.workflows-plural",get count(){return M().count}}),a(nt);var dr=n(nt,2);Ot(dr,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{c(H,ze(O)),We(Zr,Date.now())}},children:(t,i)=>{var l=Me(),v=B(l);{var _=R=>{var G=ce();$(be=>d(G,`+${be??""}`),[()=>M().newCount.toLocaleString()],s),u(R,G)};Pe(v,R=>{M().newCount>0&&R(_)})}u(t,l)},$$slots:{default:!0}}),a(lt);var ur=n(lt,2);ns(ur,{staticQuery:q}),a(ot);var wt=n(ot,2),it=o(wt),bt=o(it);const vr=s(()=>{var t,i;return(i=(t=e(m))==null?void 0:t.info)==null?void 0:i.recentActions});Rs(bt,{namespace:g,get recentRuns(){return e(vr)},workflowQuery:q});var yt=n(bt,2);const pr=s(()=>{var t,i;return(i=(t=e(m))==null?void 0:t.info)==null?void 0:i.futureActionTimes});qs(yt,{get futureRuns(){return e(pr)}});var kt=n(yt,2);const mr=s(()=>{var t,i;return(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.spec}),fr=s(()=>{var t,i;return(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.state}),_r=s(()=>{var t,i;return(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.policies}),gr=s(()=>{var t,i,l;return(l=(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.state)==null?void 0:l.notes});ks(kt,{get spec(){return e(mr)},get state(){return e(fr)},get policies(){return e(_r)},get notes(){return e(gr)}});var hr=n(kt,2);const $r=s(()=>{var t;return((t=e(m))==null?void 0:t.searchAttributes)??{}});Ls(hr,{get searchAttributes(){return e($r)}}),a(it);var Tt=n(it,2),St=o(Tt);const xr=s(()=>{var t,i,l,v;return(v=(l=(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.action)==null?void 0:l.startWorkflow)==null?void 0:v.input});As(St,{get input(){return e(xr)}});var wr=n(St,2);const br=s(()=>{var t,i,l,v;return(v=(l=(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.spec)==null?void 0:l.structuredCalendar)==null?void 0:v[0]}),yr=s(()=>{var t,i,l,v;return(v=(l=(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.spec)==null?void 0:l.interval)==null?void 0:v[0]}),kr=s(()=>{var t,i,l;return(l=(i=(t=e(m))==null?void 0:t.schedule)==null?void 0:i.spec)==null?void 0:l.timezoneName});Cs(wr,{get calendar(){return e(br)},get interval(){return e(yr)},get timezoneName(){return e(kr)}}),a(Tt),a(wt),a(at);var Pt=n(at,2);const Tr=s(()=>{var t;return(t=e(m))!=null&&t.schedule.state.paused?r("schedules.unpause"):r("schedules.pause")}),Sr=s(()=>r("common.cancel")),Pr=s(()=>!e(w));Xe(Pt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(Tr)},get cancelText(){return e(Sr)},get confirmDisabled(){return e(Pr)},get open(){return e(Q)},set open(t){c(Q,t)},$$events:{confirmModal:()=>xe(e(m)),cancelModal:mt},$$slots:{title:(t,i)=>{var l=Es(),v=o(l,!0);a(l),$(_=>d(v,_),[()=>{var _;return(_=e(m))!=null&&_.schedule.state.paused?r("schedules.unpause-modal-title"):r("schedules.pause-modal-title")}],s),u(t,l)},content:(t,i)=>{var l=Ns(),v=o(l),_=o(v,!0);a(v);var R=n(v,2),G=o(R,!0);a(R);var be=n(R,2);const Z=s(()=>r("common.reason")),ee=s(()=>r("common.reason"));cs(be,{id:"pause-reason",get placeholder(){return e(Z)},get label(){return e(ee)},labelHidden:!0,get value(){return e(w)},set value(I){c(w,I)},$$legacy:!0}),a(l),$((I,ie)=>{d(_,I),d(G,ie)},[()=>{var I;return(I=e(m))!=null&&I.schedule.state.paused?r("schedules.unpause-modal-confirmation",{schedule:h}):r("schedules.pause-modal-confirmation",{schedule:h})},()=>{var I;return(I=e(m))!=null&&I.schedule.state.paused?r("schedules.unpause-reason"):r("schedules.pause-reason")}],s),u(t,l)}},$$legacy:!0});var Ct=n(Pt,2);const Cr=s(()=>r("schedules.trigger")),Ar=s(()=>r("common.cancel"));Xe(Ct,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Cr)},get cancelText(){return e(Ar)},get loading(){return e(L)},get open(){return e(N)},set open(t){c(N,t)},$$events:{confirmModal:()=>fe(),cancelModal:me},$$slots:{title:(t,i)=>{var l=Qs(),v=o(l,!0);a(l),$(_=>d(v,_),[()=>r("schedules.trigger-modal-title")],s),u(t,l)},content:(t,i)=>{var l=Vs(),v=o(l);jt(v,{group:X,name:"trigger-event-id",class:"h-auto overflow-auto",children:(_,R)=>{var G=Me(),be=B(G);Be(be,1,()=>V,Ze,(Z,ee)=>{Et(Z,{get id(){return e(ee).value},get value(){return e(ee).value},get label(){return e(ee).label},get description(){return e(ee).description}})}),u(_,G)},$$slots:{default:!0}}),a(l),u(t,l)}},$$legacy:!0});var At=n(Ct,2);const Dr=s(()=>r("schedules.schedule")),Ir=s(()=>r("common.cancel"));Xe(At,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Dr)},get cancelText(){return e(Ir)},get loading(){return e(L)},get open(){return e(K)},set open(t){c(K,t)},$$events:{confirmModal:()=>rt(),cancelModal:Ee},$$slots:{title:(t,i)=>{var l=Gs(),v=o(l);a(l),$((_,R)=>d(v,`${_??""}
        ${R??""}`),[()=>r("schedules.schedule"),()=>r("schedules.backfill")],s),u(t,l)},content:(t,i)=>{var l=Js(),v=o(l),_=o(v);const R=s(()=>r("common.start")),G=s(()=>r("common.today")),be=s(()=>r("common.close")),Z=s(()=>r("common.clear-input-button-label"));qt(_,{get label(){return e(R)},get selected(){return e(le)},get todayLabel(){return e(G)},get closeLabel(){return e(be)},get clearLabel(){return e(Z)},$$events:{datechange:ke}});var ee=n(_,2);Bt(ee,{twelveHourClock:!1,get hour(){return e(ge)},set hour(z){c(ge,z)},get minute(){return e(S)},set minute(z){c(S,z)},get second(){return e(F)},set second(z){c(F,z)},$$legacy:!0});var I=n(ee,2);const ie=s(()=>r("common.end")),Wr=s(()=>r("common.today")),Fr=s(()=>r("common.close")),Lr=s(()=>r("common.clear-input-button-label"));qt(I,{get label(){return e(ie)},get selected(){return e(_e)},get todayLabel(){return e(Wr)},get closeLabel(){return e(Fr)},get clearLabel(){return e(Lr)},$$events:{datechange:Fe}});var Dt=n(I,2);Bt(Dt,{twelveHourClock:!1,get hour(){return e(ne)},set hour(z){c(ne,z)},get minute(){return e(se)},set minute(z){c(se,z)},get second(){return e(ye)},set second(z){c(ye,z)},$$legacy:!0});var It=n(Dt,2),Mt=o(It);is(Mt,{name:"clock","aria-hidden":"true"});var Rt=n(Mt,2),zr=o(Rt);a(Rt),a(It),a(v);var Ut=n(v,4),Wt=o(Ut);jt(Wt,{group:X,name:"backfill-event-id",class:"h-auto overflow-auto",children:(z,Ft)=>{var ct=Me(),Ve=B(ct);Be(Ve,1,()=>V.slice(0,e(oe)?V.length:3),Ze,(dt,Ge)=>{Et(dt,{get id(){return e(Ge).value},get value(){return e(Ge).value},get label(){return e(Ge).label},get description(){return e(Ge).description}})}),u(z,ct)},$$slots:{default:!0}});var Or=n(Wt,2);{var qr=z=>{Ot(z,{variant:"ghost",size:"xs",$$events:{click:()=>c(oe,!0)},children:(Ft,ct)=>{$e();var Ve=ce();$(dt=>d(Ve,dt),[()=>r("schedules.more-options")],s),u(Ft,Ve)},$$slots:{default:!0}})};Pe(Or,z=>{e(oe)||z(qr)})}a(Ut),a(l),$(z=>d(zr,`${z??""} Universal Standard Time
              (UTC)`),[()=>r("common.based-on-time-preface")],s),u(t,l)}},$$legacy:!0});var Mr=n(At,2);const Rr=s(()=>r("common.delete")),Ur=s(()=>r("common.cancel"));Xe(Mr,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Rr)},get cancelText(){return e(Ur)},get open(){return e(pe)},set open(t){c(pe,t)},get error(){return e(A)},set error(t){c(A,t)},$$events:{confirmModal:re,cancelModal:mt},$$slots:{title:(t,i)=>{var l=Ks(),v=o(l,!0);a(l),$(_=>d(v,_),[()=>r("schedules.delete-modal-title")],s),u(t,l)},content:(t,i)=>{var l=Xs(),v=o(l),_=o(v,!0);a(v),a(l),$(R=>d(_,R),[()=>r("schedules.delete-modal-confirmation",{schedule:h})],s),u(t,l)}},$$legacy:!0}),$((t,i)=>{var l,v,_,R,G;d(tr,(G=(R=(_=(v=(l=e(m))==null?void 0:l.schedule)==null?void 0:v.action)==null?void 0:_.startWorkflow)==null?void 0:R.workflowType)==null?void 0:G.name),d(rr,t),d(xt,`${i??""} `)},[()=>{var t,i;return r("common.created",{created:He((i=(t=e(m))==null?void 0:t.info)==null?void 0:i.createTime,W(),{relative:E()})})},()=>M().count.toLocaleString()],s),u(he,we)};Pe(Te,he=>{T()?he(Ce):he(Re,!1)})}u(D,Y)},(D,m)=>{var Y=Zs(),Te=B(Y),Ce=o(Te),Re=o(Ce);const he=s(()=>Je({namespace:g}));qe(Re,{get href(){return e(he)},icon:"chevron-left",children:(Se,Ne)=>{$e();var Qe=ce();$(Le=>d(Qe,Le),[()=>r("schedules.back-to-schedules")],s),u(Se,Qe)},$$slots:{default:!0}});var we=n(Re,2);we.textContent=h;var Ae=n(we,2);Ae.textContent=g,a(Ce),a(Te);var Ue=n(Te,2);const De=s(()=>{var Se;return(Se=e(m))==null?void 0:Se.message});Nt(Ue,{get error(){return e(De)}}),u(D,Y)}),u(P,ft),ue(),k()}var ra=b("<!> <!>",1);function Ga(P,p){de(p,!1);const[f,k]=et(),x=()=>ae(Vt,"$page",f),y=x().params.schedule;ve();var T=ra(),C=B(T);Hr(C,{title:`Schedule | ${y}`,get url(){return x().url.href}});var W=n(C,2);ta(W,{}),u(P,T),ue(),k()}export{Ga as component};
