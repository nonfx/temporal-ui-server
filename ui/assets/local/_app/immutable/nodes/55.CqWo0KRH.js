import"../chunks/CWj6FrbW.js";import{p as H,aC as ae,a9 as oe,e as ne,f as L,g as t,d as v,b as M,s as W,az as p,t as P,h as a,r as s,i as Q,c as i,n as B,k as E,A as ie}from"../chunks/DSxqszTl.js";import{s as le,a as de}from"../chunks/CZBNCVvj.js";import{p as ce}from"../chunks/CUNlH1jR.js";import{P as ue}from"../chunks/DTWo_ajL.js";import{s as b}from"../chunks/CXaSvchK.js";import{i as K}from"../chunks/BAt4aHTa.js";import{A as pe}from"../chunks/DlVC6YhT.js";import{g as ve}from"../chunks/7syv9kxl.js";import{p as me}from"../chunks/756y7qLl.js";import{t as A}from"../chunks/D2OY9xdY.js";import{e as fe,i as _e}from"../chunks/B5GJuRxG.js";import{s as ge}from"../chunks/Nsxp-0jx.js";import{p as G}from"../chunks/Bp73-jql.js";import{B as xe}from"../chunks/BNjt3-8z.js";import{C as ke}from"../chunks/BtDXSW2e.js";import{L as D}from"../chunks/Czxpy6S0.js";import{M as he}from"../chunks/5_Z2Z_Ee.js";import{k as we,o as be,a as J,i as Qe}from"../chunks/By-CH9pC.js";var ye=P('<div class="flex w-full items-center justify-between"><p> </p></div>');function Ne(T,e){H(e,!0);let d=ae(void 0);const C=async r=>{var c,u,k,h,f,_;const N=(k=(u=(c=r==null?void 0:r.spec)===null||c===void 0?void 0:c.target)===null||u===void 0?void 0:u.worker)===null||k===void 0?void 0:k.namespace,w=(_=(f=(h=r==null?void 0:r.spec)===null||h===void 0?void 0:h.target)===null||f===void 0?void 0:f.worker)===null||_===void 0?void 0:_.taskQueue;if(N&&w)try{const{pollers:$}=await ve({namespace:N,queue:w});W(d,$.length,!0)}catch{W(d,void 0)}};oe(()=>{C(e.endpoint)});var m=ne(),x=L(m);{var y=r=>{const c=p(()=>t(d)>0?"success":"warning"),u=p(()=>t(d)?"Task Queue is Active":"Task Queue is Inactive");pe(r,{get intent(){return t(c)},get title(){return t(u)},children:(k,h)=>{var f=ye(),_=a(f),N=a(_);s(_),s(f),Q(w=>b(N,`${t(d)??""}
        ${w??""}`),[()=>me("Worker",t(d))]),v(k,f)},$$slots:{default:!0}})};K(x,r=>{t(d)!==void 0&&r(y)})}v(T,m),M()}var Pe=P("<i> </i>"),Te=P("<i> </i>"),Ce=P('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),$e=P('<div class="flex flex-col gap-8"><div class="relative flex flex-col gap-4 text-sm"><!></div> <div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function Se(T,e){H(e,!0);let d=G(e,"editDisabled",3,!1),C=G(e,"backHref",19,we);var m=$e(),x=a(m),y=a(x);D(y,{get href(){return C()},icon:"chevron-left",children:(o,g)=>{B();var n=E();Q(l=>b(n,l),[()=>A("nexus.back-to-endpoints")]),v(o,n)},$$slots:{default:!0}}),s(x);var r=i(x,2),c=a(r),u=a(c),k=a(u,!0);s(u);var h=i(u,2);const f=p(()=>be(e.endpoint.id));xe(h,{get href(){return t(f)},get disabled(){return d()},children:(o,g)=>{B();var n=E();Q(l=>b(n,l),[()=>A("common.edit")]),v(o,n)},$$slots:{default:!0}}),s(c);var _=i(c,2),N=a(_);s(_),s(r);var w=i(r,2),$=i(a(w),2),F=a($),O=i(a(F),2);const R=p(()=>J({namespace:e.endpoint.spec.target.worker.namespace}));D(O,{get href(){return t(R)},children:(o,g)=>{var n=Pe(),l=a(n,!0);s(n),Q(()=>b(l,e.endpoint.spec.target.worker.namespace)),v(o,n)},$$slots:{default:!0}}),s(F);var I=i(F,2),V=i(a(I),2);const X=p(()=>A("common.copy-icon-title")),Y=p(()=>A("common.copy-success-icon-title"));ke(V,{get copyIconTitle(){return t(X)},get copySuccessIconTitle(){return t(Y)},get content(){return e.endpoint.spec.target.worker.taskQueue},children:(o,g)=>{const n=p(()=>Qe({namespace:e.endpoint.spec.target.worker.namespace,queue:e.endpoint.spec.target.worker.taskQueue}));D(o,{get href(){return t(n)},children:(l,j)=>{var S=Te(),z=a(S,!0);s(S),Q(()=>b(z,e.endpoint.spec.target.worker.taskQueue)),v(l,S)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(I);var Z=i(I,2);ge(Z,()=>e.taskQueueStatus??ie),s($),s(w);var q=i(w,2),ee=i(a(q),2);const te=p(()=>{var o;return((o=e.endpoint.spec)==null?void 0:o.descriptionString)||"No description provided"});he(ee,{get content(){return t(te)}}),s(q);var re=i(q,2);{var se=o=>{var g=Ce(),n=i(L(g),2);fe(n,21,()=>{var l;return(l=e.endpoint.spec)==null?void 0:l.allowedCallerNamespaces},_e,(l,j)=>{const S=p(()=>J({namespace:t(j)}));D(l,{get href(){return t(S)},children:(z,De)=>{B();var U=E();Q(()=>b(U,t(j))),v(z,U)},$$slots:{default:!0}})}),s(n),v(o,g)};K(re,o=>{var g;(g=e.endpoint.spec)!=null&&g.allowedCallerNamespaces&&o(se)})}s(m),Q(()=>{b(k,e.endpoint.spec.name),b(N,`UUID: ${e.endpoint.id??""}`)}),v(T,m),M()}var Ae=P("<!> <!>",1);function Ye(T,e){H(e,!0);const[d,C]=le(),m=()=>de(ce,"$page",d),x=p(()=>e.data.endpoint);var y=Ae(),r=L(y);const c=p(()=>A("nexus.nexus-endpoint",{id:m().params.id}));ue(r,{get title(){return t(c)},get url(){return m().url.href}});var u=i(r,2);Se(u,{get endpoint(){return t(x)},taskQueueStatus:h=>{Ne(h,{get endpoint(){return t(x)}})},$$slots:{taskQueueStatus:!0}}),v(T,y),M(),C()}export{Ye as component};
