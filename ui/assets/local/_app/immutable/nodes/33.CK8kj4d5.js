import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as we,as as Qe,l as ee,a as Ce,c as q,e as N,b as ve,g as e,d as g,s as w,m as O,ah as We,r as Q,f as ie,t as U,n as Be,aA as Te,ax as fe,aL as lo,i as Dt,aP as no}from"../chunks/CVkC3v6g.js";import{t as Z,a,b as ae,c as _e}from"../chunks/CXa2DXXa.js";import{i as ke}from"../chunks/B3G23GpA.js";import{s as pe,d as Ut,a as i,b as Y,m as Se}from"../chunks/B71MWTBs.js";import{p as Me}from"../chunks/BlTZtavH.js";import{P as io}from"../chunks/CzIAgOFi.js";import{s as J}from"../chunks/DUPvQxLd.js";import{i as B}from"../chunks/DpQPgcBL.js";import{s as rt}from"../chunks/DrOJgH2Z.js";import{d as nt,w as Ie,o as co}from"../chunks/DaqIHZoW.js";import{p as le,l as Ot,s as uo}from"../chunks/BNtWe5Xb.js";import{M as Tt}from"../chunks/CUiYMM6x.js";import{t as p}from"../chunks/D2OY9xdY.js";import{T as Pe,a as Nt,u as fo}from"../chunks/DZYw9DiY.js";import{A as xe}from"../chunks/TBME1SPK.js";import{b as mo,c as wo,e as vo}from"../chunks/C3zi0jyR.js";import{a as Wt}from"../chunks/BaP1uuNe.js";import{t as Pt}from"../chunks/z4sABeRS.js";import{x as Ue,y as St,r as ze,z as po,w as Bt,A as go,q as Ht,o as ho,e as bo}from"../chunks/CSM2YGqK.js";import{i as jt}from"../chunks/DOIkg3zK.js";import{I as $t}from"../chunks/DIpoW2lQ.js";import{v as ot}from"../chunks/Dz_GI0CC.js";import{R as ko,a as Et}from"../chunks/D1HTL-9-.js";import{w as _o,a as $o,b as yo,T as xo,C as Io}from"../chunks/BUfi1iCE.js";import{S as Co,w as To,I as Wo,c as Po,C as So,b as Bo}from"../chunks/BUR758je.js";import{e as it,q as jo,d as Ao}from"../chunks/FZ_CX87U.js";import{t as Rt,a as Vo,f as Fo}from"../chunks/D8zUdvDs.js";import{p as Do}from"../chunks/Bfc47y5P.js";import{B as je}from"../chunks/DSyaFiGS.js";import{w as Re,g as Mt,h as Oo}from"../chunks/DUeNOFto.js";import{c as Eo}from"../chunks/CNft6Wn8.js";import{s as Kt,i as Ro,w as Mo,b as qo}from"../chunks/DAc9Z4oz.js";import{u as Lo}from"../chunks/r4tEnGUl.js";import{T as ct}from"../chunks/CbiwIFSL.js";import{W as zo}from"../chunks/D-6uVm7-.js";import{k as Qo}from"../chunks/DLaUIK3W.js";import{e as et,i as tt}from"../chunks/ojfNN_0P.js";import{a as yt,s as qt}from"../chunks/01A5YHN4.js";import{A as Uo}from"../chunks/Bao8vGeu.js";import{L as xt}from"../chunks/LH3G9Yqj.js";import{I as It}from"../chunks/BkKACGbj.js";import{A as No}from"../chunks/CNClEvGf.js";import{s as Ho}from"../chunks/CTBtQUu0.js";import{p as Ko}from"../chunks/CEC5gFID.js";import{W as Yo}from"../chunks/BJSgUHYk.js";import{B as Jo}from"../chunks/svNy4rTM.js";import{f as lt,r as Xo,t as Go}from"../chunks/BogN5CJj.js";import{S as Ct}from"../chunks/S6Q2Q0ub.js";import{v as Zo}from"../chunks/B6L3uVBf.js";import{g as er}from"../chunks/CT3a8W8Y.js";import{b as _t,g as tr,z as Yt}from"../chunks/dAqOlFj6.js";import{F as or}from"../chunks/B1Gz9cAz.js";import{T as rr}from"../chunks/CC5L-WwK.js";import{C as Jt}from"../chunks/DCzlPCxa.js";import{i as ar,m as sr}from"../chunks/Db8GgboF.js";import{s as Xt,i as Gt}from"../chunks/C4ry1RZU.js";import{t as Zt,s as lr}from"../chunks/CeIuC_4N.js";import{c as nr}from"../chunks/Cp_AbnJM.js";import{w as eo}from"../chunks/AyXV_xlh.js";import{g as ir}from"../chunks/BijhgWLC.js";import{l as cr}from"../chunks/Bl6R1nHS.js";const ur=!1,hs=Object.freeze(Object.defineProperty({__proto__:null,ssr:ur},Symbol.toStringTag,{value:"Module"}));var fr=Z('<p class="mb-2"><!></p> <div class="surface-subtle mb-2 overflow-scroll whitespace-nowrap border border-subtle p-2"><code data-testid="batch-action-workflows-query"> </code></div> <span class="text-xs"><!></span>',1),dr=Z("<p><!></p>"),mr=Z('<div class="mb-4 flex flex-col gap-4"><!> <!> <!> <!></div>');function At(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(F,"$allSelected",o),u=()=>i(Ue,"$workflowsQuery",o),v=()=>i(e($),"$operableWorkflowsCount",o),r=O(),$=O();let d=le(t,"action",8),T=le(t,"reason",12),k=le(t,"jobId",12),f=le(t,"reasonPlaceholder",8),h=le(t,"jobIdPlaceholder",8),W=le(t,"jobIdValid",12);const{allSelected:F,terminableWorkflows:y,cancelableWorkflows:_,selectedWorkflows:c}=Qe(qe),b=S=>{switch(S){case xe.Cancel:return p("common.cancel");case xe.Terminate:return p("workflows.terminate");case xe.Reset:return p("workflows.reset")}},A=S=>nt([_,y,c],([R,M,oe])=>{switch(S){case xe.Cancel:return R.length;case xe.Terminate:return M.length;case xe.Reset:return oe.length}}),x=S=>{W(/^[\w.~-]*$/.test(S.target.value))};ee(()=>We(d()),()=>{w(r,b(d()))}),ee(()=>We(d()),()=>{Ut(w($,A(d())),"$operableWorkflowsCount",o)}),Ce(),ke();var P=mr(),H=N(P);{var j=S=>{var R=fr(),M=ie(R),oe=N(M);const ce=g(()=>({action:e(r)}));Pe(oe,{key:"workflows.batch-operation-confirmation-all",get replace(){return e(ce)}}),Q(M);var m=q(M,2),V=N(m),re=N(V,!0);Q(V),Q(m);var se=q(m,2),K=N(se);const ne=g(()=>({action:e(r)}));Pe(K,{key:"workflows.batch-operation-count-disclaimer",get replace(){return e(ne)}}),Q(se),U(()=>J(re,u())),a(S,R)},l=S=>{var R=dr(),M=N(R);{var oe=m=>{Pe(m,{key:"workflows.batch-reset-confirmation",get count(){return v()}})},ce=m=>{const V=g(()=>({action:e(r)}));Pe(m,{key:"workflows.batch-confirmation",get replace(){return e(V)},get count(){return v()}})};B(M,m=>{d()===xe.Reset?m(oe):m(ce,!1)})}Q(R),a(S,R)};B(H,S=>{s()?S(j):S(l,!1)})}var I=q(H,2);const n=g(()=>p("common.reason")),X=g(()=>p("workflows.batch-operation-confirmation-input-hint",{placeholder:f()}));$t(I,{get id(){return`bulk-action-reason-${d()??""}`},get label(){return e(n)},get hintText(){return e(X)},get placeholder(){return f()},get value(){return T()},set value(S){T(S)},$$legacy:!0});var E=q(I,2);const D=g(()=>p("common.job-id")),G=g(()=>W()?p("batch.job-id-input-hint"):p("batch.job-id-input-error"));$t(E,{id:"batch-operation-job-id",get label(){return e(D)},get hintText(){return e(G)},get placeholder(){return h()},get valid(){return W()},get value(){return k()},set value(S){k(S)},$$events:{input:x},$$legacy:!0});var te=q(E,2);rt(te,t,"default",{},null),Q(P),a(C,P),ve(),L()}var wr=Z('<h3 slot="title"><!></h3>');function vr(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Wt,"$authUser",o),u=()=>i(h,"$reason",o),v=()=>i(F,"$jobId",o),r=()=>i(y,"$jobIdValid",o),$=()=>i(b,"$allSelected",o),d=()=>i(Ue,"$workflowsQuery",o),T=()=>i(A,"$cancelableWorkflows",o);let k=le(t,"namespace",8),f=le(t,"open",12);const h=Ie(""),W=St(xe.Cancel,s().email),F=Ie(""),y=Ie(!0);let _=O(ot()),c=O("");const{allSelected:b,cancelableWorkflows:A}=Qe(qe),x=()=>{Y(h,""),Y(F,""),Y(y,!0),w(_,ot())},P=async()=>{w(c,"");const l={namespace:k(),reason:u()?`${u()} ${W}`:W,jobId:v()||e(_),...$()?{query:d()}:{workflows:T()}};try{await mo(l),f(!1),x(),Pt.push({message:p("workflows.batch-cancel-all-success"),id:"batch-cancel-success-toast"})}catch(I){w(c,jt(I)?I.message:p("common.unknown-error"))}};ee(()=>We(f()),()=>{f()&&x()}),Ce(),ke();const H=g(()=>p("common.cancel")),j=g(()=>p("common.confirm"));Tt(C,{id:"batch-cancel-confirmation-modal","data-testid":"batch-cancel-confirmation",confirmType:"destructive",get cancelText(){return e(H)},confirmDisabled:!y,get confirmText(){return e(j)},get open(){return f()},set open(l){f(l)},get error(){return e(c)},set error(l){w(c,l)},$$events:{confirmModal:P},$$slots:{title:(l,I)=>{var n=wr(),X=N(n);Pe(X,{key:"workflows.batch-cancel-modal-title"}),Q(n),a(l,n)},content:(l,I)=>{At(l,{get jobIdPlaceholder(){return e(_)},reasonPlaceholder:W,get action(){return xe.Cancel},get reason(){return Se(),u()},set reason(n){Y(h,n)},get jobId(){return Se(),v()},set jobId(n){Y(F,n)},get jobIdValid(){return Se(),r()},set jobIdValid(n){Y(y,n)},$$legacy:!0})}},$$legacy:!0}),ve(),L()}var pr=Z('<h3 slot="title"><!></h3>'),gr=Z("<!> <!>",1);function hr(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Wt,"$authUser",o),u=()=>i(_,"$reason",o),v=()=>i(b,"$jobId",o),r=()=>i(A,"$jobIdValid",o),$=()=>i(e(y),"$resetType",o),d=()=>i(x,"$allSelected",o),T=()=>i(Ue,"$workflowsQuery",o),k=()=>i(P,"$selectedWorkflows",o);let f=le(t,"namespace",8),h=le(t,"open",12,!1),W=O(""),F=O(ot()),y=O(Ie("first"));const _=Ie(""),c=St(xe.Reset,s().email),b=Ie(""),A=Ie(!0),{allSelected:x,selectedWorkflows:P}=Qe(qe),H=()=>{Y(_,""),Y(b,""),Y(A,!0),w(F,ot())},j=async()=>{w(W,"");const n={namespace:f(),reason:u()?`${u()} ${c}`:c,jobId:v()||e(F),resetType:$(),...d()?{query:T()}:{workflows:k()}};try{await wo(n),h(!1),H(),Pt.push({message:p("workflows.batch-reset-all-success"),id:"batch-reset-success-toast"})}catch(X){w(W,jt(X)?X.message:p("common.unknown-error"))}};ee(()=>We(h()),()=>{h()&&H()}),Ce(),ke();const l=g(()=>p("common.cancel")),I=g(()=>p("workflows.reset"));Tt(C,{get cancelText(){return e(l)},get confirmText(){return e(I)},id:"batch-reset-confirmation-modal",confirmType:"destructive",get error(){return e(W)},set error(n){w(W,n)},get open(){return h()},set open(n){h(n)},$$events:{confirmModal:j},$$slots:{title:(n,X)=>{var E=pr(),D=N(E);Pe(D,{key:"workflows.batch-reset-modal-title"}),Q(E),a(n,E)},content:(n,X)=>{At(n,{get jobIdPlaceholder(){return e(F)},reasonPlaceholder:c,get action(){return xe.Reset},get reason(){return Se(),u()},set reason(E){Y(_,E)},get jobId(){return Se(),v()},set jobId(E){Y(b,E)},get jobIdValid(){return Se(),r()},set jobIdValid(E){Y(A,E)},children:(E,D)=>{const G=g(()=>p("workflows.reset-event-radio-group-description"));ko(E,{get description(){return e(G)},name:"reset-event",get group(){return e(y)},set group(te){Ut(w(y,te),"$resetType",o)},children:(te,S)=>{var R=gr(),M=ie(R);Et(M,{id:"reset-event-first",value:"first",label:"First Workflow task"});var oe=q(M,2);Et(oe,{id:"reset-event-last",value:"last",label:"Last Workflow task"}),a(te,R)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})}},$$legacy:!0}),ve(),L()}var br=Z('<h3 slot="title"><!></h3>');function kr(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Wt,"$authUser",o),u=()=>i(h,"$reason",o),v=()=>i(F,"$jobId",o),r=()=>i(y,"$jobIdValid",o),$=()=>i(b,"$allSelected",o),d=()=>i(Ue,"$workflowsQuery",o),T=()=>i(A,"$terminableWorkflows",o);let k=le(t,"namespace",8),f=le(t,"open",12);const h=Ie(""),W=St(xe.Terminate,s().email),F=Ie(""),y=Ie(!0);let _=O(ot()),c=O("");const{allSelected:b,terminableWorkflows:A}=Qe(qe),x=()=>{Y(h,""),Y(F,""),Y(y,!0),w(_,ot())},P=async()=>{w(c,"");try{const l={namespace:k(),reason:u()?`${u()} ${W}`:W,jobId:v()||e(_),...$()?{query:d()}:{workflows:T()}};await vo(l),f(!1),x(),Pt.push({message:p("workflows.batch-terminate-all-success"),id:"batch-terminate-success-toast"})}catch(l){w(c,jt(l)?l.message:p("common.unknown-error"))}};ee(()=>We(f()),()=>{f()&&x()}),Ce(),ke();const H=g(()=>p("common.cancel")),j=g(()=>p("workflows.terminate"));Tt(C,{id:"batch-terminate-confirmation-modal","data-testid":"batch-terminate-confirmation",confirmType:"destructive",get cancelText(){return e(H)},confirmDisabled:!y,get confirmText(){return e(j)},get open(){return f()},set open(l){f(l)},get error(){return e(c)},set error(l){w(c,l)},$$events:{confirmModal:P},$$slots:{title:(l,I)=>{var n=br(),X=N(n);Pe(X,{key:"workflows.batch-terminate-modal-title"}),Q(n),a(l,n)},content:(l,I)=>{At(l,{reasonPlaceholder:W,get jobIdPlaceholder(){return e(_)},get action(){return xe.Terminate},get reason(){return Se(),u()},set reason(n){Y(h,n)},get jobId(){return Se(),v()},set jobId(n){Y(F,n)},get jobIdValid(){return Se(),r()},set jobIdValid(n){Y(y,n)},$$legacy:!0})}},$$legacy:!0}),ve(),L()}var _r=Z('<div class="w-full"><form class="flex items-center gap-0" role="search"><!> <!></form></div>');function $r(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Me,"$page",o),u=()=>i(Kt,"$searchAttributes",o),v=O();let r=O("");function $(c){w(r,c)}const d=()=>{if(!e(r))Y(Re,[]),Y(Ue,"");else try{Y(Re,Nt(e(r),u()))}catch(c){console.error(c)}e(r)&&e(r)===e(v)?Y(ze,Date.now()):Lo({url:s().url,parameter:"query",value:e(r),allowEmpty:!0,clearParameters:[Eo]})};function T(){d()}ee(()=>s(),()=>{w(v,s().url.searchParams.get("query"))}),ee(()=>e(v),()=>{$(e(v))}),Ce(),ke();var k=_r(),f=N(k),h=N(f);const W=g(()=>p("workflows.search-placeholder")),F=g(()=>p("workflows.search-placeholder")),y=g(()=>p("common.clear-input-button-label"));$t(h,{id:"manual-search",type:"search",get label(){return e(W)},labelHidden:!0,get placeholder(){return e(F)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(y)},get value(){return e(r)},set value(c){w(r,c)},$$events:{clear:T},$$legacy:!0});var _=q(h,2);je(_,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(c,b)=>{Be();var A=ae();U(x=>J(A,x),[()=>p("common.search")],g),a(c,A)},$$slots:{default:!0}}),Q(f),Q(k),it("submit",f,Do(d)),Rt(1,f,()=>Vo,()=>({x:-100,duration:150})),Rt(1,k,()=>Fo),a(C,k),ve(),L()}var yr=Z('<div class="flex w-full items-start gap-1"><!> <!></div>');function xr(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Mt,"$searchInputViewOpen",o),u=()=>i(Re,"$workflowFilters",o),v=O();var r=O();ee(()=>Te(r),()=>{w(v,To.match(w(r,window==null?void 0:window.location)===null||Te(r)===void 0?void 0:Te(r).pathname))}),Ce(),ke();var $=yr(),d=N($);{var T=h=>{const W=g(()=>p("workflows.close-search-input"));ct(h,{get text(){return e(W)},topLeft:!0,children:(F,y)=>{je(F,{"data-testid":"manual-search-toggle",id:"close-search-input",variant:"ghost",class:"mt-1",leadingIcon:"filter",size:"xs",$$events:{click:()=>Y(Mt,!1)}})},$$slots:{default:!0}})};B(d,h=>{s()&&e(v)&&h(T)})}var k=q(d,2);const f=g(()=>!s());Co(k,{get showFilter(){return e(f)},refresh:()=>{Y(ze,Date.now())},get filters(){return Se(),u()},set filters(h){Y(Re,h)},children:(h,W)=>{var F=_e(),y=ie(F);{var _=c=>{$r(c,{})};B(y,c=>{s()&&c(_)})}a(h,F)},$$slots:{default:!0},$$legacy:!0}),Q($),a(C,$),ve(),L()}function Ir(C,t){we(t,!1);const[o,L]=pe();let s=le(t,"count",8,0);ke(),je(C,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>Y(ze,Date.now())},children:(u,v)=>{var r=_e(),$=ie(r);{var d=k=>{var f=ae();U(h=>J(f,`+${h??""}`),[()=>s().toLocaleString()],g),a(k,f)},T=(k,f)=>{{var h=W=>{var F=ae();U(y=>J(F,y),[()=>s().toLocaleString()],g),a(W,F)};B(k,W=>{s()<0&&W(h)},f)}};B($,k=>{s()>0?k(d):k(T,!1)})}a(u,r)},$$slots:{default:!0}}),ve(),L()}const Lt=""+new URL("../assets/empty-state-dark_2x.BtTCLk6j.png",import.meta.url).href,Cr=""+new URL("../assets/empty-state-light_2x.BAwLJnNu.png",import.meta.url).href;var Tr=Z('<link rel="preload" as="image">'),Wr=Z("<p> </p> <p> </p>",1),Pr=Z("<li><!></li>"),Sr=Z('<!> <p> <!>.</p> <ul class="flex flex-col gap-2"></ul>',1),Br=Z('<div class="flex h-auto w-full flex-col overflow-hidden xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 border-b border-subtle p-8 xl:min-w-[520px] xl:border-b-0 xl:border-r"><h2><!></h2> <!></div> <div class="bg-[#DDD6FE]"><img alt="" class="aspect-auto"></div></div>');function jr(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Me,"$page",o),u=()=>i(po,"$workflowError",o),v=O(),r=["samples-go","samples-java","samples-typescript","samples-python","samples-dotnet","samples-php"];ee(()=>s(),()=>{w(v,s().url.searchParams.get("query"))}),Ce(),ke();var $=Br();jo(b=>{var A=Tr();yt(A,"href",Lt),a(b,A)});var d=N($),T=N(d),k=N(T);{var f=b=>{var A=ae();U(x=>J(A,x),[()=>p("workflows.workflow-query-empty-state-title")],g),a(b,A)},h=b=>{var A=ae();U(x=>J(A,x),[()=>p("workflows.workflow-empty-state-title")],g),a(b,A)};B(k,b=>{e(v)?b(f):b(h,!1)})}Q(T);var W=q(T,2);{var F=b=>{const A=g(()=>p("workflows.workflow-query-error-state"));Uo(b,{intent:"warning",icon:"warning",get title(){return e(A)},style:"overflow-wrap: anywhere",children:(x,P)=>{Be();var H=ae();U(()=>J(H,u())),a(x,H)},$$slots:{default:!0}})},y=(b,A)=>{{var x=H=>{var j=Wr(),l=ie(j),I=N(l,!0);Q(l);var n=q(l,2),X=N(n,!0);Q(n),U((E,D)=>{J(I,E),J(X,D)},[()=>p("workflows.workflow-query-empty-state-preface"),()=>p("workflows.workflow-query-empty-state-postface")],g),a(H,j)},P=H=>{var j=Sr(),l=ie(j);rt(l,t,"cloud",{},null);var I=q(l,2),n=N(I),X=q(n);xt(X,{newTab:!0,href:"https://github.com/temporalio",children:(D,G)=>{Be();var te=ae("github.com/temporalio");a(D,te)},$$slots:{default:!0}}),Be(),Q(I);var E=q(I,2);et(E,5,()=>r,tt,(D,G)=>{var te=Pr(),S=N(te);xt(S,{icon:"github",newTab:!0,get href(){return`https://github.com/temporalio/${e(G)??""}`},children:(R,M)=>{Be();var oe=ae();U(()=>J(oe,e(G))),a(R,oe)},$$slots:{default:!0}}),Q(te),a(D,te)}),Q(E),U(D=>J(n,`${D??""} `),[()=>p("workflows.workflow-empty-state-description")],g),a(H,j)};B(b,H=>{e(v)?H(x):H(P,!1)},A)}};B(W,b=>{u()?b(F):b(y,!1)})}Q(d);var _=q(d,2),c=N(_);Q(_),Q($),U(()=>yt(c,"src",e(v)?Cr:Lt)),a(C,$),ve(),L()}const Ar=(C,t)=>{const o=Ho({workflows:C},null,2),L=`workflows-${C.length}-${t}-${Date.now()}.json`;s(o,L,"text/plain");function s(u,v,r){const $=document.createElement("a"),d=new Blob([u],{type:r});$.href=URL.createObjectURL(d),$.download=v,$.click()}},Vr=(C,t=2)=>{if(!+C)return"0 Bytes";const o=1024,L=t<0?0:t,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],u=Math.floor(Math.log(C)/Math.log(o));return`${parseFloat((C/Math.pow(o,u)).toFixed(L))} ${s[u]}`};var Fr=Z("<!> <!>",1);function Le(C,t){we(t,!0);const[o,L]=pe(),s=()=>i(Re,"$workflowFilters",o),u=()=>i(Me,"$page",o);let v=le(t,"filterOrCopyButtonsVisible",3,!1);const r=()=>{const _=s().find(b=>b.attribute===t.attribute),c=()=>s().filter(b=>b.attribute!==t.attribute);if(!_||_.value!==t.value){const b={attribute:t.attribute,type:Ct.KEYWORD,value:t.value,conditional:"=",operator:"",parenthesis:""};Y(Re,[...c(),b])}else Y(Re,[...c()]);fo(u().url,s())};var $=Fr(),d=ie($);{var T=_=>{xt(_,{get href(){return t.href},children:(c,b)=>{Be();var A=ae();U(()=>J(A,t.value)),a(c,A)},$$slots:{default:!0}})},k=_=>{var c=ae();U(()=>J(c,t.value)),a(_,c)};B(d,_=>{t.href?_(T):_(k,!1)})}var f=q(d,2);const h=fe(()=>p("common.copy-icon-title")),W=fe(()=>p("common.copy-success-icon-title")),F=fe(()=>p("common.filter-workflows")),y=fe(()=>s().some(_=>_.attribute===t.attribute&&_.value===t.value));or(f,{get copyIconTitle(){return e(h)},get copySuccessIconTitle(){return e(W)},get filterIconTitle(){return e(F)},get show(){return v()},get content(){return t.value},onFilter:r,get filtered(){return e(y)}}),a(C,$),ve(),L()}const Dr=(C,t)=>{const o=C.relatedTarget;o&&!["filter-button","copy-button"].includes(o.id)&&t()};var Or=Z('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Er=Z('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function zt(C,t){we(t,!0);const[o,L]=pe(),s=()=>i(Go,"$timeFormat",o),u=()=>i(Xo,"$relativeTime",o),v=()=>i(qo,"$customSearchAttributes",o),r=fe(()=>t.column.label),$=fe(()=>Ko.params.namespace);let d=lo(!1);const T=()=>w(d,!0),k=()=>w(d,!1),f=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var h=_e(),W=ie(h);{var F=_=>{var c=Or();c.__mouseover=T,c.__focusin=T,c.__focusout=[Dr,k];var b=N(c);{var A=P=>{const H=fe(()=>_t({namespace:e($),workflow:t.workflow.id,run:t.workflow.runId}));Le(P,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(H)}})},x=(P,H)=>{{var j=I=>{const n=fe(()=>_t({namespace:e($),workflow:t.workflow.id,run:t.workflow.runId}));Le(I,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(n)}})},l=(I,n)=>{{var X=D=>{const G=fe(()=>_t({namespace:e($),workflow:t.workflow.id,run:t.workflow.runId}));Le(D,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(G)}})},E=(D,G)=>{{var te=R=>{const M=fe(()=>{var m,V;return(V=(m=t.workflow.searchAttributes)==null?void 0:m.indexedFields)==null?void 0:V.TemporalWorkerDeployment}),oe=fe(()=>e(M)&&typeof e(M)=="string"?e(M):""),ce=fe(()=>tr({namespace:e($),deployment:e(M)}));Le(R,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeployment",get value(){return e(oe)},get href(){return e(ce)}})},S=(R,M)=>{{var oe=m=>{const V=fe(()=>{var se,K;return(K=(se=t.workflow.searchAttributes)==null?void 0:se.indexedFields)==null?void 0:K.TemporalWorkerDeploymentVersion}),re=fe(()=>e(V)&&typeof e(V)=="string"?e(V):"");Le(m,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(re)}})},ce=(m,V)=>{{var re=K=>{const ne=fe(()=>{var ge,ue,me,he,$e;return((me=(ue=(ge=t.workflow)==null?void 0:ge.searchAttributes)==null?void 0:ue.indexedFields)==null?void 0:me.TemporalWorkerBuildId)||er(($e=(he=t.workflow.searchAttributes)==null?void 0:he.indexedFields)==null?void 0:$e.TemporalWorkerDeploymentVersion)}),de=fe(()=>e(ne)&&typeof e(ne)=="string"?e(ne):"");Le(K,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerBuildId",get value(){return e(de)}})},se=(K,ne)=>{{var de=ge=>{const ue=fe(()=>{var he,$e;return($e=(he=t.workflow.searchAttributes)==null?void 0:he.indexedFields)==null?void 0:$e.TemporalWorkflowVersioningBehavior}),me=fe(()=>e(ue)&&typeof e(ue)=="string"?e(ue):"");Le(ge,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(me)}})};B(K,ge=>{e(r)==="Versioning Behavior"&&ge(de)},ne)}};B(m,K=>{e(r)==="Build ID"?K(re):K(se,!1)},V)}};B(R,m=>{e(r)==="Deployment Version"?m(oe):m(ce,!1)},M)}};B(D,R=>{e(r)==="Deployment"?R(te):R(S,!1)},G)}};B(I,D=>{e(r)==="Run ID"?D(X):D(E,!1)},n)}};B(P,I=>{e(r)==="Workflow ID"?I(j):I(l,!1)},H)}};B(b,P=>{e(r)==="Type"?P(A):P(x,!1)})}Q(c),it("focus",c,T),it("mouseleave",c,k),it("blur",c,k),a(_,c)},y=_=>{var c=Er(),b=N(c);{var A=P=>{Yo(P,{get status(){return t.workflow.status}})},x=(P,H)=>{{var j=I=>{var n=ae();U(X=>J(n,X),[()=>lt(t.workflow.endTime,s(),{relative:u()})]),a(I,n)},l=(I,n)=>{{var X=D=>{var G=ae();U(te=>J(G,te),[()=>lt(t.workflow.startTime,s(),{relative:u()})]),a(D,G)},E=(D,G)=>{{var te=R=>{var M=ae();U(()=>J(M,t.workflow.taskQueue)),a(R,M)},S=(R,M)=>{{var oe=m=>{var V=ae();U(()=>{var re;return J(V,((re=t.workflow)==null?void 0:re.parentNamespaceId)??"")}),a(m,V)},ce=(m,V)=>{{var re=K=>{var ne=ae();U(de=>J(ne,de),[()=>Vr(parseInt(t.workflow.historySizeBytes,10))]),a(K,ne)},se=(K,ne)=>{{var de=ue=>{var me=ae();U(he=>J(me,he),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(ue,me)},ge=(ue,me)=>{{var he=Ae=>{var Ve=ae();U(Ne=>J(Ve,Ne),[()=>lt(t.workflow.executionTime,s(),{relative:u()})]),a(Ae,Ve)},$e=(Ae,Ve)=>{{var Ne=Oe=>{var He=ae();U(z=>J(He,z),[()=>Zo({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(Oe,He)},bt=(Oe,He)=>{{var z=be=>{var Fe=ae();U(Ee=>J(Fe,Ee),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(be,Fe)},ye=(be,Fe)=>{{var Ee=Ke=>{var ut=ae();U(()=>{var ft,dt;return J(ut,((dt=(ft=t.workflow.searchAttributes)==null?void 0:ft.indexedFields)==null?void 0:dt.TemporalScheduledById)??"")}),a(Ke,ut)},at=(Ke,ut)=>{{var ft=Ye=>{var mt=ae();const st=fe(()=>{var Je,De;return(De=(Je=t.workflow.searchAttributes)==null?void 0:Je.indexedFields)==null?void 0:De.TemporalScheduledStartTime});U(Je=>J(mt,Je),[()=>e(st)&&typeof e(st)=="string"?lt(e(st),s(),{relative:u()}):""]),a(Ye,mt)},dt=(Ye,mt)=>{{var st=De=>{var wt=ae();U(()=>{var vt,Xe;return J(wt,(Xe=(vt=t.workflow.searchAttributes)==null?void 0:vt.indexedFields)==null?void 0:Xe.TemporalChangeVersion)}),a(De,wt)},Je=(De,wt)=>{{var vt=Xe=>{var Vt=_e();const pt=fe(()=>t.workflow.searchAttributes.indexedFields[e(r)]);var oo=ie(Vt);{var ro=Ge=>{var gt=ae();U(kt=>J(gt,kt),[()=>lt(e(pt),s(),{relative:u()})]),a(Ge,gt)},ao=(Ge,gt)=>{{var kt=Ze=>{Jo(Ze,{children:(ht,ia)=>{Be();var Ft=ae();U(()=>J(Ft,e(pt))),a(ht,Ft)},$$slots:{default:!0}})},so=Ze=>{var ht=ae();U(()=>J(ht,e(pt))),a(Ze,ht)};B(Ge,Ze=>{v()[e(r)]===Ct.BOOL?Ze(kt):Ze(so,!1)},gt)}};B(oo,Ge=>{v()[e(r)]===Ct.DATETIME&&typeof e(pt)=="string"?Ge(ro):Ge(ao,!1)})}a(Xe,Vt)};B(De,Xe=>{Ro(e(r))&&Mo(t.workflow,e(r))&&Xe(vt)},wt)}};B(Ye,De=>{e(r)==="Change Version"?De(st):De(Je,!1)},mt)}};B(Ke,Ye=>{e(r)==="Scheduled Start Time"?Ye(ft):Ye(dt,!1)},ut)}};B(be,Ke=>{e(r)==="Scheduled By ID"?Ke(Ee):Ke(at,!1)},Fe)}};B(Oe,be=>{e(r)==="History Length"?be(z):be(ye,!1)},He)}};B(Ae,Oe=>{e(r)==="Execution Duration"?Oe(Ne):Oe(bt,!1)},Ve)}};B(ue,Ae=>{e(r)==="Execution Time"?Ae(he):Ae($e,!1)},me)}};B(K,ue=>{e(r)==="State Transitions"?ue(de):ue(ge,!1)},ne)}};B(m,K=>{e(r)==="History Size"?K(re):K(se,!1)},V)}};B(R,m=>{e(r)==="Parent Namespace"?m(oe):m(ce,!1)},M)}};B(D,R=>{e(r)==="Task Queue"?R(te):R(S,!1)},G)}};B(I,D=>{e(r)==="Start"?D(X):D(E,!1)},n)}};B(P,I=>{e(r)==="End"?I(j):I(l,!1)},H)}};B(b,P=>{e(r)==="Status"?P(A):P(x,!1)})}Q(c),a(_,c)};B(W,_=>{f.includes(e(r))?_(F):_(y,!1)})}a(C,h),ve(),L()}Ao(["mouseover","focusin","focusout"]);const Rr=["workflowCancelDisabled","workflowTerminateDisabled"],Mr=C=>C.disableWriteActions||C.batchActionsDisabled?!1:Rr.some(t=>!C[t]),to=nt([Zt,Xt,lr,Gt],([C,t,o,L])=>(L?!0:ar(C,"1.18.0"))&&t&&Mr(o));var qr=Z('<span class="font-medium"><!></span>'),Lr=Z('<span> <button data-testid="select-all-workflows" class="cursor-pointer underline"><!></button> </span>'),zr=Z('<span class="font-medium"><!></span> <!>',1),Qr=Z('<!> <div class="ml-4 inline-flex gap-2"><!> <!> <!></div>',1);function Ur(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(c,"$selectedWorkflows",o),u=()=>i(Me,"$page",o),v=()=>i(l,"$coreUser",o),r=()=>i(Gt,"$isCloud",o),$=()=>i(Zt,"$temporalVersion",o),d=()=>i(b,"$allSelected",o),T=()=>i(Bt,"$workflowCount",o),k=()=>i(Ue,"$workflowsQuery",o),f=()=>i(x,"$cancelableWorkflows",o),h=O(),W=O(),F=O();var y=O();let _=le(t,"workflows",8);const{selectedWorkflows:c,allSelected:b,handleSelectAll:A,cancelableWorkflows:x,openBatchCancelConfirmationModal:P,openBatchTerminateConfirmationModal:H,openBatchResetConfirmationModal:j}=Qe(qe);let l=nr(),I=O();ee(()=>(Te(y),s()),()=>{w(I,w(y,s()===null||s()===void 0?void 0:s().length)!==null&&Te(y)!==void 0?Te(y):0)}),ee(()=>(u(),v()),()=>{w(h,_o(u().data.settings,v(),u().params.namespace))}),ee(()=>(u(),v()),()=>{w(W,$o(u().data.settings,v(),u().params.namespace))}),ee(()=>(u(),v(),r(),$()),()=>{w(F,yo(u().data.settings,v(),u().params.namespace)&&r()?!0:sr("1.23.0",$()))}),Ce(),ke();var n=Qr(),X=ie(n);{var E=m=>{var V=qr(),re=N(V);Pe(re,{key:"workflows.all-selected",get count(){return T().count}}),Q(V),a(m,V)},D=m=>{var V=zr(),re=ie(V),se=N(re);Pe(se,{key:"workflows.n-selected",get count(){return e(I)}}),Q(re);var K=q(re,2);{var ne=de=>{var ge=Lr(),ue=N(ge),me=q(ue),he=N(me);Pe(he,{key:"workflows.select-all",get count(){return T().count}}),Q(me);var $e=q(me);Q(ge),U((Ae,Ve)=>{J(ue,`(${Ae??""} `),J($e,` ${Ve??""})`)},[()=>p("workflows.select-all-leading"),()=>p("workflows.select-all-trailing")],g),it("click",me,()=>A(_())),a(de,ge)};B(K,de=>{k()&&de(ne)})}a(m,V)};B(X,m=>{d()?m(E):m(D,!1)})}var G=q(X,2),te=N(G);{var S=m=>{const V=g(()=>!f().length);je(m,{size:"xs",variant:"ghost",class:"focus-visible:border-table","data-testid":"bulk-cancel-button",get disabled(){return e(V)},$$events:{click:P},children:(re,se)=>{Be();var K=ae();U(ne=>J(K,ne),[()=>p("workflows.request-cancellation")],g),a(re,K)},$$slots:{default:!0}})};B(te,m=>{e(W)&&m(S)})}var R=q(te,2);{var M=m=>{je(m,{size:"xs",variant:"ghost",class:"focus-visible:border-table","data-testid":"bulk-reset-button",$$events:{click:j},children:(V,re)=>{Be();var se=ae();U(K=>J(se,K),[()=>p("workflows.reset")],g),a(V,se)},$$slots:{default:!0}})};B(R,m=>{e(F)&&m(M)})}var oe=q(R,2);{var ce=m=>{je(m,{size:"xs",variant:"destructive",class:"focus-visible:border-table","data-testid":"bulk-terminate-button",$$events:{click:H},children:(V,re)=>{Be();var se=ae();U(K=>J(se,K),[()=>p("workflows.terminate")],g),a(V,se)},$$slots:{default:!0}})};B(oe,m=>{e(h)&&m(ce)})}Q(G),a(C,n),ve(),L()}var Nr=Z('<th class="batch-actions-checkbox-table-cell svelte-zmv232"><!></th>'),Hr=Z('<th class="batch-actions-table-cell svelte-zmv232"><!></th>'),Kr=Z('<tr><!><th class="w-6"></th><!></tr>');function Yr(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(W,"$selectedWorkflows",o),u=()=>i(to,"$supportsBulkActions",o),v=()=>i(F,"$pageSelected",o),r=()=>i(y,"$batchActionsVisible",o),$=O(),d=O();let T=le(t,"workflows",8),k=le(t,"empty",8),f=le(t,"columnsCount",8);const{handleSelectPage:h,selectedWorkflows:W,pageSelected:F,batchActionsVisible:y}=Qe(qe),_=j=>{const{checked:l}=j.detail;h(l,T())};ee(()=>(s(),We(T())),()=>{w($,s().length>0&&s().length<T().length)}),ee(()=>p,()=>{w(d,p("workflows.select-all-workflows"))}),Ce(),ke();var c=Kr(),b=N(c);{var A=j=>{var l=Nr(),I=N(l);Jt(I,{get label(){return e(d)},labelHidden:!0,id:"select-visible-workflows","data-testid":"batch-actions-checkbox",get indeterminate(){return e($)},get checked(){return Se(),v()},set checked(n){Y(F,n)},$$events:{change:_},$$legacy:!0}),Q(l),a(j,l)};B(b,j=>{!k()&&u()&&j(A)})}var x=q(b,2);{var P=j=>{var l=Hr(),I=N(l);Ur(I,{get workflows(){return T()}}),Q(l),U(()=>yt(l,"colspan",f())),a(j,l)},H=j=>{var l=_e(),I=ie(l);rt(I,t,"default",{},null),a(j,l)};B(x,j=>{u()&&r()?j(P):j(H,!1)})}Q(c),a(C,c),ve(),L()}function Jr(C,t){const o=Ot(t,["children","$$slots","$$events","$$legacy"]),L=Ot(o,["namespace","workflowId","taskQueue","workflowType"]);we(t,!1);const s=O();let u=le(t,"namespace",8),v=le(t,"workflowId",8),r=le(t,"taskQueue",8),$=le(t,"workflowType",8);ee(()=>(We(u()),We(v()),We(r()),We($())),()=>{w(s,Yt({namespace:u(),workflowId:v(),taskQueue:r(),workflowType:$()}))}),Ce(),ke();const d=g(()=>p("workflows.start-workflow-like-this-one"));ct(C,{get text(){return e(d)},topLeft:!0,children:(T,k)=>{je(T,uo({size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt"},()=>L,{$$events:{click:()=>ir(e(s))}}))},$$slots:{default:!0}}),ve()}var Xr=Z('<td class="relative"><!></td> <td><!> <!></td>',1),Gr=Z("<td></td>"),Zr=Z('<tr data-testid="workflows-summary-configurable-table-row"><!><!></tr>');function Qt(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Me,"$page",o),u=()=>i(to,"$supportsBulkActions",o),v=()=>i(c,"$selectedWorkflows",o),r=()=>i(_,"$allSelected",o),$=()=>i(Oo,"$hideChildWorkflows",o),d=O(),T=O(),k=O();let f=le(t,"workflow",8,void 0),h=le(t,"empty",8,!1),W=le(t,"viewChildren",8,()=>{}),F=le(t,"childCount",8,void 0),y=le(t,"child",8,!1);const{allSelected:_,selectedWorkflows:c}=Qe(qe);ee(()=>(e(d),s()),()=>{(l=>w(d,l.namespace))(s().params)}),ee(()=>We(f()),()=>{w(T,p("workflows.select-workflow",{workflow:f()===null||f()===void 0?void 0:f().id}))}),ee(()=>We(F()),()=>{w(k,F()!==void 0)}),Ce(),ke();var b=Zr();let A;var x=N(b);{var P=l=>{var I=Xr(),n=ie(I),X=N(n);Jt(X,{get label(){return e(T)},labelHidden:!0,get value(){return f()},get disabled(){return r()},get"aria-label"(){return e(T)},get group(){return Se(),v()},set group(S){Y(c,S)},$$legacy:!0}),Q(n);var E=q(n,2),D=N(E);{var G=S=>{Jr(S,{get namespace(){return e(d)},get workflowId(){return f().id},get taskQueue(){return f().taskQueue},get workflowType(){return f().name}})};B(D,S=>{eo(s())||S(G)})}var te=q(D,2);Wo(te,{minimumVersion:"1.23.0",children:(S,R)=>{var M=_e(),oe=ie(M);{var ce=m=>{const V=g(()=>e(k)?"primary":"ghost");je(m,{size:"xs",get variant(){return e(V)},$$events:{click:()=>W()(f())},children:(re,se)=>{const K=g(()=>e(k)?p("workflows.children",{count:F()}):p("workflows.show-children"));ct(re,{get text(){return e(K)},topLeft:!0,children:(ne,de)=>{It(ne,{name:"relationship",class:"scale-80"})},$$slots:{default:!0}})},$$slots:{default:!0}})};B(oe,m=>{$()&&!y()&&m(ce)})}a(S,M)},$$slots:{default:!0}}),Q(E),U(()=>qt(E,1,`cursor-point relative flex items-center justify-center gap-0.5 py-0.5 ${($()||y()?"w-auto":"w-6")??""}`)),a(l,I)},H=l=>{var I=Gr();a(l,I)};B(x,l=>{!h()&&u()?l(P):l(H,!1)})}var j=q(x);rt(j,t,"default",{},null),Q(b),U(l=>A=qt(b,1,"dense svelte-1j41e4d",null,A,l),[()=>({empty:h(),child:y()})],g),a(C,b),ve(),L()}var ea=Z("<!> <!>",1),ta=Z('<caption class="sr-only" slot="caption"> </caption>'),oa=Z("<!> <!>",1);function ra(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Me,"$page",o),u=()=>i(Po,"$configurableTableColumns",o),v=()=>i(ze,"$refresh",o),r=()=>i(Ht,"$queryWithParentWorkflowId",o),$=()=>i(Bt,"$workflowCount",o),d=O(),T=O(),k=O(),f=O();var h=O(),W=O();let F=le(t,"onClickConfigure",8),y=O([]);const _=()=>{w(y,[])},c=async x=>{if(e(k)(x))w(y,e(y).filter(P=>P.workflowId!==x.id&&P.runId!==x.runId));else{const P=await ho(e(d),x.id,x.runId);w(y,[{workflowId:x.id,runId:x.runId,children:P},...e(y)])}};ee(()=>(e(d),s()),()=>{(x=>w(d,x.namespace))(s().params)}),ee(()=>(Te(W),Te(h),u(),e(d)),()=>{w(T,w(W,w(h,u()===null||u()===void 0?void 0:u()[e(d)])===null||Te(h)===void 0?void 0:Te(h).workflows)!==null&&Te(W)!==void 0?Te(W):[])}),ee(()=>(v(),r()),()=>{v(),r(),_()}),ee(()=>e(y),()=>{w(k,x=>e(y).find(P=>P.workflowId===x.id&&P.runId===x.runId))}),ee(()=>(e(d),r()),()=>{w(f,()=>go(e(d),r()))}),Ce(),ke();var b=_e(),A=ie(b);Qo(A,()=>[e(d),r(),v()],x=>{const P=g(()=>p("common.workflows")),H=g(()=>p("common.per-page")),j=g(()=>p("common.next")),l=g(()=>p("common.previous")),I=g(()=>p("workflows.empty-state-title"));No(x,{get total(){return $().count},get onFetch(){return e(f)},get"aria-label"(){return e(P)},get pageSizeSelectLabel(){return e(H)},get nextButtonLabel(){return e(j)},get previousButtonLabel(){return e(l)},get emptyStateMessage(){return e(I)},children:Dt,$$slots:{default:(n,X)=>{const E=g(()=>X.visibleItems);var D=_e(),G=ie(D);et(G,1,()=>e(E),tt,(te,S)=>{var R=ea(),M=ie(R);const oe=g(()=>{var V;return(V=e(k)(e(S)))==null?void 0:V.children.length});Qt(M,{get workflow(){return e(S)},viewChildren:c,get childCount(){return e(oe)},children:(V,re)=>{var se=_e(),K=ie(se);et(K,1,()=>e(T),tt,(ne,de)=>{zt(ne,{get workflow(){return e(S)},get column(){return e(de)}})}),a(V,se)},$$slots:{default:!0}});var ce=q(M,2);{var m=V=>{var re=_e(),se=ie(re);et(se,1,()=>e(k)(e(S)).children,tt,(K,ne)=>{Qt(K,{get workflow(){return e(ne)},child:!0,children:(de,ge)=>{var ue=_e(),me=ie(ue);et(me,1,()=>e(T),tt,(he,$e)=>{zt(he,{get workflow(){return e(ne)},get column(){return e($e)}})}),a(de,ue)},$$slots:{default:!0}})}),a(V,re)};B(ce,V=>{e(k)(e(S))&&V(m)})}a(te,R)}),a(n,D)},caption:(n,X)=>{var E=ta(),D=N(E,!0);Q(E),U(G=>J(D,G),[()=>p("common.workflows")],g),a(n,E)},headers:(n,X)=>{const E=g(()=>e(D).length===0),D=g(()=>X.visibleItems);Yr(n,{get columnsCount(){return e(T).length},get empty(){return e(E)},slot:"headers",get workflows(){return e(D)},children:Dt,$$slots:{default:(G,te)=>{var S=_e(),R=ie(S);et(R,1,()=>e(T),tt,(M,oe)=>{rr(M,{get column(){return e(oe)}})}),a(G,S)}}})},empty:(n,X)=>{jr(n,{$$slots:{cloud:(E,D)=>{var G=_e(),te=ie(G);rt(te,t,"cloud",{},null),a(E,G)}}})},"actions-end-additional":(n,X)=>{const E=g(()=>X.visibleItems),D=g(()=>X.page);var G=oa(),te=ie(G);const S=g(()=>p("common.download-json"));ct(te,{get text(){return e(S)},top:!0,children:(M,oe)=>{je(M,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Ar(e(E),e(D))},children:(ce,m)=>{It(ce,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}});var R=q(te,2);ct(R,{text:"Configure Columns",top:!0,children:(M,oe)=>{je(M,{"data-testid":"workflows-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...ce){var m;(m=F())==null||m.apply(this,ce)}},children:(ce,m)=>{It(ce,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}}),a(n,G)}}})}),a(C,b),ve(),L()}const qe="BATCH_OPERATION_CONTEXT";var aa=Z('<span data-testid="workflow-count"> </span> <!>',1),sa=Z('<!> <!> <!> <!> <!> <header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><h1 class="flex items-center gap-2" data-cy="workflows-title"><!> <!></h1> <!></div> <!></header> <!> <!> <!>',1);function la(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Me,"$page",o),u=()=>i(Kt,"$searchAttributes",o),v=()=>i(j,"$selectedWorkflows",o),r=()=>i(Ht,"$queryWithParentWorkflowId",o),$=()=>i(ze,"$refresh",o),d=()=>i(Xt,"$supportsAdvancedVisibility",o),T=()=>i(Bt,"$workflowCount",o),k=O(),f=O(),h=O(),W=O(),F=O();co(()=>{Y(cr,s().params.namespace),e(k)&&Y(Re,Nt(e(k),u()))});const y=()=>{Y(P,!1),Y(H,!1),Y(j,[])};let _=O(!1),c=O(!1),b=O(!1),A=O(!1),x=O(!1);const P=Ie(!1),H=Ie(!1),j=Ie([]),l=nt(j,z=>z.length>0),I=nt(j,z=>z.filter(ye=>ye.canBeTerminated)),n=nt(j,z=>z.filter(ye=>ye.status==="Running"));no(qe,{allSelected:P,pageSelected:H,terminableWorkflows:I,cancelableWorkflows:n,selectedWorkflows:j,batchActionsVisible:l,openBatchCancelConfirmationModal:()=>{v().length>1?w(c,!0):w(x,!0)},openBatchTerminateConfirmationModal:()=>{v().length>1?w(_,!0):w(A,!0)},openBatchResetConfirmationModal:()=>{w(b,!0)},handleSelectAll:z=>{P.set(!0),j.set([...z])},handleSelectPage:(z,ye)=>{H.set(z),P&&P.set(!1),z?j.set([...ye]):j.set([])}});let S=O(!1);const R=()=>{w(S,!0)};ee(()=>s(),()=>{w(k,s().url.searchParams.get("query"))}),ee(()=>e(k),()=>{e(k),Y(Ue,e(k))}),ee(()=>s(),()=>{w(f,s().params.namespace)}),ee(()=>s(),()=>{w(h,s().url.searchParams.get("per-page"))}),ee(()=>s(),()=>{w(W,s().url.searchParams.toString())}),ee(()=>e(W),()=>{e(W),Y(bo,e(W))}),ee(()=>(e(f),s()),()=>{w(F,Bo(e(f),s().data.settings))}),ee(()=>(e(f),r(),e(h),$()),()=>{e(f),r(),e(h),$(),y()}),Ce(),ke();var M=sa(),oe=ie(M);kr(oe,{get namespace(){return e(f)},get open(){return e(_)},set open(z){w(_,z)},$$legacy:!0});var ce=q(oe,2);vr(ce,{get namespace(){return e(f)},get open(){return e(c)},set open(z){w(c,z)},$$legacy:!0});var m=q(ce,2);hr(m,{get namespace(){return e(f)},get open(){return e(b)},set open(z){w(b,z)},$$legacy:!0});var V=q(m,2);xo(V,{refresh:ze,get namespace(){return e(f)},get workflow(){return v()[0]},get open(){return e(A)},set open(z){w(A,z)},$$legacy:!0});var re=q(V,2);Io(re,{refresh:ze,get namespace(){return e(f)},get workflow(){return v()[0]},get open(){return e(x)},set open(z){w(x,z)},$$legacy:!0});var se=q(re,2),K=N(se),ne=N(K),de=N(ne);{var ge=z=>{var ye=aa(),be=ie(ye),Fe=N(be,!0);Q(be);var Ee=q(be,2);Pe(Ee,{key:"common.workflows-plural",get count(){return T().count}}),U(at=>J(Fe,at),[()=>T().count.toLocaleString()],g),a(z,ye)},ue=z=>{Pe(z,{key:"workflows.recent-workflows"})};B(de,z=>{d()?z(ge):z(ue,!1)})}var me=q(de,2);Ir(me,{get count(){return T().newCount}}),Q(ne);var he=q(ne,2);{var $e=z=>{const ye=g(()=>Yt({namespace:e(f)}));je(z,{leadingIcon:"lightning-bolt",get href(){return e(ye)},children:(be,Fe)=>{Be();var Ee=ae();U(at=>J(Ee,at),[()=>p("workflows.start-workflow")],g),a(be,Ee)},$$slots:{default:!0}})};B(he,z=>{eo(s())||z($e)})}Q(K);var Ae=q(K,2);zo(Ae,{}),Q(se);var Ve=q(se,2);xr(Ve,{});var Ne=q(Ve,2);ra(Ne,{onClickConfigure:R,$$slots:{cloud:(z,ye)=>{var be=_e(),Fe=ie(be);rt(Fe,t,"cloud",{},null),a(z,be)}}});var bt=q(Ne,2);const Oe=g(()=>p("common.columns")),He=g(()=>p("common.workflows-table"));So(bt,{get availableColumns(){return e(F)},get type(){return e(Oe)},get title(){return e(He)},get open(){return e(S)},set open(z){w(S,z)},$$legacy:!0}),a(C,M),ve(),L()}var na=Z("<!> <!>",1);function bs(C,t){we(t,!1);const[o,L]=pe(),s=()=>i(Me,"$page",o);ke();var u=na(),v=ie(u);const r=g(()=>`Workflows | ${s().params.namespace}`);io(v,{get title(){return e(r)},get url(){return s().url.href}});var $=q(v,2);la($,{}),a(C,u),ve(),L()}export{bs as component,hs as universal};
