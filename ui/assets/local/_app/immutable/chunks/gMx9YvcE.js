import"./CWj6FrbW.js";import{p as tt,g as o,d as Y,b as et,aK as u,f as L,c as n,e as r,t as $,n as M,r as a}from"./DYX0w8bX.js";import{s as d}from"./CxFVcq4O.js";import{i as ut}from"./B_BuKjdB.js";import{e as _t,i as ft}from"./CgLBepva.js";import{t as Q,b as U,a as _,c as wt}from"./Bz76f8pg.js";import{s as j}from"./BoNO6UAY.js";import{a as X,s as ht}from"./CgU0heln.js";import{p as kt}from"./C_WVM3ei.js";import{B as xt}from"./SNXFWeJi.js";import{E as $t}from"./C1XTKaKf.js";import{L as yt}from"./QGdb6kp5.js";import{T as bt,a as gt,b as Tt}from"./Csn1rgN-.js";import{t as c}from"./D2OY9xdY.js";import"./Bij_J0Ni.js";import"./DlxtkSgV.js";import{g as It}from"./D92Kn_MZ.js";import"./TUfZX6Hw.js";import"./Deu6AXwm.js";import{f as Pt,t as Qt,r as Ft}from"./DzOyNlRA.js";import"./69_IOA4Y.js";import{i as Wt}from"./CZRFLhJG.js";import{p as Dt}from"./BrXzBH3h.js";import{I as Ot}from"./BExi9zWc.js";function Z(N,w){tt(w,!1);let h=Dt(w,"includesTaskQueueType",8);Wt();const V=Y(()=>h()?"checkmark":"close"),A=Y(()=>h()?"text-blue-700":"text-primary"),E=Y(()=>h()?c("common.yes"):c("common.no"));Ot(N,{get name(){return o(V)},get class(){return`m-auto ${o(A)??""}`},get title(){return o(E)}}),et()}var Bt=Q('<td class="text-left" data-testid="worker-identity"><p class="select-all"> </p></td> <td class="text-left" data-testid="worker-build-id"><p class="select-all break-all"> </p></td> <td class="text-left" data-testid="worker-deployment"><p class="select-all break-all"><!></p></td> <td class="hidden text-left md:table-cell" data-testid="worker-last-access-time"><p class="select-all"> </p></td> <td data-testid="workflow-poller"><!></td> <td data-testid="activity-poller"><!></td>',1),Ct=Q('<tr class="w-full"><td colspan="5"><!></td></tr>'),Lt=Q('<caption class="sr-only" slot="caption"> </caption>'),Nt=Q('<th> </th> <th> </th> <th> </th> <th class="hidden w-2/12 md:table-cell"> </th> <th class="w-2/12"><p class="text-center"> </p></th> <th class="w-2/12 text-center"><p class="text-center"> </p></th>',1),Vt=Q('<h2 class="flex items-center gap-2" data-testid="workers"> <!></h2> <!>',1);function ne(N,w){tt(w,!0);const[h,V]=ht(),A=()=>X(Qt,"$timeFormat",h),E=()=>X(Ft,"$relativeTime",h),rt=u(()=>kt.params),at=u(()=>o(rt).namespace),st=t=>{var m,s,l;const e=(s=(m=t==null?void 0:t.deploymentOptions)===null||m===void 0?void 0:m.deploymentName)!==null&&s!==void 0?s:(l=t==null?void 0:t.workerVersionCapabilities)===null||l===void 0?void 0:l.deploymentSeriesName;return e??""},ot=t=>{var m,s,l;const e=(s=(m=t==null?void 0:t.deploymentOptions)===null||m===void 0?void 0:m.buildId)!==null&&s!==void 0?s:(l=t==null?void 0:t.workerVersionCapabilities)===null||l===void 0?void 0:l.buildId;return e??""};var z=Vt(),K=L(z),G=r(K),lt=n(G);xt(lt,{type:"count",children:(t,m)=>{M();var s=U();$(()=>{var l,e;return d(s,((e=(l=w.workers)==null?void 0:l.pollers)==null?void 0:e.length)||0)}),_(t,s)},$$slots:{default:!0}}),a(K);var it=n(K,2);bt(it,{class:"mb-6 w-full min-w-[600px] table-fixed",children:(t,m)=>{var s=wt(),l=L(s);_t(l,17,()=>{var e;return(e=w.workers)==null?void 0:e.pollers},ft,(e,i)=>{const p=u(()=>st(o(i))),v=u(()=>ot(o(i)));Tt(e,{"data-testid":"worker-row",children:(y,b)=>{var F=Bt(),f=L(F),W=r(f),g=r(W,!0);a(W),a(f);var k=n(f,2),D=r(k),O=r(D,!0);a(D),a(k);var x=n(k,2),B=r(x),q=r(B);{var R=P=>{const pt=u(()=>It({namespace:o(at),deployment:o(p)}));yt(P,{get href(){return o(pt)},children:(vt,At)=>{M();var J=U();$(()=>d(J,o(p))),_(vt,J)},$$slots:{default:!0}})};ut(q,P=>{o(p)&&P(R)})}a(B),a(x);var T=n(x,2),C=r(T),S=r(C,!0);a(C),a(T);var I=n(T,2),dt=r(I);const nt=u(()=>o(i).taskQueueTypes.includes("WORKFLOW"));Z(dt,{get includesTaskQueueType(){return o(nt)}}),a(I);var H=n(I,2),mt=r(H);const ct=u(()=>o(i).taskQueueTypes.includes("ACTIVITY"));Z(mt,{get includesTaskQueueType(){return o(ct)}}),a(H),$(P=>{d(g,o(i).identity),d(O,o(v)),d(S,P)},[()=>Pt(o(i).lastAccessTime,A(),{relative:E()})]),_(y,F)},$$slots:{default:!0}})},e=>{var i=Ct(),p=r(i),v=r(p);const y=u(()=>c("workflows.workers-empty-state"));$t(v,{get title(){return o(y)}}),a(p),a(i),_(e,i)}),_(t,s)},$$slots:{default:!0,caption:(t,m)=>{var s=Lt(),l=r(s,!0);a(s),$(e=>d(l,e),[()=>c("workflows.workers-tab")]),_(t,s)},headers:(t,m)=>{gt(t,{slot:"headers",children:(s,l)=>{var e=Nt(),i=L(e);j(i,1,"w-4/12");var p=r(i,!0);a(i);var v=n(i,2);j(v,1,"w-3/12");var y=r(v,!0);a(v);var b=n(v,2);j(b,1,"w-3/12");var F=r(b,!0);a(b);var f=n(b,2),W=r(f,!0);a(f);var g=n(f,2),k=r(g),D=r(k,!0);a(k),a(g);var O=n(g,2),x=r(O),B=r(x,!0);a(x),a(O),$((q,R,T,C,S,I)=>{d(p,q),d(y,R),d(F,T),d(W,C),d(D,S),d(B,I)},[()=>c("common.id"),()=>c("workers.buildId"),()=>c("deployments.deployment"),()=>c("workflows.last-accessed"),()=>c("workflows.workflow-task-handler"),()=>c("workflows.activity-handler")]),_(s,e)},$$slots:{default:!0}})}}}),$(t=>d(G,`${t??""} `),[()=>c("workers.workers")]),_(N,z),et(),V()}export{Z as P,ne as W};
