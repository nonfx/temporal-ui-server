import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as he,e as Y,f as N,d as v,b as be,m as _,l as Z,a as Ye,t as ae,h as x,c as l,r as f,n as F,i as K,s as p,k as ee,j as a,g as e,ac as me}from"./DSxqszTl.js";import{s as w}from"./CXaSvchK.js";import{i as we}from"./BAt4aHTa.js";import{s as te}from"./Qdkaj6Y8.js";import{i as ye}from"./BcaHj5WR.js";import{p as m}from"./Bp73-jql.js";import{s as $e,a as Ze,b as ve}from"./CZBNCVvj.js";import{a as et,w as tt}from"./Cb3VdkNs.js";import{p as at}from"./CRtv1t40.js";import{A as st}from"./DlVC6YhT.js";import{C as ge}from"./W310s-Yh.js";import{I as _e}from"./S9yQRBCm.js";import{E as rt}from"./CcUlTmW2.js";import{M as ot}from"./DmT9O-BE.js";import{T as nt,a as xe}from"./vfJDguRB.js";import{t as s}from"./D2OY9xdY.js";function lt(H,r){he(r,!1);const[se,M]=$e(),Q=()=>Ze(at,"$page",se);let j=m(r,"isCloud",8,!1);ye();var y=Y(),C=N(y);{var P=c=>{var n=Y(),u=N(n);te(u,r,"default",{},null),v(c,n)},T=c=>{var n=Y(),u=N(n);te(u,r,"fallback",{},null),v(c,n)};we(C,c=>{var n,u,$;j()||($=(u=(n=Q().data)==null?void 0:n.settings)==null?void 0:u.runtimeEnvironment)!=null&&$.isCloud?c(P):c(T,!1)})}v(H,y),be(),M()}const ke={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},fe=tt(ke);var it=ae('<div class="flex flex-col gap-0"><p class="text-base text-primary"> </p> <p class="text-xs text-secondary"> </p></div> <!>',1),ct=ae("<!> <!>",1),ut=ae('<div class="flex w-full flex-col gap-4 xl:w-1/2"><!> <div class="flex flex-col gap-0"><p class="text-base text-primary"> </p> <p class="text-xs text-secondary"> </p></div> <!> <!> <!> <!> <div><!> <p class="my-2 text-xs text-secondary">Do not include sensitive data.</p></div> <!></div> <!>',1);function qt(H,r){he(r,!1);const[se,M]=$e(),Q=_(),j=_();var y,C,P,T,c,n,u,$,V;let o=m(r,"endpoint",8,void 0),Ne=m(r,"targetNamespaceList",24,()=>[]),re=m(r,"callerNamespaceList",24,()=>[]),z=m(r,"error",8,void 0),Ce=m(r,"nameDisabled",8,!1),Pe=m(r,"isCloud",8,!0),Te=m(r,"nameHintText",8),oe=m(r,"nameRegexPattern",8),k=_(((y=o()===null||o()===void 0?void 0:o().spec)===null||y===void 0?void 0:y.name)||""),q=_(((C=o()===null||o()===void 0?void 0:o().spec)===null||C===void 0?void 0:C.descriptionString)||""),L=_(((c=(T=(P=o()===null||o()===void 0?void 0:o().spec)===null||P===void 0?void 0:P.target)===null||T===void 0?void 0:T.worker)===null||c===void 0?void 0:c.namespace)||""),I=_((($=(u=(n=o()===null||o()===void 0?void 0:o().spec)===null||n===void 0?void 0:n.target)===null||u===void 0?void 0:u.worker)===null||$===void 0?void 0:$.taskQueue)||""),D=_(((V=o()===null||o()===void 0?void 0:o().spec)===null||V===void 0?void 0:V.allowedCallerNamespaces)||[]),E=_(!1);const qe=(t,g,d,i,h)=>{ve(fe,{spec:{name:t,descriptionString:g,target:{worker:{namespace:d,taskQueue:i}},allowedCallerNamespaces:h}})};et(()=>{ve(fe,ke)}),Z(()=>(e(k),e(q),e(L),e(I),e(D)),()=>{qe(e(k),e(q),e(L),e(I),e(D))}),Z(()=>me(re()),()=>{p(Q,re().map(t=>({value:t.namespace,label:t.namespace})))}),Z(()=>me(oe()),()=>{p(j,t=>oe().test(t))}),Ye(),ye();var ne=ut(),B=N(ne),le=x(B);const Le=a(()=>!e(k)||!e(j)(e(k))),Ie=a(()=>s("nexus.endpoint-name")),De=a(()=>s("nexus.endpoint-name-placeholder"));_e(le,{required:!0,get disabled(){return Ce()},get error(){return e(Le)},get hintText(){return Te()},get label(){return e(Ie)},id:"name",maxLength:255,get placeholder(){return e(De)},get value(){return e(k)},set value(t){p(k,t)},$$legacy:!0});var G=l(le,2),J=x(G),Ee=x(J,!0);f(J);var ie=l(J,2),Re=x(ie,!0);f(ie),f(G);var ce=l(G,2);const Se=a(()=>s("nexus.target-namespace")),Ke=a(()=>s("common.no-results")),Qe=a(()=>!!e(L)),je=a(()=>s("nexus.select-namespace"));ge(ce,{get label(){return e(Se)},get noResultsText(){return e(Ke)},get valid(){return e(Qe)},error:"Please select a target Namespace.",required:!0,id:"target-namespace",get placeholder(){return e(je)},leadingIcon:"namespace-switcher",get options(){return Ne()},optionValueKey:"namespace",minSize:32,get value(){return e(L)},set value(t){p(L,t)},$$legacy:!0});var ue=l(ce,2);const Ae=a(()=>!e(I)),Fe=a(()=>s("common.task-queue")),He=a(()=>s("nexus.task-queue-placeholder"));_e(ue,{required:!0,get error(){return e(Ae)},get label(){return e(Fe)},id:"task-queue",get placeholder(){return e(He)},get value(){return e(I)},set value(t){p(I,t)},$$legacy:!0});var de=l(ue,2);lt(de,{get isCloud(){return Pe()},children:(t,g)=>{var d=it(),i=N(d),h=x(i),U=x(h,!0);f(h);var A=l(h,2),R=x(A,!0);f(A),f(i);var W=l(i,2);const b=a(()=>s("nexus.allowed-caller-namespaces")),S=a(()=>s("common.no-results")),Ue=a(()=>!!e(D).length),We=a(()=>s("nexus.select-namespaces"));ge(W,{id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,get options(){return e(Q)},get label(){return e(b)},leadingIcon:"search",get noResultsText(){return e(S)},get valid(){return e(Ue)},error:"Please select at least one Namespace.",get placeholder(){return e(We)},optionValueKey:"value",optionLabelKey:"label",get value(){return e(D)},set value(X){p(D,X)},$$legacy:!0}),K((X,Xe)=>{w(U,X),w(R,Xe)},[()=>s("nexus.access-policy"),()=>s("nexus.allowed-caller-namespaces-description")],a),v(t,d)},$$slots:{default:!0}});var pe=l(de,2);nt(pe,{children:(t,g)=>{var d=ct(),i=N(d);const h=a(()=>e(E)===!1);xe(i,{get active(){return e(h)},"data-testid":"description-editor",$$events:{click:()=>p(E,!1)},children:(R,W)=>{F();var b=ee();K(S=>w(b,S),[()=>s("common.description")],a),v(R,b)},$$slots:{default:!0}});var U=l(i,2);const A=a(()=>e(E)===!0);xe(U,{get active(){return e(A)},"data-testid":"description-preview",$$events:{click:()=>p(E,!0)},children:(R,W)=>{F();var b=ee();K(S=>w(b,S),[()=>s("common.preview")],a),v(R,b)},$$slots:{default:!0}}),v(t,d)},$$slots:{default:!0}});var O=l(pe,2),Me=x(O);{var Ve=t=>{ot(t,{get content(){return e(q)}})},ze=t=>{rt(t,{get content(){return e(q)},$$events:{change:g=>p(q,g.detail.value)}})};we(Me,t=>{e(E)?t(Ve):t(ze,!1)})}F(2),f(O);var Be=l(O,2);te(Be,r,"footer",{},null),f(B);var Ge=l(B,2);const Je=a(()=>{var t;return(t=z())==null?void 0:t.statusText}),Oe=a(()=>!z());st(Ge,{get title(){return e(Je)},intent:"error",get hidden(){return e(Oe)},children:(t,g)=>{F();var d=ee();K(()=>{var i;return w(d,(i=z())==null?void 0:i.message)}),v(t,d)},$$slots:{default:!0}}),K((t,g)=>{w(Ee,t),w(Re,g)},[()=>s("nexus.target"),()=>s("nexus.target-description")],a),v(H,ne),be(),M()}export{qt as N,fe as e};
