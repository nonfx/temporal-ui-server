import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as le,m as E,g as t,t as G,h as B,j as a,c as M,s as D,r as F,d as _,b as oe,l as ae,ac as me,a as pe,e as Te,f as ie,n as J,k as Q,i as X,aR as Se}from"./DSxqszTl.js";import{s as V}from"./CXaSvchK.js";import{e as be,i as ge}from"./B5GJuRxG.js";import{s as Ae}from"./DyEeuWnl.js";import{i as ue}from"./BcaHj5WR.js";import{p as Y}from"./Bp73-jql.js";import{a as re,s as fe}from"./CZBNCVvj.js";import{B as se}from"./Heru9cgn.js";import{t as s}from"./D2OY9xdY.js";import{b as Ee,c as _e}from"./80RifD-7.js";import{S as f}from"./S6Q2Q0ub.js";import{i as W}from"./BAt4aHTa.js";import{C as De}from"./BkU1v9dw.js";import{I as ce}from"./S9yQRBCm.js";import{N as Ce}from"./X8PRUnQJ.js";import{S as ve,O as te}from"./BC-x9MOx.js";import{o as ke}from"./Cb3VdkNs.js";import{D as Ie,T as Oe}from"./UAWZMv9c.js";import{g as Ne}from"./BSP6lJQ9.js";import{s as de}from"./CLGfdnHC.js";var Re=G('<div class="flex flex-col gap-2"><!> <!></div>');function Ue(j,i){le(i,!1);let n=Y(i,"value",12);const m=n()?new Date(n()):new Date,O=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate());let h=E(de(O)),o=E(n()?String(m.getUTCHours()):""),T=E(n()?String(m.getUTCMinutes()):""),e=E(n()?String(m.getUTCSeconds()):"");ke(()=>{n()||R()});const N=y=>{D(h,de(y.detail)),R()},R=()=>{n(Ne({date:t(h),hour:t(o),minute:t(T),second:t(e)}))};ue();var c=Re(),C=B(c);const H=a(()=>s("common.value")),k=a(()=>s("common.utc")),l=a(()=>s("common.today")),$=a(()=>s("common.close")),x=a(()=>s("common.clear-input-button-label"));Ie(C,{get label(){return`${t(H)??""} (${t(k)??""})`},get selected(){return t(h)},get todayLabel(){return t(l)},get closeLabel(){return t($)},get clearLabel(){return t(x)},$$events:{datechange:N}});var I=M(C,2);Oe(I,{twelveHourClock:!1,get hour(){return t(o)},set hour(y){D(o,y)},get minute(){return t(T)},set minute(y){D(T,y)},get second(){return t(e)},set second(y){D(e,y)},$$events:{timechange:R},$$legacy:!0}),F(c),_(j,c),oe()}var Pe=G("<!> <!>",1),Le=G("<div><!></div>"),Be=G('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Me(j,i){le(i,!1);const[n,m]=fe(),O=()=>re(_e,"$customSearchAttributes",n),h=()=>re(Ee,"$customSearchAttributeOptions",n),o=E();let T=Y(i,"attributes",24,()=>[]),e=Y(i,"attribute",12),N=Y(i,"onRemove",8),c=E(e().label||void 0);const C=r=>O()[r],H=r=>{e(e().label=r,!0);const p=C(r);p===f.KEYWORDLIST?e(e().value=[],!0):e().type!==p&&e(e().value=null,!0),e(e().type=p,!0)};ae(()=>me(T()),()=>{D(o,r=>!!T().find(p=>p.label===r))}),pe(),ue();var k=Be(),l=B(k),$=B(l),x=B($);const I=a(()=>s("workflows.custom-search-attribute")),y=a(()=>s("workflows.select-attribute"));ve(x,{id:"search-attribute","data-testid":"search-attribute-select",get label(){return t(I)},get placeholder(){return t(y)},onChange:H,get value(){return t(c)},set value(r){D(c,r)},children:(r,p)=>{var S=Te(),q=ie(S);be(q,1,h,ge,(v,b,z,U)=>{let d=()=>t(b).value,u=()=>t(b).label,w=()=>t(b).type;const K=a(()=>t(o)(d()));te(v,{get disabled(){return t(K)},get value(){return d()},get description(){return w()},children:(g,P)=>{J();var A=Q();X(()=>V(A,u())),_(g,A)},$$slots:{default:!0}})}),_(r,S)},$$slots:{default:!0},$$legacy:!0}),F($);var he=M($,2);se(he,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>N()(e().label)}}),F(l);var ne=M(l,2);{var $e=r=>{const p=a(()=>s("common.value"));ve(r,{get label(){return t(p)},id:"attribute-value",get value(){return e().value},set value(S){e(e().value=S,!0)},children:(S,q)=>{var v=Pe(),b=ie(v);te(b,{value:!0,children:(U,d)=>{J();var u=Q();X(w=>V(u,w),[()=>s("common.true")],a),_(U,u)},$$slots:{default:!0}});var z=M(b,2);te(z,{value:!1,children:(U,d)=>{J();var u=Q();X(w=>V(u,w),[()=>s("common.false")],a),_(U,u)},$$slots:{default:!0}}),_(S,v)},$$slots:{default:!0},$$legacy:!0})},xe=(r,p)=>{{var S=v=>{Ue(v,{get value(){return e().value},set value(b){e(e().value=b,!0)},$$legacy:!0})},q=(v,b)=>{{var z=d=>{var u=Le(),w=B(u);const K=a(()=>s("common.value")),g=a(()=>e().value<Number.MAX_SAFE_INTEGER);Ce(w,{get label(){return t(K)},id:"attribute-value",get valid(){return t(g)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(P){e(e().value=P,!0)},$$legacy:!0}),F(u),_(d,u)},U=(d,u)=>{{var w=g=>{const P=a(()=>s("common.value"));De(g,{get label(){return t(P)},id:"attribute-value",class:"w-full",removeChipButtonLabel:A=>s("workflows.remove-keyword-label",{keyword:A}),get chips(){return e().value},set chips(A){e(e().value=A,!0)},$$legacy:!0})},K=(g,P)=>{{var A=L=>{const Z=a(()=>s("common.value"));ce(L,{get label(){return t(Z)},"data-testid":"custom-search-attribute-value",id:"attribute-value",class:"grow",get value(){return e().value},set value(ee){e(e().value=ee,!0)},$$legacy:!0})},we=L=>{const Z=a(()=>s("common.value")),ee=a(()=>s("workflows.unsupported-attribute"));ce(L,{get label(){return t(Z)},id:"attribute-value",class:"grow",get placeholder(){return t(ee)},error:!0,disabled:!0,value:""})};W(g,L=>{e().type===f.TEXT||e().type===f.KEYWORD||e().type===f.UNSPECIFIED?L(A):L(we,!1)},P)}};W(d,g=>{e().type===f.KEYWORDLIST?g(w):g(K,!1)},u)}};W(v,d=>{e().type===f.INT||e().type===f.DOUBLE?d(z):d(U,!1)},b)}};W(r,v=>{e().type===f.DATETIME?v(S):v(q,!1)},p)}};W(ne,r=>{e().type===f.BOOL?r($e):r(xe,!1)})}var ye=M(ne,2);se(ye,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>N()(e().label)}}),F(k),_(j,k),oe(),m()}var Fe=G("<div><!> <!></div>");function it(j,i){le(i,!1);const[n,m]=fe(),O=()=>re(_e,"$customSearchAttributes",n),h=E(),o=E();let T=Y(i,"class",8,""),e=Y(i,"attributesToAdd",28,()=>[]);const N=()=>{e([...e(),{label:null,value:null,type:f.UNSPECIFIED}])},R=l=>{e(e().filter($=>$.label!==l))};ae(()=>O(),()=>{D(h,Object.keys(O()))}),ae(()=>me(e()),()=>{D(o,e())}),pe(),ue();var c=Fe(),C=B(c);be(C,1,()=>t(o),ge,(l,$,x)=>{Me(l,{get attributes(){return t(o)},onRemove:R,get attribute(){return t(o)[x]},set attribute(I){t(o)[x]=I,Se(()=>(t(o),e()))},$$legacy:!0})});var H=M(C,2);const k=a(()=>!t(h).length||t(o).length===t(h).length||t(o).filter(l=>l.value===""||l.value===null||Array.isArray(l.value)&&l.value.length===0).length>0);se(H,{variant:"ghost",leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(k)},$$events:{click:N},children:(l,$)=>{J();var x=Q();X(I=>V(x,I),[()=>s("workflows.add-search-attribute")],a),_(l,x)},$$slots:{default:!0}}),F(c),X(()=>Ae(c,1,`flex flex-col gap-4 ${T()??""}`)),_(j,c),oe(),m()}export{it as A};
