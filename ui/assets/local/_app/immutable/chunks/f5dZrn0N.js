import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as P,f as H,e as x,r as y,c as k,t as S,b as U,l as J,a as N,d as F,ah as O,g as z}from"./DYX0w8bX.js";import{s as B}from"./CxFVcq4O.js";import{i as E}from"./B_BuKjdB.js";import{k as G}from"./BADwFS2C.js";import{t as q,a as L}from"./Bz76f8pg.js";import{a as w,s as K}from"./BoNO6UAY.js";import{i as R}from"./CZRFLhJG.js";import{p as a}from"./BrXzBH3h.js";import{a as M}from"./DsexP6Wk.js";import{C as Q}from"./Do8Dk9fo.js";import{e as W}from"./B8vPeB6P.js";import{I as X}from"./BExi9zWc.js";import{t as g}from"./D2OY9xdY.js";import{t as Y}from"./DlxtkSgV.js";import{L as Z}from"./WwDu3wGH.js";import{T as $}from"./BBPmuBue.js";import{v as ee}from"./Dz_GI0CC.js";var te=q('<label class="file-upload-label svelte-quefyv"><!></label> <input class="hidden" type="file">',1);function ae(T,e){P(e,!1);let s=a(e,"id",8),o=a(e,"accept",8,".json"),r=a(e,"onUpload",8);const I=j=>{var m;const v=j.target,d=(m=v==null?void 0:v.files)===null||m===void 0?void 0:m[0],l=new FileReader;d&&(l.readAsText(d),l.onload=()=>{var n,f;try{const _=(f=(n=l==null?void 0:l.result)===null||n===void 0?void 0:n.toString())!==null&&f!==void 0?f:"";r()(_)}catch{Y.push({variant:"error",message:g("common.upload-error")})}})};R();var p=te(),i=H(p),c=x(i);X(c,{name:"upload"}),y(i);var u=k(i,2);S(()=>{w(i,"for",s()),w(u,"id",s()),w(u,"accept",o())}),W("change",u,I),L(T,p),U()}var re=q('<div class="flex flex-col gap-2"><!> <div class="flex gap-2"><!> <!></div> <span> </span></div>');function Te(T,e){P(e,!1);let s=a(e,"id",24,ee),o=a(e,"error",12,!1),r=a(e,"input",12),I=a(e,"label",24,()=>g("workflows.signal-payload-input-label")),p=a(e,"loading",12,!1),i=a(e,"hintText",24,()=>g("workflows.signal-payload-input-label-hint")),c=a(e,"editing",8,!0);const u=t=>{if(!r())return!0;try{return JSON.parse(t),!0}catch{return!1}},j=t=>{r(t.detail)},m=()=>{r(""),p(!1)},v=t=>{r(t)};M(m),J(()=>O(r()),()=>{o(!u(r()))}),N(),R();var d=re(),l=x(d);Z(l,{get for(){return s()},get label(){return I()}});var n=k(l,2),f=x(n);G(f,()=>[p(),c()],t=>{Q(t,{get id(){return s()},maxHeight:320,get content(){return r()},get editable(){return c()},copyable:!1,$$events:{change:j}})});var _=k(f,2);{var V=t=>{const h=F(()=>g("common.upload-json"));$(t,{get text(){return z(h)},topRight:!0,children:(D,le)=>{ae(D,{get id(){return`${s()??""}-input-file-upload`},onUpload:v})},$$slots:{default:!0}})};E(_,t=>{c()&&t(V)})}y(n);var b=k(n,2);let C;var A=x(b,!0);y(b),y(d),S((t,h)=>{C=K(b,1,`text-xs ${(o()?"text-danger":"text-primary")??""} inline-block`,null,C,t),w(b,"role",o()?"alert":null),B(A,h)},[()=>({hidden:!i()&&!o()}),()=>o()?g("common.input-valid-json"):i()],F),L(T,d),U()}export{Te as P};
