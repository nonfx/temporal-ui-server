import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as _,m as V,s as x,g as p,f as E,b as T}from"./DYX0w8bX.js";import{c as U,a as D}from"./Bz76f8pg.js";import{s as I}from"./CFGOF_JX.js";import{i as W}from"./CZRFLhJG.js";import{p as i}from"./BrXzBH3h.js";import{a as f,s as w}from"./CgU0heln.js";import{o as B}from"./DsexP6Wk.js";import{p as M}from"./CVCKWmiN.js";import{a as j}from"./Bij_J0Ni.js";import{c as q,d as z}from"./CiCCZKxR.js";import{a as F,b as G,g as H}from"./x36H9k9v.js";import{s as g}from"./CTBtQUu0.js";function se(y,s){_(s,!1);const[c,v]=w(),e=()=>f(M,"$page",c),h=()=>f(j,"$authUser",c);let t=i(s,"value",8),a=i(s,"key",8,""),l=i(s,"onDecode",8,void 0),k=a()&&(!(t()===null||t()===void 0)&&t()[a()])?t()[a()]:t(),n=V(g(k));B(()=>{A(t())});const A=async P=>{var r;const b={...e().data.settings,codec:{...(r=e().data.settings)===null||r===void 0?void 0:r.codec,endpoint:H(e().data.settings),passAccessToken:G(e().data.settings),includeCredentials:F(e().data.settings)}};try{const u=await q(P,e().params.namespace,b,h().accessToken),o=z(u);let d=a()&&(o==null?void 0:o[a()])?o[a()]:o;Array.isArray(d)&&d.length===1&&(d=d[0]),x(n,g(d)),l()&&l()(p(n))}catch{console.error("Could not decode payloads")}};W();var m=U(),C=E(m);I(C,s,"default",{get decodedValue(){return p(n)}},null),D(y,m),T(),v()}export{se as P};
