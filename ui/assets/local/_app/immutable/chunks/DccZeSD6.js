import"./CWj6FrbW.js";import{p as Oe,az as a,t as M,h as n,n as ue,k as ne,i as I,d as l,c as s,r,A as Q,g as e,b as Ve,e as Ne,f as oe,j as re,l as Ie,s as de,m as we,ac as Ae,a as gt,o as Ut,aE as mt,aC as Dt,Y as pa}from"./DSxqszTl.js";import{s as g,d as xa,e as Rt}from"./CXaSvchK.js";import{i as m}from"./BAt4aHTa.js";import{e as We,i as yt}from"./B5GJuRxG.js";import{c as zt,s as st,a as ft}from"./DyEeuWnl.js";import{l as it,p as J,s as _t}from"./Bp73-jql.js";import{s as ct,a as Ee}from"./CZBNCVvj.js";import{o as ga}from"./Cb3VdkNs.js";import{p as ze}from"./bYeQCkFl.js";import{B as Ge}from"./-jFGsH1F.js";import{C as Ke}from"./BtDXSW2e.js";import{I as Wt}from"./Dc8cZy7F.js";import{L as Qe}from"./Hh-zSdtw.js";import{T as pt}from"./CFAn1g9i.js";import{t as v}from"./D2OY9xdY.js";import{i as Z,e as ya,a as ha,b as wa}from"./C2UQSvMJ.js";import{i as ka}from"./vzY2Gmk2.js";import{a as ba}from"./DlMariDq.js";import{f as He,r as ht,t as wt}from"./BSP6lJQ9.js";import{c as Ta,d as Ia}from"./BYCGGLw1.js";import{a as Aa,b as Ea,g as Pa}from"./BdYrYEmB.js";import{b as Sa,f as Fa,d as nt,s as Ca,c as La,e as Ma,h as ja,j as Da}from"./iTaNTKSt.js";import{g as Le,v as Ra}from"./DPZf26_M.js";import{s as Gt,f as lt}from"./ByTIZu23.js";import{t as Kt,f as Qt,P as Ha}from"./Cz6NmN9g.js";import{j as Ht}from"./CLGfdnHC.js";import{c as Nt,i as Na,j as Oa,a as Va,b as Ot}from"./CSSktQ_s.js";import{s as qa}from"./Nsxp-0jx.js";import{C as Me}from"./RtoCH-cV.js";import{o as Ba}from"./C8ejR22J.js";import{s as Vt}from"./byHaz_JD.js";import{g as Yt}from"./BJtG6eNn.js";import"./69_IOA4Y.js";import{i as kt}from"./BcaHj5WR.js";import{p as Ua}from"./DCKaCENx.js";import"./BLjkLUx2.js";import"./BYODGtF6.js";import{M as Jt}from"./BXu-cIER.js";import{P as ot}from"./CbrH2RJG.js";import{t as xt}from"./Ds6tgvmq.js";const qt=async(A,t)=>{var E,k,p,f,d,x,L,j,P;if(!("eventType"in A)||!Le(A))return;const{namespace:i,settings:u,accessToken:_}=t,y={...u,codec:{...u==null?void 0:u.codec,endpoint:Pa(u),passAccessToken:Ea(u),includeCredentials:Aa(u)}};try{const b=await Ta(A.attributes,i,y,_),S=((p=(k=(E=A.markerRecordedEventAttributes)==null?void 0:E.details)==null?void 0:k.data)==null?void 0:p.payloads)||((x=(d=(f=A.markerRecordedEventAttributes)==null?void 0:f.details)==null?void 0:d.type)==null?void 0:x.payloads)||[];if(!(S!=null&&S.length))return;const R=Ia(b),h=(P=(j=(L=R==null?void 0:R.details)==null?void 0:L.data)==null?void 0:j.payloads)==null?void 0:P[0],D=Sa(h);if(D)return Fa("ActivityType",D)}catch(b){console.error("Failed to decode local activity type:",b)}},yn=A=>{if("eventList"in A)return A.eventList.find(Le);if(Le(A))return A},Te=(A,t=Q,i=Q)=>{var u=Wa(),_=n(u),y=n(_,!0);r(_);var E=s(_,2),k=n(E);{var p=d=>{var x=ne();I(()=>g(x,i())),l(d,x)},f=d=>{var x=Ne(),L=oe(x);qa(L,()=>i()??Q),l(d,x)};m(k,d=>{typeof i()=="string"||typeof i()=="number"?d(p):d(f,!1)})}r(E),r(u),I(()=>g(y,t())),l(A,u)};var za=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Wa=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),Ga=M("<!> ",1),Ka=M('<p class="text-sm text-secondary/80"> </p> <!>',1),Qa=M('<p class="text-sm text-secondary/80"> </p> <!>',1),Ya=M('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),Ja=M('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Xa=M('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Za=M('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function $a(A,t){Oe(t,!0);const[i,u]=ct(),_=()=>Ee(wt,"$timeFormat",i),y=()=>Ee(ht,"$relativeTime",i),E=(o,w=Q)=>{var H=za(),se=n(H),$=n(se,!0);r(se);var q=s(se,2),le=n(q),pe=s(le),ce=n(pe);r(pe),r(q),r(H),I((ie,ge)=>{g($,ie),g(le,`${ge??""} `),g(ce,`(${w()??""})`)},[()=>v("workflows.next-retry"),()=>He(t.operation.nextAttemptScheduleTime,_(),{relative:y(),relativeLabel:""})]),l(o,H)},k=o=>{const w=a(()=>e(f)?"danger":"default");Ge(o,{class:"mr-1",get type(){return e(w)},children:(H,se)=>{var $=Ga(),q=oe($);const le=a(()=>e(f)&&"font-bold text-red-400");Wt(q,{get class(){return`mr-1 ${e(le)??""}`},name:"retry"});var pe=s(q);I(()=>g(pe,` ${t.operation.attempt??0}`)),l(H,$)},$$slots:{default:!0}})},p=o=>{var w=Ya(),H=n(w),se=n(H);{var $=ce=>{var ie=Ka(),ge=oe(ie),Je=n(ge,!0);r(ge);var Xe=s(ge,2);const Re=a(()=>Vt(Ba(t.operation.lastAttemptFailure,"stackTrace"))),Ze=a(()=>v("common.copy-icon-title")),$e=a(()=>v("common.copy-success-icon-title"));Me(Xe,{get content(){return e(Re)},maxHeight:384,get copyIconTitle(){return e(Ze)},get copySuccessIconTitle(){return e($e)}}),I(vt=>g(Je,vt),[()=>v("workflows.last-failure")]),l(ce,ie)};m(se,ce=>{t.operation.lastAttemptFailure&&ce($)})}r(H);var q=s(H,2),le=n(q);{var pe=ce=>{var ie=Qa(),ge=oe(ie),Je=n(ge,!0);r(ge);var Xe=s(ge,2);const Re=a(()=>v("common.copy-icon-title")),Ze=a(()=>v("common.copy-success-icon-title"));Me(Xe,{language:"text",maxHeight:384,get content(){return t.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return e(Re)},get copySuccessIconTitle(){return e(Ze)}}),I($e=>g(Je,$e),[()=>v("common.stack-trace")]),l(ce,ie)};m(le,ce=>{var ie;(ie=t.operation.lastAttemptFailure)!=null&&ie.stackTrace&&ce(pe)})}r(q),r(w),l(o,w)},f=a(()=>t.operation.attempt>1);var d=Za(),x=n(d),L=n(x),j=n(L);Ge(j,{children:(o,w)=>{ue();var H=ne();I(()=>g(H,t.operation.state)),l(o,H)},$$slots:{default:!0}});var P=s(j,2),b=n(P,!0);r(P),r(L),r(x);var S=s(x,2),R=n(S),h=n(R);{var D=o=>{var w=re(()=>v("nexus.endpoint"));Te(o,()=>e(w),()=>t.operation.endpoint)};m(h,o=>{t.operation.endpoint&&o(D)})}var V=s(h,2);{var z=o=>{var w=re(()=>v("nexus.service"));Te(o,()=>e(w),()=>t.operation.service)};m(V,o=>{t.operation.service&&o(z)})}var W=s(V,2);{var Y=o=>{var w=re(()=>v("nexus.operation"));Te(o,()=>e(w),()=>t.operation.operation)};m(W,o=>{t.operation.operation&&o(Y)})}var K=s(W,2);{var X=o=>{var w=re(()=>v("nexus.operation-token"));Te(o,()=>e(w),()=>t.operation.operationToken)};m(K,o=>{t.operation.operationToken&&o(X)})}var me=s(K,2),je=re(()=>v("workflows.attempt"));Te(me,()=>e(je),()=>k);var fe=s(me,2);{var B=o=>{var w=Ne();const H=a(()=>Kt({date:t.operation.nextAttemptScheduleTime,negativeDefault:""}));var se=oe(w);{var $=q=>{E(q,()=>e(H))};m(se,q=>{e(H)&&q($)})}l(o,w)};m(fe,o=>{t.operation.nextAttemptScheduleTime&&o(B)})}var ye=s(fe,2);{var Pe=o=>{var w=re(()=>v("workflows.last-attempt-completed-time")),H=re(()=>He(t.operation.lastAttemptCompleteTime,_(),{relative:y()}));Te(o,()=>e(w),()=>e(H))};m(ye,o=>{t.operation.lastAttemptCompleteTime&&o(Pe)})}var qe=s(ye,2);{var Ye=o=>{var w=re(()=>v("workflows.schedule-event-id"));Te(o,()=>e(w),()=>t.operation.scheduledEventId)};m(qe,o=>{t.operation.scheduledEventId&&o(Ye)})}var T=s(qe,2);{var F=o=>{var w=re(()=>v("workflows.scheduled-time")),H=re(()=>He(t.operation.scheduledTime,_(),{relative:y(),relativeStrict:!0}));Te(o,()=>e(w),()=>e(H))};m(T,o=>{t.operation.scheduledTime&&o(F)})}var O=s(T,2);{var U=o=>{var w=re(()=>v("workflows.schedule-to-close-timeout"));Te(o,()=>e(w),()=>t.operation.scheduleToCloseTimeout)};m(O,o=>{t.operation.scheduleToCloseTimeout&&o(U)})}r(R);var G=s(R,2),xe=n(G);{var _e=o=>{p(o)};m(xe,o=>{e(f)&&o(_e)})}var ke=s(xe,2);{var De=o=>{var w=Ja(),H=n(w),se=n(H,!0);r(H);var $=s(H,2);const q=a(()=>v("common.copy-icon-title")),le=a(()=>v("common.copy-success-icon-title"));Me($,{language:"text",get content(){return t.operation.blockedReason},get copyIconTitle(){return e(q)},get copySuccessIconTitle(){return e(le)}}),r(w),I(pe=>g(se,pe),[()=>v("nexus.blocked-reason")]),l(o,w)};m(ke,o=>{t.operation.blockedReason&&o(De)})}var Se=s(ke,2);{var Fe=o=>{var w=Xa(),H=n(w),se=n(H,!0);r(H);var $=s(H,2);const q=a(()=>Vt(t.operation.cancellationInfo)),le=a(()=>v("common.copy-icon-title")),pe=a(()=>v("common.copy-success-icon-title"));Me($,{language:"text",get content(){return e(q)},get copyIconTitle(){return e(le)},get copySuccessIconTitle(){return e(pe)}}),r(w),I(ce=>g(se,ce),[()=>v("nexus.cancellation-info")]),l(o,w)};m(Se,o=>{Object.keys(t.operation.cancellationInfo??{}).length>0&&o(Fe)})}r(G),r(S),r(d),I(o=>g(b,o),[()=>v("workflows.pending-nexus-operation")]),l(A,d),Ve(),u()}function Xt(A,t){const i=it(t,["children","$$slots","$$events","$$legacy"]),u=it(i,["value","attributes","type"]);Oe(t,!1);const[_,y]=ct(),E=()=>Ee(Ua,"$page",_),k=we(),p=we(),f=we(),d=we(),x=we(),L=we(),j=we(),P=we();let b=J(t,"value",8),S=J(t,"attributes",8),R=J(t,"type",8);Ie(()=>(e(k),e(p),E()),()=>{(h=>(de(k,h.workflow),de(p,h.namespace)))(E().params)}),Ie(()=>(e(p),e(k),Ae(b())),()=>{de(f,Nt({namespace:e(p),workflow:e(k),run:b()}))}),Ie(()=>(e(p),Ae(b())),()=>{de(d,Na({namespace:e(p),queue:b()}))}),Ie(()=>(e(p),Ae(S())),()=>{de(x,Nt({namespace:e(p),workflow:S().workflowExecutionWorkflowId,run:S().workflowExecutionRunId}))}),Ie(()=>Ae(b()),()=>{de(L,Oa(b()))}),Ie(()=>(e(f),e(d),e(x),e(L)),()=>{de(j,{execution:e(f),"task-queue":e(d),"child-workflow":e(x),"nexus-endpoint":e(L)})}),Ie(()=>(e(j),Ae(R())),()=>{de(P,e(j)[R()])}),gt(),kt(),Qe(A,{get class(){return u.class},get href(){return e(P)},children:(h,D)=>{ue();var V=ne();I(()=>g(V,b())),l(h,V)},$$slots:{default:!0}}),Ve(),y()}const er=(A,t=Q)=>{var i=or();const u=a(()=>Yt(t())),_=a(()=>{var d;return((d=e(u).split("workflows/"))==null?void 0:d[1])||e(u)});var y=n(i),E=n(y,!0);r(y);var k=s(y,2);const p=a(()=>v("common.copy-icon-title")),f=a(()=>v("common.copy-success-icon-title"));Ke(k,{get copyIconTitle(){return e(p)},get copySuccessIconTitle(){return e(f)},get content(){return e(_)},children:(d,x)=>{Qe(d,{get href(){return e(u)},class:"whitespace-pre-line",children:(L,j)=>{ue();var P=ne();I(()=>g(P,e(_))),l(L,P)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(i),I(d=>g(E,d),[()=>v("nexus.link")]),l(A,i)},tr=(A,t=Q)=>{var i=sr();const u=a(()=>Va({namespace:t().workflowEvent.namespace}));var _=n(i),y=n(_,!0);r(_);var E=s(_,2);const k=a(()=>v("common.copy-icon-title")),p=a(()=>v("common.copy-success-icon-title"));Ke(E,{get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(p)},get content(){return t().workflowEvent.namespace},children:(f,d)=>{Qe(f,{get href(){return e(u)},class:"whitespace-pre-line",children:(x,L)=>{ue();var j=ne();I(()=>g(j,t().workflowEvent.namespace)),l(x,j)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(i),I(f=>g(y,f),[()=>v("nexus.link-namespace")]),l(A,i)},ar=(A,t=Q)=>{var i=Ne(),u=oe(i);We(u,17,t,yt,(_,y,E,k)=>{var p=ir(),f=oe(p);er(f,()=>e(y));var d=s(f,2);tr(d,()=>e(y)),l(_,p)}),l(A,i)},rr=(A,t=Q)=>{var i=lr(),u=s(n(i),2),_=n(u);const y=a(()=>v("events.decode-failed"));Jt(_,{get value(){return t()},get fallback(){return e(y)},children:Ut,$$slots:{default:(E,k)=>{const p=a(()=>k.decodedValue);ue();var f=ne();I(()=>g(f,e(p))),l(E,f)}}}),r(u),r(i),l(A,i)},nr=(A,t=Q,i=Q)=>{var u=vr();const _=a(()=>La(i())),y=a(()=>Ma(e(_)));var E=oe(u),k=n(E),p=n(k,!0);r(k);var f=s(k,2);{var d=P=>{ot(P,{get value(){return i()},key:"payloads",children:(S,R=Q)=>{const h=a(()=>v("common.copy-icon-title")),D=a(()=>v("common.copy-success-icon-title"));Me(S,{get content(){return R()},maxHeight:384,get copyIconTitle(){return e(h)},get copySuccessIconTitle(){return e(D)}})},$$slots:{default:!0}})},x=(P,b)=>{{var S=h=>{const D=a(()=>({searchAttributes:e(_)}));ot(h,{key:"searchAttributes",get value(){return e(D)},children:(z,W=Q)=>{const Y=a(()=>v("common.copy-icon-title")),K=a(()=>v("common.copy-success-icon-title"));Me(z,{get content(){return W()},maxHeight:384,get copyIconTitle(){return e(Y)},get copySuccessIconTitle(){return e(K)}})},$$slots:{default:!0}})},R=h=>{ot(h,{get value(){return e(_)},children:(V,z=Q)=>{const W=a(()=>v("common.copy-icon-title")),Y=a(()=>v("common.copy-success-icon-title"));Me(V,{get content(){return z()},maxHeight:384,get copyIconTitle(){return e(W)},get copySuccessIconTitle(){return e(Y)}})},$$slots:{default:!0}})};m(P,h=>{t()==="searchAttributes"?h(S):h(R,!1)},b)}};m(f,P=>{var b;(b=i())!=null&&b.payloads?P(d):P(x,!1)})}r(E);var L=s(E,2);{var j=P=>{var b=cr(),S=n(b),R=n(S,!0);r(S);var h=s(S,2);const D=a(()=>v("common.copy-icon-title")),V=a(()=>v("common.copy-success-icon-title"));Me(h,{get content(){return e(y)},language:"text",maxHeight:384,get copyIconTitle(){return e(D)},get copySuccessIconTitle(){return e(V)}}),r(b),I(z=>g(R,z),[()=>v("workflows.call-stack-tab")]),l(P,b)};m(L,P=>{e(y)&&P(j)})}I(P=>g(p,P),[()=>lt(t())]),l(A,u)};var or=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),sr=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ir=M("<!> <!>",1),lr=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),cr=M('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),vr=M('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),dr=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ur=M('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"> </p></div>'),mr=M('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),fr=M('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <p class="text-sm"> </p></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function Bt(A,t){Oe(t,!0);const[i,u]=ct(),_=()=>Ee(wt,"$timeFormat",i),y=()=>Ee(ht,"$relativeTime",i),E=(T,F=Q,O=Q)=>{var U=dr(),G=n(U),xe=n(G,!0);r(G);var _e=s(G,2);const ke=a(()=>v("common.copy-icon-title")),De=a(()=>v("common.copy-success-icon-title")),Se=a(()=>String(O()));Ke(_e,{get copyIconTitle(){return e(ke)},get copySuccessIconTitle(){return e(De)},get content(){return e(Se)},children:(Fe,o)=>{const w=a(()=>String(O())),H=a(()=>nt(F(),e(f)));Xt(Fe,{get value(){return e(w)},get attributes(){return e(f)},get type(){return e(H)},class:"whitespace-pre-line"})},$$slots:{default:!0}}),r(U),I(Fe=>g(xe,Fe),[()=>lt(F())]),l(T,U)},k=(T,F=Q,O=Q)=>{var U=ur(),G=n(U),xe=n(G,!0);r(G);var _e=s(G,2),ke=n(_e,!0);r(_e),r(U),I((De,Se)=>{g(xe,De),g(ke,Se)},[()=>lt(F()),()=>Ca(F())?He(O(),_()):O()]),l(T,U)},p=a(()=>Le(t.event)?v("events.category.local-activity"):Gt(t.event.name)),f=a(()=>Qt(t.event)),d=a(()=>Object.entries(e(f))),x=a(()=>e(d).filter(([T,F])=>typeof F=="object"&&Object.keys(F).length>0)),L=a(()=>e(d).filter(([T,F])=>nt(T,e(f))!=="none")),j=a(()=>t.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:t.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),P=a(()=>e(d).filter(([T,F])=>typeof F!="object"&&nt(T,e(f))==="none"&&!e(j).includes(T)&&(T!=="namespace"||T==="namespace"&&ze.params.namespace!==F)));var b=fr(),S=n(b),R=n(S),h=n(R),D=n(h,!0);r(h);var V=s(h,2),z=n(V,!0);r(V),r(R);var W=s(R,2),Y=n(W,!0);r(W),r(S);var K=s(S,2),X=n(K),me=n(X);{var je=T=>{ar(T,()=>t.event.links)};m(me,T=>{var F,O;(O=(F=t.event)==null?void 0:F.links)!=null&&O.length&&T(je)})}var fe=s(me,2);{var B=T=>{rr(T,()=>t.event.userMetadata.summary)};m(fe,T=>{var F,O;(O=(F=t.event)==null?void 0:F.userMetadata)!=null&&O.summary&&T(B)})}var ye=s(fe,2);We(ye,17,()=>e(P),([T,F])=>T,(T,F)=>{k(T,()=>e(F)[0],()=>e(F)[1])});var Pe=s(ye,2);We(Pe,17,()=>e(L),([T,F])=>T,(T,F)=>{E(T,()=>e(F)[0],()=>e(F)[1])}),r(X);var qe=s(X,2);{var Ye=T=>{var F=mr();We(F,21,()=>e(x),([O,U])=>O,(O,U)=>{nr(O,()=>e(U)[0],()=>e(U)[1])}),r(F),l(T,F)};m(qe,T=>{e(x).length&&T(Ye)})}r(K),r(b),I(T=>{g(D,t.event.id),g(z,e(p)),g(Y,T)},[()=>He(t.event.eventTime,_(),{relative:y()})]),l(A,b),Ve(),u()}var _r=M('<div class="flex flex-col overflow-hidden"><!> <!></div>');function pr(A,t){Oe(t,!0);let i=J(t,"group",3,void 0),u=J(t,"event",3,void 0);const _=a(()=>(i()===null||i()===void 0?void 0:i().pendingActivity)||(i()===null||i()===void 0?void 0:i().pendingNexusOperation)),y=a(()=>i()&&(i().eventList.length>1||e(_)));var E=Ne(),k=oe(E);{var p=d=>{var x=_r(),L=n(x);{var j=S=>{Ha(S,{get activity(){return i().pendingActivity}})},P=(S,R)=>{{var h=D=>{$a(D,{get operation(){return i().pendingNexusOperation}})};m(S,D=>{var V;(V=i())!=null&&V.pendingNexusOperation&&D(h)},R)}};m(L,S=>{var R;(R=i())!=null&&R.pendingActivity?S(j):S(P,!1)})}var b=s(L,2);We(b,17,()=>i().eventList,yt,(S,R)=>{Bt(S,{get event(){return e(R)}})}),r(x),l(d,x)},f=(d,x)=>{{var L=j=>{Bt(j,{get event(){return u()}})};m(d,j=>{u()&&j(L)},x)}};m(k,d=>{e(y)?d(p):d(f,!1)})}l(A,E),Ve()}var xr=M('<p class="whitespace-nowrap text-right text-xs"> </p>'),gr=M('<div><code class="svelte-1qb2863"><pre class="truncate svelte-1qb2863"> </pre></code></div>'),yr=M('<div class="flex max-w-sm items-center justify-between gap-2 overflow-hidden pr-1 xl:flex-nowrap"><!></div>'),hr=M('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><!> <!></div>');function rt(A,t){const i=it(t,["children","$$slots","$$events","$$legacy"]);Oe(t,!1);const u=we();let _=J(t,"key",8),y=J(t,"value",8),E=J(t,"attributes",8),k=J(t,"showKey",8,!0);Ie(()=>(Ae(_()),Ae(E())),()=>{de(u,nt(_(),E()))}),gt(),kt();var p=Ne(),f=oe(p);{var d=x=>{var L=hr(),j=n(L);{var P=h=>{var D=xr(),V=n(D,!0);r(D),I(z=>g(V,z),[()=>lt(_())],re),l(h,D)};m(j,h=>{k()&&h(P)})}var b=s(j,2);{var S=h=>{var D=yr(),V=n(D);ot(V,{get value(){return y()},key:"payloads",children:(W,Y=Q)=>{var K=gr(),X=n(K),me=n(X),je=n(me,!0);r(me),r(X),r(K),I((fe,B)=>{st(K,1,fe,"svelte-1qb2863"),g(je,B)},[()=>zt(xt("payload",i.class)),()=>Y().slice(0,60)],re),l(W,K)},$$slots:{default:!0}}),r(D),l(h,D)},R=(h,D)=>{{var V=W=>{const Y=re(()=>v("common.copy-icon-title")),K=re(()=>v("common.copy-success-icon-title"));Ke(W,{get copyIconTitle(){return e(Y)},get copySuccessIconTitle(){return e(K)},get content(){return y()},"container-class":"truncate",children:(X,me)=>{Xt(X,{get value(){return y()},get attributes(){return E()},get type(){return e(u)},class:"truncate"})},$$slots:{default:!0}})},z=W=>{Ge(W,{type:"subtle",class:"block select-none truncate",children:(Y,K)=>{ue();var X=ne();I(()=>g(X,y())),l(Y,X)},$$slots:{default:!0}})};m(h,W=>{e(u)!=="none"?W(V):W(z,!1)},D)}};m(b,h=>{typeof y()=="object"?h(S):h(R,!1)})}r(L),l(x,L)};m(f,x=>{_()&&x(d)})}l(A,p),Ve()}var wr=M('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function kr(A,t){const i=it(t,["children","$$slots","$$events","$$legacy"]);Oe(t,!1);var u=we();let _=J(t,"link",8),y=J(t,"value",28,()=>_().workflowEvent.workflowId),E=J(t,"label",24,()=>v("nexus.link")),k=J(t,"href",12,void 0);Ie(()=>(Ae(k()),Ae(_()),mt(u)),()=>{k()||(k(Yt(_())),y((de(u,k().split("workflows/"))===null||mt(u)===void 0?void 0:mt(u)[1])||k()))}),gt(),kt();var p=wr(),f=n(p),d=n(f,!0);r(f);var x=s(f,2),L=n(x);Qe(L,{get href(){return k()},children:(j,P)=>{ue();var b=ne();I(()=>g(b,y())),l(j,b)},$$slots:{default:!0}}),r(x),r(p),I(()=>{st(p,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${i.class??""}`),g(d,E()),st(x,1,`overflow-hidden ${i.linkClass??""}`)}),l(A,p),Ve()}var br=M('<td class="font-mono"><div class="flex items-center gap-0.5"></div></td>'),Tr=M('<td class="font-mono"><!></td>'),Ir=M(" <!>",1),Ar=M("<!> <!>",1),Er=M('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><p class="whitespace-nowrap text-right text-xs">Summary</p> <!></div>'),Pr=M('<td><div class="flex justify-center gap-0.5"><!></div></td>'),Sr=M('<tr class="w-full text-sm no-underline"><td class="!p-0"><!></td></tr>'),Fr=M('<tr data-testid="event-summary-row"><!><td class="text-right md:hidden"><!></td><td class="hidden text-right md:table-cell"><!></td><td class="truncate"><p class="whitespace-nowrap font-semibold md:text-base"> </p></td><td class="w-full items-center gap-2 text-right text-sm font-normal xl:text-left"><div class="flex items-center gap-2"><!> <!> <!> <!> <!> <!> <!></div></td><!></tr> <!>',1);function hn(A,t){Oe(t,!0);const[i,u]=ct(),_=()=>Ee(wt,"$timeFormat",i),y=()=>Ee(ht,"$relativeTime",i),E=()=>Ee(ba,"$authUser",i),k=()=>Ee(ka,"$isCloud",i);var p,f,d,x,L,j,P,b;let S=J(t,"compact",3,!1),R=J(t,"expanded",3,!1),h=J(t,"onRowClick",3,()=>{}),D=J(t,"hoveredEventId",15),V=Dt(pa(R())),z=Dt(void 0);const W=a(()=>Z(t.event)?Array.from(t.event.events.keys()).shift():t.event.id),Y=a(()=>ze.params),K=a(()=>e(Y).workflow),X=a(()=>e(Y).run),me=a(()=>e(Y).namespace),je=a(()=>Ot({eventId:t.event.id,namespace:e(me),workflow:e(K),run:e(X)})),fe=a(()=>Qt(t.event)),B=a(()=>Z(t.event)?t.event.events.get(e(W)):t.event),ye=a(()=>Ht({start:t.initialItem===null||t.initialItem===void 0?void 0:t.initialItem.eventTime,end:Z(e(B))?(p=e(B).initialEvent)===null||p===void 0?void 0:p.eventTime:e(B)===null||e(B)===void 0?void 0:e(B).eventTime,includeMillisecondsForUnderSecond:!0})),Pe=a(()=>Z(t.event)?Ht({start:(f=t.event.initialEvent)===null||f===void 0?void 0:f.eventTime,end:(d=t.event.lastEvent)===null||d===void 0?void 0:d.eventTime,includeMillisecondsForUnderSecond:!0}):""),qe=a(()=>ya(t.event)),Ye=a(()=>ha(t.event)),T=a(()=>wa(t.event)),F=a(()=>Z(t.event)?t.event.label:Le(t.event)?v("events.category.local-activity"):Gt(t.event.name)),O=a(()=>Le(t.event)?void 0:ja(Z(t.event)?t.event.initialEvent:t.event)),U=a(()=>Da(Z(t.event)?t.event.lastEvent:t.event,e(O)===null||e(O)===void 0?void 0:e(O).key)),G=a(()=>Z(t.event)&&(t.event===null||t.event===void 0?void 0:t.event.pendingActivity)),xe=a(()=>e(G)&&(e(G)===null||e(G)===void 0?void 0:e(G).paused)),_e=a(()=>Z(t.event)&&t.event.isPending&&(((x=t.event===null||t.event===void 0?void 0:t.event.pendingActivity)===null||x===void 0?void 0:x.attempt)||((L=t.event===null||t.event===void 0?void 0:t.event.pendingNexusOperation)===null||L===void 0?void 0:L.attempt))),ke=a(()=>Z(t.event)&&!t.event.isPending&&((P=(j=t.event.eventList.find(Ra))===null||j===void 0?void 0:j.attributes)===null||P===void 0?void 0:P.attempt)),De=a(()=>S()&&(e(U)===null||e(U)===void 0?void 0:e(U).key)&&(e(U)===null||e(U)===void 0?void 0:e(U).key)!==(e(O)===null||e(O)===void 0?void 0:e(O).key)&&!(!((b=e(B)===null||e(B)===void 0?void 0:e(B).userMetadata)===null||b===void 0)&&b.summary)),Se=a(()=>He(e(B)===null||e(B)===void 0?void 0:e(B).eventTime,_(),{relative:y()})),Fe=a(()=>He(e(B)===null||e(B)===void 0?void 0:e(B).eventTime,_(),{relative:y(),abbrFormat:!0})),o=c=>{de(V,!e(V)),c.stopPropagation(),h()()},w=()=>{D(t.event.id)},H=()=>{D(void 0)};let se=(c,C)=>{var N;return(N=c==null?void 0:c.eventIds)===null||N===void 0?void 0:N.has(C)};ga(async()=>{Le(t.event)?de(z,await qt(t.event,{namespace:ze.params.namespace,settings:ze.data.settings,accessToken:E().accessToken}),!0):Z(t.event)&&Le(t.event.initialEvent)&&de(z,await qt(t.event.initialEvent,{namespace:ze.params.namespace,settings:ze.data.settings,accessToken:E().accessToken}),!0)});var $=Fr(),q=oe($);q.__click=o;var le=n(q);{var pe=c=>{var C=br(),N=n(C);We(N,21,()=>t.event.eventList,yt,(ee,te)=>{const ae=a(()=>Ot({eventId:e(te).id,namespace:e(me),workflow:e(K),run:e(X)}));Qe(ee,{"data-testid":"link",get href(){return e(ae)},children:(ve,Ce)=>{ue();var he=ne();I(()=>g(he,e(te).id)),l(ve,he)},$$slots:{default:!0}})}),r(N),r(C),l(c,C)},ce=c=>{var C=Tr(),N=n(C);Qe(N,{"data-testid":"link",get href(){return e(je)},children:(ee,te)=>{ue();var ae=ne();I(()=>g(ae,t.event.id)),l(ee,ae)},$$slots:{default:!0}}),r(C),l(c,C)};m(le,c=>{Z(t.event)?c(pe):c(ce,!1)})}var ie=s(le),ge=n(ie);const Je=a(()=>Z(t.event)&&!e(Pe)||!e(ye)),Xe=a(()=>Z(t.event)?`Duration: ${e(Pe)}`:`+${e(ye)}`);pt(ge,{get hide(){return e(Je)},get text(){return e(Xe)},class:"block",bottom:!0,children:(c,C)=>{const N=a(()=>v("common.copy-icon-title")),ee=a(()=>v("common.copy-success-icon-title"));Ke(c,{get copyIconTitle(){return e(N)},get copySuccessIconTitle(){return e(ee)},get content(){return e(Fe)},children:(te,ae)=>{ue();var ve=ne();I(()=>g(ve,e(Fe))),l(te,ve)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(ie);var Re=s(ie),Ze=n(Re);const $e=a(()=>Z(t.event)&&!e(Pe)||!e(ye)),vt=a(()=>Z(t.event)?`Duration: ${e(Pe)}`:`+${e(ye)}`);pt(Ze,{get hide(){return e($e)},get text(){return e(vt)},class:"block",bottom:!0,children:(c,C)=>{const N=a(()=>v("common.copy-icon-title")),ee=a(()=>v("common.copy-success-icon-title"));Ke(c,{get copyIconTitle(){return e(N)},get copySuccessIconTitle(){return e(ee)},get content(){return e(Se)},children:(te,ae)=>{ue();var ve=ne();I(()=>g(ve,e(Se))),l(te,ve)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(Re);var dt=s(Re),bt=n(dt),Zt=n(bt,!0);r(bt),r(dt);var ut=s(dt),Tt=n(ut),It=n(Tt);{var $t=c=>{const C=a(()=>e(xe)?"warning":e(_e)>1?"danger":"default");Ge(c,{class:"mr-1",get type(){return e(C)},children:(N,ee)=>{var te=Ar(),ae=oe(te);const ve=a(()=>xt("mr-1 inline",e(_e)>1&&"font-bold text-red-400",e(xe)&&"font-bold text-yellow-700")),Ce=a(()=>e(xe)?"pause":"retry");Wt(ae,{get class(){return e(ve)},get name(){return e(Ce)}});var he=s(ae),et=s(he);{var at=be=>{var tt=Ir(),Ct=oe(tt),da=s(Ct);{var ua=Be=>{var Lt=Ne();const Mt=a(()=>{var Ue;return Kt({date:(Ue=e(G))==null?void 0:Ue.scheduledTime,negativeDefault:""})});var ma=oe(Lt);{var fa=Ue=>{var jt=ne();I(_a=>g(jt,`• ${_a??""}
                ${e(Mt)??""}`),[()=>v("workflows.next-retry")]),l(Ue,jt)};m(ma,Ue=>{e(Mt)&&Ue(fa)})}l(Be,Lt)};m(da,Be=>{e(_e)>1&&Be(ua)})}I(()=>{var Be;return g(Ct,`/ ${((Be=e(G))==null?void 0:Be.maximumAttempts)||"∞"} `)}),l(be,tt)};m(et,be=>{e(G)&&be(at)})}I(be=>g(he,` ${be??""}
          ${e(_e)??""} `),[()=>v("workflows.attempt")]),l(N,te)},$$slots:{default:!0}})};m(It,c=>{e(_e)&&c($t)})}var At=s(It,2);{var ea=c=>{rt(c,_t(()=>e(O),{get attributes(){return e(fe)}}))};m(At,c=>{var C;!e(z)&&((C=e(O))!=null&&C.key)&&c(ea)})}var Et=s(At,2);{var ta=c=>{rt(c,_t(()=>e(z),{get attributes(){return e(fe)}}))};m(Et,c=>{e(z)&&e(z).key&&c(ta)})}var Pt=s(Et,2);{var aa=c=>{Jt(c,{get value(){return e(B).userMetadata.summary},children:Ut,$$slots:{default:(C,N)=>{const ee=a(()=>N.decodedValue);var te=Ne(),ae=oe(te);{var ve=Ce=>{var he=Er(),et=s(n(he),2);Ge(et,{type:"secondary",class:"block select-none truncate",children:(at,be)=>{ue();var tt=ne();I(()=>g(tt,e(ee))),l(at,tt)},$$slots:{default:!0}}),r(he),l(Ce,he)};m(ae,Ce=>{e(ee)&&Ce(ve)})}l(C,te)}}})};m(Pt,c=>{var C,N;(N=(C=e(B))==null?void 0:C.userMetadata)!=null&&N.summary&&c(aa)})}var St=s(Pt,2);{var ra=c=>{kr(c,{get link(){return e(B).links[0]},class:"max-w-xl",linkClass:"truncate"})};m(St,c=>{var C,N;(N=(C=e(B))==null?void 0:C.links)!=null&&N.length&&c(ra)})}var Ft=s(St,2);{var na=c=>{const C=a(()=>e(ke).toString());rt(c,{key:"attempt",get value(){return e(C)},get attributes(){return e(fe)}})};m(Ft,c=>{e(ke)&&c(na)})}var oa=s(Ft,2);{var sa=c=>{rt(c,_t(()=>e(U),{get attributes(){return e(fe)}}))};m(oa,c=>{e(De)&&c(sa)})}r(Tt),r(ut);var ia=s(ut);{var la=c=>{var C=Pr(),N=n(C),ee=n(N);{var te=ae=>{const ve=a(()=>v("workflows.estimated-billable-actions"));pt(ae,{get text(){return e(ve)},topRight:!0,children:(Ce,he)=>{Ge(Ce,{type:"subtle",class:"text-bold shrink-0 gap-1 px-1.5",children:(et,at)=>{ue();var be=ne();I(()=>g(be,t.event.billableActions)),l(et,be)},$$slots:{default:!0}})},$$slots:{default:!0}})};m(ee,ae=>{t.event.billableActions&&ae(te)})}r(N),r(C),l(c,C)};m(ia,c=>{k()&&c(la)})}r(q);var ca=s(q,2);{var va=c=>{var C=Sr(),N=n(C),ee=n(N);pr(ee,{get group(){return t.group},get event(){return e(B)}}),r(N),r(C),I(()=>ft(N,"colspan",k()?5:4)),l(c,C)};m(ca,c=>{e(V)&&c(va)})}I(c=>{st(q,1,c,"svelte-1cm88cy"),ft(q,"id",`${t.event.id}-${t.index}`),ft(q,"data-eventid",t.event.id),g(Zt,e(F))},[()=>zt(xt("hover:cursor-pointer",e(qe)&&"!bg-red-400/40 hover:!bg-red-400/60",e(Ye)&&"!bg-yellow-400/30 hover:!bg-yellow-400/50",e(T)&&"!bg-pink-700/30 hover:!bg-pink-700/50",se(t.group,D())&&"active"))]),Rt("mouseenter",q,w),Rt("mouseleave",q,H),l(A,$),Ve(),u()}xa(["click"]);export{hn as E,rt as a,pr as b,kr as c,qt as d,yn as g};
