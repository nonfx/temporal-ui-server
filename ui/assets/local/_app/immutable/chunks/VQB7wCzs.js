import"./CWj6FrbW.js";import{p as qe,ax as a,e as n,n as ge,t as L,c as l,r,a9 as fe,g as e,b as Ne,f as $,d as re,l as ue,s as K,m as ae,ah as Ie,a as pt,aA as ze,i as Ke,aL as Nt,$ as ha}from"./CVkC3v6g.js";import{s as w}from"./DUPvQxLd.js";import{i as _}from"./DpQPgcBL.js";import{e as Qe,i as Pt}from"./ojfNN_0P.js";import{t as D,b as le,a as c,c as Ae}from"./CXa2DXXa.js";import{c as ka,s as it,a as bt}from"./01A5YHN4.js";import{d as ba,e as Ht}from"./FZ_CX87U.js";import{l as mt,p as G,s as Tt}from"./BNtWe5Xb.js";import{s as lt,a as Ee}from"./B71MWTBs.js";import{o as Ta}from"./DaqIHZoW.js";import{p as Me}from"./CEC5gFID.js";import{B as Xe}from"./svNy4rTM.js";import{C as Ye}from"./Drk5welV.js";import{I as zt}from"./BkKACGbj.js";import{L as Je}from"./LH3G9Yqj.js";import{T as It}from"./CbiwIFSL.js";import{t as v}from"./D2OY9xdY.js";import{i as ie,e as Ia,a as Ea,b as Aa}from"./D6JOBTct.js";import{i as Pa}from"./C4ry1RZU.js";import{a as Sa}from"./BaP1uuNe.js";import{f as Ge,r as St,t as Ct}from"./BogN5CJj.js";import{a as Ca,c as Fa,d as La}from"./Rj7H03Qd.js";import{s as Kt,f as _t}from"./ByTIZu23.js";import{t as Qt,f as Xt,P as Va}from"./C00B9oC8.js";import{k as Wt}from"./B6L3uVBf.js";import{g as Yt,b as Jt,a as Zt}from"./tA8Lu2_-.js";import{d as ut,c as Ra,e as Oa,f as Da,h as Ma,j as ja,k as qa,l as Na}from"./DEYbFwjj.js";import{f as Et,v as Ha}from"./zKVhcdie.js";import{w as st,b as At,h as Wa,k as Ba,a as Ua}from"./dAqOlFj6.js";import{s as Ga}from"./Cp2--30W.js";import{C as je}from"./yMkT9UdU.js";import{o as za}from"./C8ejR22J.js";import{s as Bt}from"./CTBtQUu0.js";import"./69_IOA4Y.js";import{i as xt}from"./B3G23GpA.js";import{p as $t}from"./BlTZtavH.js";import"./BLjkLUx2.js";import"./C7NWYhyJ.js";import{a as Ka}from"./Bp8CRxSd.js";import{s as Ut}from"./DrOJgH2Z.js";import{P as ft}from"./jKvhmrJz.js";import{t as ea}from"./Ds6tgvmq.js";const Le=(m,t=fe,s=fe)=>{var x=Xa(),d=n(x),p=n(d,!0);r(d);var T=l(d,2),g=n(T);{var u=f=>{var h=le();L(()=>w(h,s())),c(f,h)},y=f=>{var h=Ae(),V=$(h);Ga(V,()=>s()??fe),c(f,h)};_(g,f=>{typeof s()=="string"||typeof s()=="number"?f(u):f(y,!1)})}r(T),r(x),L(()=>w(p,t())),c(m,x)};var Qa=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Xa=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),Ya=D("<!> ",1),Ja=D('<p class="text-sm text-secondary/80"> </p> <!>',1),Za=D('<p class="text-sm text-secondary/80"> </p> <!>',1),$a=D('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),er=D('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),tr=D('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),ar=D('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function rr(m,t){qe(t,!0);const[s,x]=lt(),d=()=>Ee(Ct,"$timeFormat",s),p=()=>Ee(St,"$relativeTime",s),T=(o,P=fe)=>{var N=Qa(),de=n(N),se=n(de,!0);r(de);var H=l(de,2),me=n(H),_e=l(me),pe=n(_e);r(_e),r(H),r(N),L((ye,xe)=>{w(se,ye),w(me,`${xe??""} `),w(pe,`(${P()??""})`)},[()=>v("workflows.next-retry"),()=>Ge(t.operation.nextAttemptScheduleTime,d(),{relative:p(),relativeLabel:""})]),c(o,N)},g=o=>{const P=a(()=>e(y)?"danger":"default");Xe(o,{class:"mr-1",get type(){return e(P)},children:(N,de)=>{var se=Ya(),H=$(se);const me=a(()=>e(y)&&"font-bold text-red-400");zt(H,{get class(){return`mr-1 ${e(me)??""}`},name:"retry"});var _e=l(H);L(()=>w(_e,` ${t.operation.attempt??0}`)),c(N,se)},$$slots:{default:!0}})},u=o=>{var P=$a(),N=n(P),de=n(N);{var se=pe=>{var ye=Ja(),xe=$(ye),$e=n(xe,!0);r(xe);var et=l(xe,2);const tt=a(()=>Bt(za(t.operation.lastAttemptFailure,"stackTrace"))),We=a(()=>v("common.copy-icon-title")),at=a(()=>v("common.copy-success-icon-title"));je(et,{get content(){return e(tt)},maxHeight:384,get copyIconTitle(){return e(We)},get copySuccessIconTitle(){return e(at)}}),L(gt=>w($e,gt),[()=>v("workflows.last-failure")]),c(pe,ye)};_(de,pe=>{t.operation.lastAttemptFailure&&pe(se)})}r(N);var H=l(N,2),me=n(H);{var _e=pe=>{var ye=Za(),xe=$(ye),$e=n(xe,!0);r(xe);var et=l(xe,2);const tt=a(()=>v("common.copy-icon-title")),We=a(()=>v("common.copy-success-icon-title"));je(et,{language:"text",maxHeight:384,get content(){return t.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return e(tt)},get copySuccessIconTitle(){return e(We)}}),L(at=>w($e,at),[()=>v("common.stack-trace")]),c(pe,ye)};_(me,pe=>{var ye;(ye=t.operation.lastAttemptFailure)!=null&&ye.stackTrace&&pe(_e)})}r(H),r(P),c(o,P)},y=a(()=>t.operation.attempt>1);var f=ar(),h=n(f),V=n(h),M=n(V);Xe(M,{children:(o,P)=>{ge();var N=le();L(()=>w(N,t.operation.state)),c(o,N)},$$slots:{default:!0}});var S=l(M,2),C=n(S,!0);r(S),r(V),r(h);var I=l(h,2),q=n(I),F=n(q);{var R=o=>{var P=re(()=>v("nexus.endpoint"));Le(o,()=>e(P),()=>t.operation.endpoint)};_(F,o=>{t.operation.endpoint&&o(R)})}var k=l(F,2);{var j=o=>{var P=re(()=>v("nexus.service"));Le(o,()=>e(P),()=>t.operation.service)};_(k,o=>{t.operation.service&&o(j)})}var W=l(k,2);{var Z=o=>{var P=re(()=>v("nexus.operation"));Le(o,()=>e(P),()=>t.operation.operation)};_(W,o=>{t.operation.operation&&o(Z)})}var z=l(W,2);{var ne=o=>{var P=re(()=>v("nexus.operation-token"));Le(o,()=>e(P),()=>t.operation.operationToken)};_(z,o=>{t.operation.operationToken&&o(ne)})}var he=l(z,2),Pe=re(()=>v("workflows.attempt"));Le(he,()=>e(Pe),()=>g);var Ve=l(he,2);{var ke=o=>{var P=Ae();const N=a(()=>Qt({date:t.operation.nextAttemptScheduleTime,negativeDefault:""}));var de=$(P);{var se=H=>{T(H,()=>e(N))};_(de,H=>{e(N)&&H(se)})}c(o,P)};_(Ve,o=>{t.operation.nextAttemptScheduleTime&&o(ke)})}var B=l(Ve,2);{var Re=o=>{var P=re(()=>v("workflows.last-attempt-completed-time")),N=re(()=>Ge(t.operation.lastAttemptCompleteTime,d(),{relative:p()}));Le(o,()=>e(P),()=>e(N))};_(B,o=>{t.operation.lastAttemptCompleteTime&&o(Re)})}var Se=l(B,2);{var E=o=>{var P=re(()=>v("workflows.schedule-event-id"));Le(o,()=>e(P),()=>t.operation.scheduledEventId)};_(Se,o=>{t.operation.scheduledEventId&&o(E)})}var A=l(Se,2);{var U=o=>{var P=re(()=>v("workflows.scheduled-time")),N=re(()=>Ge(t.operation.scheduledTime,d(),{relative:p(),relativeStrict:!0}));Le(o,()=>e(P),()=>e(N))};_(A,o=>{t.operation.scheduledTime&&o(U)})}var ee=l(A,2);{var Q=o=>{var P=re(()=>v("workflows.schedule-to-close-timeout"));Le(o,()=>e(P),()=>t.operation.scheduleToCloseTimeout)};_(ee,o=>{t.operation.scheduleToCloseTimeout&&o(Q)})}r(q);var oe=l(q,2),ce=n(oe);{var be=o=>{u(o)};_(ce,o=>{e(y)&&o(be)})}var Ce=l(ce,2);{var He=o=>{var P=er(),N=n(P),de=n(N,!0);r(N);var se=l(N,2);const H=a(()=>v("common.copy-icon-title")),me=a(()=>v("common.copy-success-icon-title"));je(se,{language:"text",get content(){return t.operation.blockedReason},get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(me)}}),r(P),L(_e=>w(de,_e),[()=>v("nexus.blocked-reason")]),c(o,P)};_(Ce,o=>{t.operation.blockedReason&&o(He)})}var Oe=l(Ce,2);{var Ze=o=>{var P=tr(),N=n(P),de=n(N,!0);r(N);var se=l(N,2);const H=a(()=>Bt(t.operation.cancellationInfo)),me=a(()=>v("common.copy-icon-title")),_e=a(()=>v("common.copy-success-icon-title"));je(se,{language:"text",get content(){return e(H)},get copyIconTitle(){return e(me)},get copySuccessIconTitle(){return e(_e)}}),r(P),L(pe=>w(de,pe),[()=>v("nexus.cancellation-info")]),c(o,P)};_(Oe,o=>{Object.keys(t.operation.cancellationInfo??{}).length>0&&o(Ze)})}r(oe),r(I),r(f),L(o=>w(C,o),[()=>v("workflows.pending-nexus-operation")]),c(m,f),Ne(),x()}const ta=m=>{var t,s,x,d,p,T,g,u;return(s=(t=m.workflowEvent)==null?void 0:t.eventRef)!=null&&s.eventId?st({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId,eventId:m.workflowEvent.eventRef.eventId}):((d=(x=m.workflowEvent)==null?void 0:x.eventRef)==null?void 0:d.eventType)==="EVENT_TYPE_WORKFLOW_EXECUTION_STARTED"?st({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId,eventId:"1"}):(T=(p=m.workflowEvent)==null?void 0:p.requestIdRef)!=null&&T.requestId?st({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId,requestId:(u=(g=m.workflowEvent)==null?void 0:g.requestIdRef)==null?void 0:u.requestId}):At({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId})};function aa(m,t){const s=mt(t,["children","$$slots","$$events","$$legacy"]),x=mt(s,["value","attributes","type"]);qe(t,!1);const[d,p]=lt(),T=()=>Ee($t,"$page",d),g=ae(),u=ae(),y=ae(),f=ae(),h=ae(),V=ae(),M=ae(),S=ae();let C=G(t,"value",8),I=G(t,"attributes",8),q=G(t,"type",8);ue(()=>(e(g),e(u),T()),()=>{(F=>(K(g,F.workflow),K(u,F.namespace)))(T().params)}),ue(()=>(e(u),e(g),Ie(C())),()=>{K(y,At({namespace:e(u),workflow:e(g),run:C()}))}),ue(()=>(e(u),Ie(C())),()=>{K(f,Wa({namespace:e(u),queue:C()}))}),ue(()=>(e(u),Ie(I())),()=>{K(h,At({namespace:e(u),workflow:I().workflowExecutionWorkflowId,run:I().workflowExecutionRunId}))}),ue(()=>Ie(C()),()=>{K(V,Ba(C()))}),ue(()=>(e(y),e(f),e(h),e(V)),()=>{K(M,{execution:e(y),"task-queue":e(f),"child-workflow":e(h),"nexus-endpoint":e(V)})}),ue(()=>(e(M),Ie(q())),()=>{K(S,e(M)[q()])}),pt(),xt(),Je(m,{get class(){return x.class},get href(){return e(S)},children:(F,R)=>{ge();var k=le();L(()=>w(k,C())),c(F,k)},$$slots:{default:!0}}),Ne(),p()}function ra(m,t){qe(t,!1);const[s,x]=lt(),d=()=>Ee($t,"$page",s),p=ae(),T=ae(),g=ae(),u=ae(),y=ae();var f=ae();let h=G(t,"value",8,void 0),V=G(t,"fallback",8,""),M=G(t,"prefix",8,""),S=G(t,"onDecode",8,void 0);const C=120;let I=ae("");const q=k=>M()?(k=`${M()} • ${k}`,k.length<C?k:k.slice(0,C)+"..."):k;ue(()=>d(),()=>{K(p,Yt(d().data.settings))}),ue(()=>d(),()=>{K(T,Jt(d().data.settings))}),ue(()=>d(),()=>{K(g,Zt(d().data.settings))}),ue(()=>(d(),ze(f),e(p),e(T),e(g)),()=>{K(u,{...d().data.settings,codec:{...K(f,d().data.settings)===null||ze(f)===void 0?void 0:ze(f).codec,endpoint:e(p),passAccessToken:e(T),includeCredentials:e(g)}})}),ue(()=>(Ie(V()),e(I),e(u),Ie(S())),()=>{K(y,async k=>{if(!k)return V();if(e(I))return e(I);const j=await Ca(k,e(u));return typeof j=="string"?(K(I,q(j)),S()&&S()(e(I)),e(I)):(K(I,V()),V())})}),pt(),xt();var F=Ae(),R=$(F);Ka(R,()=>e(y)(h()),null,(k,j)=>{var W=Ae(),Z=$(W);Ut(Z,t,"default",{get decodedValue(){return e(j)}},null),c(k,W)},k=>{var j=Ae(),W=$(j);Ut(W,t,"default",{get decodedValue(){return V()}},null),c(k,j)}),c(m,F),Ne(),x()}const nr=(m,t=fe)=>{var s=cr();const x=a(()=>ta(t())),d=a(()=>{var f;return((f=e(x).split("workflows/"))==null?void 0:f[1])||e(x)});var p=n(s),T=n(p,!0);r(p);var g=l(p,2);const u=a(()=>v("common.copy-icon-title")),y=a(()=>v("common.copy-success-icon-title"));Ye(g,{get copyIconTitle(){return e(u)},get copySuccessIconTitle(){return e(y)},get content(){return e(d)},children:(f,h)=>{Je(f,{get href(){return e(x)},class:"whitespace-pre-line",children:(V,M)=>{ge();var S=le();L(()=>w(S,e(d))),c(V,S)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(s),L(f=>w(T,f),[()=>v("nexus.link")]),c(m,s)},or=(m,t=fe)=>{var s=dr();const x=a(()=>Ua({namespace:t().workflowEvent.namespace}));var d=n(s),p=n(d,!0);r(d);var T=l(d,2);const g=a(()=>v("common.copy-icon-title")),u=a(()=>v("common.copy-success-icon-title"));Ye(T,{get copyIconTitle(){return e(g)},get copySuccessIconTitle(){return e(u)},get content(){return t().workflowEvent.namespace},children:(y,f)=>{Je(y,{get href(){return e(x)},class:"whitespace-pre-line",children:(h,V)=>{ge();var M=le();L(()=>w(M,t().workflowEvent.namespace)),c(h,M)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(s),L(y=>w(p,y),[()=>v("nexus.link-namespace")]),c(m,s)},sr=(m,t=fe)=>{var s=Ae(),x=$(s);Qe(x,17,t,Pt,(d,p,T,g)=>{var u=vr(),y=$(u);nr(y,()=>e(p));var f=l(y,2);or(f,()=>e(p)),c(d,u)}),c(m,s)},ir=(m,t=fe)=>{var s=ur(),x=l(n(s),2),d=n(x);const p=a(()=>v("events.decode-failed"));ra(d,{get value(){return t()},get fallback(){return e(p)},children:Ke,$$slots:{default:(T,g)=>{const u=a(()=>g.decodedValue);ge();var y=le();L(()=>w(y,e(u))),c(T,y)}}}),r(x),r(s),c(m,s)},lr=(m,t=fe,s=fe)=>{var x=mr();const d=a(()=>Oa(s())),p=a(()=>Da(e(d)));var T=$(x),g=n(T),u=n(g,!0);r(g);var y=l(g,2);{var f=S=>{ft(S,{get value(){return s()},key:"payloads",children:Ke,$$slots:{default:(C,I)=>{const q=a(()=>I.decodedValue),F=a(()=>v("common.copy-icon-title")),R=a(()=>v("common.copy-success-icon-title"));je(C,{get content(){return e(q)},maxHeight:384,get copyIconTitle(){return e(F)},get copySuccessIconTitle(){return e(R)}})}}})},h=(S,C)=>{{var I=F=>{const R=a(()=>({searchAttributes:e(d)}));ft(F,{key:"searchAttributes",get value(){return e(R)},children:Ke,$$slots:{default:(k,j)=>{const W=a(()=>j.decodedValue),Z=a(()=>v("common.copy-icon-title")),z=a(()=>v("common.copy-success-icon-title"));je(k,{get content(){return e(W)},maxHeight:384,get copyIconTitle(){return e(Z)},get copySuccessIconTitle(){return e(z)}})}}})},q=F=>{ft(F,{get value(){return e(d)},children:Ke,$$slots:{default:(R,k)=>{const j=a(()=>k.decodedValue),W=a(()=>v("common.copy-icon-title")),Z=a(()=>v("common.copy-success-icon-title"));je(R,{get content(){return e(j)},maxHeight:384,get copyIconTitle(){return e(W)},get copySuccessIconTitle(){return e(Z)}})}}})};_(S,F=>{t()==="searchAttributes"?F(I):F(q,!1)},C)}};_(y,S=>{var C;(C=s())!=null&&C.payloads?S(f):S(h,!1)})}r(T);var V=l(T,2);{var M=S=>{var C=fr(),I=n(C),q=n(I,!0);r(I);var F=l(I,2);const R=a(()=>v("common.copy-icon-title")),k=a(()=>v("common.copy-success-icon-title"));je(F,{get content(){return e(p)},language:"text",maxHeight:384,get copyIconTitle(){return e(R)},get copySuccessIconTitle(){return e(k)}}),r(C),L(j=>w(q,j),[()=>v("workflows.call-stack-tab")]),c(S,C)};_(V,S=>{e(p)&&S(M)})}L(S=>w(u,S),[()=>_t(t())]),c(m,x)};var cr=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),dr=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),vr=D("<!> <!>",1),ur=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),fr=D('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),mr=D('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),_r=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),pr=D('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"> </p></div>'),xr=D('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),gr=D('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <p class="text-sm"> </p></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function Gt(m,t){qe(t,!0);const[s,x]=lt(),d=()=>Ee(Ct,"$timeFormat",s),p=()=>Ee(St,"$relativeTime",s),T=(E,A=fe,U=fe)=>{var ee=_r(),Q=n(ee),oe=n(Q,!0);r(Q);var ce=l(Q,2);const be=a(()=>v("common.copy-icon-title")),Ce=a(()=>v("common.copy-success-icon-title")),He=a(()=>String(U()));Ye(ce,{get copyIconTitle(){return e(be)},get copySuccessIconTitle(){return e(Ce)},get content(){return e(He)},children:(Oe,Ze)=>{const o=a(()=>String(U())),P=a(()=>ut(A(),e(u)));aa(Oe,{get value(){return e(o)},get attributes(){return e(u)},get type(){return e(P)},class:"whitespace-pre-line"})},$$slots:{default:!0}}),r(ee),L(Oe=>w(oe,Oe),[()=>_t(A())]),c(E,ee)},g=(E,A=fe,U=fe)=>{var ee=pr(),Q=n(ee),oe=n(Q,!0);r(Q);var ce=l(Q,2),be=n(ce,!0);r(ce),r(ee),L((Ce,He)=>{w(oe,Ce),w(be,He)},[()=>_t(A()),()=>Ra(A())?Ge(U(),d()):U()]),c(E,ee)},u=a(()=>Xt(t.event)),y=a(()=>Object.entries(e(u))),f=a(()=>e(y).filter(([E,A])=>typeof A=="object"&&Object.keys(A).length>0)),h=a(()=>e(y).filter(([E,A])=>ut(E,e(u))!=="none")),V=a(()=>t.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:t.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),M=a(()=>e(y).filter(([E,A])=>typeof A!="object"&&ut(E,e(u))==="none"&&!e(V).includes(E)&&(E!=="namespace"||E==="namespace"&&Me.params.namespace!==A)));var S=gr(),C=n(S),I=n(C),q=n(I),F=n(q,!0);r(q);var R=l(q,2),k=n(R,!0);r(R),r(I);var j=l(I,2),W=n(j,!0);r(j),r(C);var Z=l(C,2),z=n(Z),ne=n(z);{var he=E=>{sr(E,()=>t.event.links)};_(ne,E=>{var A,U;(U=(A=t.event)==null?void 0:A.links)!=null&&U.length&&E(he)})}var Pe=l(ne,2);{var Ve=E=>{ir(E,()=>t.event.userMetadata.summary)};_(Pe,E=>{var A,U;(U=(A=t.event)==null?void 0:A.userMetadata)!=null&&U.summary&&E(Ve)})}var ke=l(Pe,2);Qe(ke,17,()=>e(M),([E,A])=>E,(E,A)=>{g(E,()=>e(A)[0],()=>e(A)[1])});var B=l(ke,2);Qe(B,17,()=>e(h),([E,A])=>E,(E,A)=>{T(E,()=>e(A)[0],()=>e(A)[1])}),r(z);var Re=l(z,2);{var Se=E=>{var A=xr();Qe(A,21,()=>e(f),([U,ee])=>U,(U,ee)=>{lr(U,()=>e(ee)[0],()=>e(ee)[1])}),r(A),c(E,A)};_(Re,E=>{e(f).length&&E(Se)})}r(Z),r(S),L((E,A)=>{w(F,t.event.id),w(k,E),w(W,A)},[()=>Kt(t.event.name),()=>Ge(t.event.eventTime,d(),{relative:p()})]),c(m,S),Ne(),x()}var yr=D('<div class="flex flex-col overflow-hidden"><!> <!></div>');function wr(m,t){qe(t,!0);let s=G(t,"group",3,void 0),x=G(t,"event",3,void 0);const d=a(()=>(s()===null||s()===void 0?void 0:s().pendingActivity)||(s()===null||s()===void 0?void 0:s().pendingNexusOperation)),p=a(()=>s()&&(s().eventList.length>1||e(d)));var T=Ae(),g=$(T);{var u=f=>{var h=yr(),V=n(h);{var M=I=>{Va(I,{get activity(){return s().pendingActivity}})},S=(I,q)=>{{var F=R=>{rr(R,{get operation(){return s().pendingNexusOperation}})};_(I,R=>{var k;(k=s())!=null&&k.pendingNexusOperation&&R(F)},q)}};_(V,I=>{var q;(q=s())!=null&&q.pendingActivity?I(M):I(S,!1)})}var C=l(V,2);Qe(C,17,()=>s().eventList,Pt,(I,q)=>{Gt(I,{get event(){return e(q)}})}),r(h),c(f,h)},y=(f,h)=>{{var V=M=>{Gt(M,{get event(){return x()}})};_(f,M=>{x()&&M(V)},h)}};_(g,f=>{e(p)?f(u):f(y,!1)})}c(m,T),Ne()}var hr=D('<p class="whitespace-nowrap text-right text-xs"> </p>'),kr=D('<div><code class="svelte-1qb2863"><pre class="truncate svelte-1qb2863"> </pre></code></div>'),br=D('<div class="flex max-w-sm items-center justify-between gap-2 overflow-hidden pr-1 xl:flex-nowrap"><!></div>'),Tr=D('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><!> <!></div>');function vt(m,t){const s=mt(t,["children","$$slots","$$events","$$legacy"]);qe(t,!1);const x=ae();let d=G(t,"key",8),p=G(t,"value",8),T=G(t,"attributes",8),g=G(t,"showKey",8,!0);ue(()=>(Ie(d()),Ie(T())),()=>{K(x,ut(d(),T()))}),pt(),xt();var u=Ae(),y=$(u);{var f=h=>{var V=Tr(),M=n(V);{var S=F=>{var R=hr(),k=n(R,!0);r(R),L(j=>w(k,j),[()=>_t(d())],re),c(F,R)};_(M,F=>{g()&&F(S)})}var C=l(M,2);{var I=F=>{var R=br(),k=n(R);ft(k,{get value(){return p()},key:"payloads",children:Ke,$$slots:{default:(j,W)=>{const Z=re(()=>W.decodedValue);var z=kr(),ne=n(z),he=n(ne),Pe=n(he,!0);r(he),r(ne),r(z),L((Ve,ke)=>{it(z,1,Ve,"svelte-1qb2863"),w(Pe,ke)},[()=>ka(ea("payload",s.class)),()=>e(Z).slice(0,60)],re),c(j,z)}}}),r(R),c(F,R)},q=(F,R)=>{{var k=W=>{const Z=re(()=>v("common.copy-icon-title")),z=re(()=>v("common.copy-success-icon-title"));Ye(W,{get copyIconTitle(){return e(Z)},get copySuccessIconTitle(){return e(z)},get content(){return p()},"container-class":"truncate",children:(ne,he)=>{aa(ne,{get value(){return p()},get attributes(){return T()},get type(){return e(x)},class:"truncate"})},$$slots:{default:!0}})},j=W=>{Xe(W,{type:"subtle",class:"block select-none truncate",children:(Z,z)=>{ge();var ne=le();L(()=>w(ne,p())),c(Z,ne)},$$slots:{default:!0}})};_(F,W=>{e(x)!=="none"?W(k):W(j,!1)},R)}};_(C,F=>{typeof p()=="object"?F(I):F(q,!1)})}r(V),c(h,V)};_(y,h=>{d()&&h(f)})}c(m,u),Ne()}var Ir=D('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function Er(m,t){const s=mt(t,["children","$$slots","$$events","$$legacy"]);qe(t,!1);var x=ae();let d=G(t,"link",8),p=G(t,"value",28,()=>d().workflowEvent.workflowId),T=G(t,"label",24,()=>v("nexus.link")),g=G(t,"href",12,void 0);ue(()=>(Ie(g()),Ie(d()),ze(x)),()=>{g()||(g(ta(d())),p((K(x,g().split("workflows/"))===null||ze(x)===void 0?void 0:ze(x)[1])||g()))}),pt(),xt();var u=Ir(),y=n(u),f=n(y,!0);r(y);var h=l(y,2),V=n(h);Je(V,{get href(){return g()},children:(M,S)=>{ge();var C=le();L(()=>w(C,p())),c(M,C)},$$slots:{default:!0}}),r(h),r(u),L(()=>{it(u,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${s.class??""}`),w(f,T()),it(h,1,`overflow-hidden ${s.linkClass??""}`)}),c(m,u),Ne()}var Ar=D('<td class="font-mono"><div class="flex items-center gap-0.5"></div></td>'),Pr=D('<td class="font-mono"><!></td>'),Sr=D(" <!>",1),Cr=D("<!> <!>",1),Fr=D('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><p class="whitespace-nowrap text-right text-xs">Summary</p> <!></div>'),Lr=D('<td><div class="flex justify-center gap-0.5"><!></div></td>'),Vr=D('<tr class="w-full text-sm no-underline"><td class="!p-0"><!></td></tr>'),Rr=D('<tr data-testid="event-summary-row"><!><td class="text-right md:hidden"><!></td><td class="hidden text-right md:table-cell"><!></td><td class="truncate"><p> </p></td><td class="w-full items-center gap-2 text-right text-sm font-normal xl:text-left"><div class="flex items-center gap-2"><!> <!> <!> <!> <!> <!> <!></div></td><!></tr> <!>',1);function In(m,t){qe(t,!0);const[s,x]=lt(),d=()=>Ee(Sa,"$authUser",s),p=()=>Ee(Ct,"$timeFormat",s),T=()=>Ee(St,"$relativeTime",s),g=()=>Ee(Pa,"$isCloud",s);var u,y,f,h,V,M,S,C;let I=G(t,"compact",3,!1),q=G(t,"expanded",3,!1),F=G(t,"onRowClick",3,()=>{}),R=G(t,"hoveredEventId",15),k=Nt(ha(q())),j=Nt(void 0);const W=async i=>{var b,O,X,Y,J,te,we,ve,Fe,De;const Te={...Me.data.settings,codec:{...(b=Me.data.settings)===null||b===void 0?void 0:b.codec,endpoint:Yt(Me.data.settings),passAccessToken:Jt(Me.data.settings),includeCredentials:Zt(Me.data.settings)}},Be=d().accessToken,ct=Me.params.namespace;try{const rt=await Fa(i.attributes,ct,Te,Be),nt=((Y=(X=(O=i.markerRecordedEventAttributes)===null||O===void 0?void 0:O.details)===null||X===void 0?void 0:X.data)===null||Y===void 0?void 0:Y.payloads)||((we=(te=(J=i.markerRecordedEventAttributes)===null||J===void 0?void 0:J.details)===null||te===void 0?void 0:te.type)===null||we===void 0?void 0:we.payloads)||[];if(!(nt!=null&&nt.length))return;const Ue=La(rt),dt=(De=(Fe=(ve=Ue==null?void 0:Ue.details)===null||ve===void 0?void 0:ve.data)===null||Fe===void 0?void 0:Fe.payloads)===null||De===void 0?void 0:De[0],ot=qa(dt);if(ot)return Na("ActivityType",ot)}catch(rt){console.error("Failed to decode local activity type:",rt)}},Z=a(()=>ie(t.event)?Array.from(t.event.events.keys()).shift():t.event.id),z=a(()=>Me.params),ne=a(()=>e(z).workflow),he=a(()=>e(z).run),Pe=a(()=>e(z).namespace),Ve=a(()=>st({eventId:t.event.id,namespace:e(Pe),workflow:e(ne),run:e(he)})),ke=a(()=>Xt(t.event)),B=a(()=>ie(t.event)?t.event.events.get(e(Z)):t.event),Re=a(()=>Wt({start:t.initialItem===null||t.initialItem===void 0?void 0:t.initialItem.eventTime,end:ie(e(B))?(u=e(B).initialEvent)===null||u===void 0?void 0:u.eventTime:e(B)===null||e(B)===void 0?void 0:e(B).eventTime,includeMillisecondsForUnderSecond:!0})),Se=a(()=>ie(t.event)?Wt({start:(y=t.event.initialEvent)===null||y===void 0?void 0:y.eventTime,end:(f=t.event.lastEvent)===null||f===void 0?void 0:f.eventTime,includeMillisecondsForUnderSecond:!0}):""),E=a(()=>Ia(t.event)),A=a(()=>Ea(t.event)),U=a(()=>Aa(t.event)),ee=a(()=>ie(t.event)?t.event.label:Et(t.event)?"Local Activity":Kt(t.event.name)),Q=a(()=>Et(t.event)?void 0:Ma(ie(t.event)?t.event.initialEvent:t.event)),oe=a(()=>ja(ie(t.event)?t.event.lastEvent:t.event,e(Q)===null||e(Q)===void 0?void 0:e(Q).key)),ce=a(()=>ie(t.event)&&(t.event===null||t.event===void 0?void 0:t.event.pendingActivity)),be=a(()=>ie(t.event)&&t.event.isPending&&(((h=t.event===null||t.event===void 0?void 0:t.event.pendingActivity)===null||h===void 0?void 0:h.attempt)||((V=t.event===null||t.event===void 0?void 0:t.event.pendingNexusOperation)===null||V===void 0?void 0:V.attempt))),Ce=a(()=>ie(t.event)&&!t.event.isPending&&((S=(M=t.event.eventList.find(Ha))===null||M===void 0?void 0:M.attributes)===null||S===void 0?void 0:S.attempt)),He=a(()=>I()&&(e(oe)===null||e(oe)===void 0?void 0:e(oe).key)&&(e(oe)===null||e(oe)===void 0?void 0:e(oe).key)!==(e(Q)===null||e(Q)===void 0?void 0:e(Q).key)&&!(!((C=e(B)===null||e(B)===void 0?void 0:e(B).userMetadata)===null||C===void 0)&&C.summary)),Oe=a(()=>Ge(e(B)===null||e(B)===void 0?void 0:e(B).eventTime,p(),{relative:T()})),Ze=a(()=>Ge(e(B)===null||e(B)===void 0?void 0:e(B).eventTime,p(),{relative:T(),abbrFormat:!0})),o=i=>{K(k,!e(k)),i.stopPropagation(),F()()},P=()=>{R(t.event.id)},N=()=>{R(void 0)};let de=(i,b)=>{var O;return(O=i==null?void 0:i.eventIds)===null||O===void 0?void 0:O.has(b)};Ta(async()=>{Et(t.event)&&K(j,await W(t.event),!0)});var se=Rr(),H=$(se);let me;H.__click=o;var _e=n(H);{var pe=i=>{var b=Ar(),O=n(b);Qe(O,21,()=>t.event.eventList,Pt,(X,Y)=>{const J=a(()=>st({eventId:e(Y).id,namespace:e(Pe),workflow:e(ne),run:e(he)}));Je(X,{"data-testid":"link",get href(){return e(J)},children:(te,we)=>{ge();var ve=le();L(()=>w(ve,e(Y).id)),c(te,ve)},$$slots:{default:!0}})}),r(O),r(b),c(i,b)},ye=i=>{var b=Pr(),O=n(b);Je(O,{"data-testid":"link",get href(){return e(Ve)},children:(X,Y)=>{ge();var J=le();L(()=>w(J,t.event.id)),c(X,J)},$$slots:{default:!0}}),r(b),c(i,b)};_(_e,i=>{ie(t.event)?i(pe):i(ye,!1)})}var xe=l(_e),$e=n(xe);const et=a(()=>ie(t.event)&&!e(Se)||!e(Re)),tt=a(()=>ie(t.event)?`Duration: ${e(Se)}`:`+${e(Re)}`);It($e,{get hide(){return e(et)},get text(){return e(tt)},class:"block",bottom:!0,children:(i,b)=>{const O=a(()=>v("common.copy-icon-title")),X=a(()=>v("common.copy-success-icon-title"));Ye(i,{get copyIconTitle(){return e(O)},get copySuccessIconTitle(){return e(X)},get content(){return e(Ze)},children:(Y,J)=>{ge();var te=le();L(()=>w(te,e(Ze))),c(Y,te)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(xe);var We=l(xe),at=n(We);const gt=a(()=>ie(t.event)&&!e(Se)||!e(Re)),na=a(()=>ie(t.event)?`Duration: ${e(Se)}`:`+${e(Re)}`);It(at,{get hide(){return e(gt)},get text(){return e(na)},class:"block",bottom:!0,children:(i,b)=>{const O=a(()=>v("common.copy-icon-title")),X=a(()=>v("common.copy-success-icon-title"));Ye(i,{get copyIconTitle(){return e(O)},get copySuccessIconTitle(){return e(X)},get content(){return e(Oe)},children:(Y,J)=>{ge();var te=le();L(()=>w(te,e(Oe))),c(Y,te)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(We);var yt=l(We),wt=n(yt);let Ft;var oa=n(wt,!0);r(wt),r(yt);var ht=l(yt),Lt=n(ht),Vt=n(Lt);{var sa=i=>{const b=a(()=>e(ce).paused?"warning":e(be)>1?"danger":"default");Xe(i,{class:"mr-1",get type(){return e(b)},children:(O,X)=>{var Y=Cr(),J=$(Y);const te=a(()=>ea("mr-1 inline",e(be)>1&&"font-bold text-red-400",e(ce).paused&&"font-bold text-yellow-700")),we=a(()=>e(ce).paused?"pause":"retry");zt(J,{get class(){return e(te)},get name(){return e(we)}});var ve=l(J),Fe=l(ve);{var De=Te=>{var Be=Sr(),ct=$(Be),rt=l(ct);{var nt=Ue=>{var dt=Ae();const ot=a(()=>Qt({date:e(ce).scheduledTime,negativeDefault:""}));var ga=$(dt);{var ya=kt=>{var qt=le();L(wa=>w(qt,`• ${wa??""}
                ${e(ot)??""}`),[()=>v("workflows.next-retry")]),c(kt,qt)};_(ga,kt=>{e(ot)&&kt(ya)})}c(Ue,dt)};_(rt,Ue=>{e(be)>1&&Ue(nt)})}L(()=>w(ct,`/ ${e(ce).maximumAttempts||"∞"} `)),c(Te,Be)};_(Fe,Te=>{e(ce)&&Te(De)})}L(Te=>w(ve,` ${Te??""}
          ${e(be)??""} `),[()=>v("workflows.attempt")]),c(O,Y)},$$slots:{default:!0}})};_(Vt,i=>{e(be)&&i(sa)})}var Rt=l(Vt,2);{var ia=i=>{vt(i,Tt(()=>e(Q),{get attributes(){return e(ke)}}))};_(Rt,i=>{var b;!e(j)&&((b=e(Q))!=null&&b.key)&&i(ia)})}var Ot=l(Rt,2);{var la=i=>{vt(i,Tt(()=>e(j),{get attributes(){return e(ke)}}))};_(Ot,i=>{e(j)&&e(j).key&&i(la)})}var Dt=l(Ot,2);{var ca=i=>{ra(i,{get value(){return e(B).userMetadata.summary},children:Ke,$$slots:{default:(b,O)=>{const X=a(()=>O.decodedValue);var Y=Ae(),J=$(Y);{var te=we=>{var ve=Fr(),Fe=l(n(ve),2);Xe(Fe,{type:"secondary",class:"block select-none truncate",children:(De,Te)=>{ge();var Be=le();L(()=>w(Be,e(X))),c(De,Be)},$$slots:{default:!0}}),r(ve),c(we,ve)};_(J,we=>{e(X)&&we(te)})}c(b,Y)}}})};_(Dt,i=>{var b,O;(O=(b=e(B))==null?void 0:b.userMetadata)!=null&&O.summary&&i(ca)})}var Mt=l(Dt,2);{var da=i=>{Er(i,{get link(){return e(B).links[0]},class:"max-w-xl",linkClass:"truncate"})};_(Mt,i=>{var b,O;(O=(b=e(B))==null?void 0:b.links)!=null&&O.length&&i(da)})}var jt=l(Mt,2);{var va=i=>{const b=a(()=>e(Ce).toString());vt(i,{key:"attempt",get value(){return e(b)},get attributes(){return e(ke)}})};_(jt,i=>{e(Ce)&&i(va)})}var ua=l(jt,2);{var fa=i=>{vt(i,Tt(()=>e(oe),{get attributes(){return e(ke)}}))};_(ua,i=>{e(He)&&i(fa)})}r(Lt),r(ht);var ma=l(ht);{var _a=i=>{var b=Lr(),O=n(b),X=n(O);{var Y=J=>{const te=a(()=>v("workflows.estimated-billable-actions"));It(J,{get text(){return e(te)},topRight:!0,children:(we,ve)=>{Xe(we,{type:"subtle",class:"text-bold shrink-0 gap-1 px-1.5",children:(Fe,De)=>{ge();var Te=le();L(()=>w(Te,t.event.billableActions)),c(Fe,Te)},$$slots:{default:!0}})},$$slots:{default:!0}})};_(X,J=>{t.event.billableActions&&J(Y)})}r(O),r(b),c(i,b)};_(ma,i=>{g()&&i(_a)})}r(H);var pa=l(H,2);{var xa=i=>{var b=Vr(),O=n(b),X=n(O);wr(X,{get group(){return t.group},get event(){return e(B)}}),r(O),r(b),L(()=>bt(O,"colspan",g()?5:4)),c(i,b)};_(pa,i=>{e(k)&&i(xa)})}L((i,b)=>{me=it(H,1,"hover:cursor-pointer svelte-1cm88cy",null,me,i),bt(H,"id",`${t.event.id}-${t.index}`),bt(H,"data-eventid",t.event.id),Ft=it(wt,1,"whitespace-nowrap font-semibold md:text-base",null,Ft,b),w(oa,e(ee))},[()=>({border:e(E)||e(A)||e(U),"border-danger":e(E),"border-warning":e(A),"border-pink-700":e(U),active:de(t.group,R())}),()=>({"text-danger":e(E),"text-pink-700":e(U),"text-warning":e(A)})]),Ht("mouseenter",H,P),Ht("mouseleave",H,N),c(m,se),Ne(),x()}ba(["click"]);export{In as E,ra as M,vt as a,wr as b,Er as c};
