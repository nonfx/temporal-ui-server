import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ee,as as te,f as ae,c,e as w,g as u,d as f,b as se,r as k,n as re,t as oe}from"./DYX0w8bX.js";import{s as ne}from"./CxFVcq4O.js";import{i as I}from"./B_BuKjdB.js";import{t as B,a as p,b as le}from"./Bz76f8pg.js";import{a as ie,s as _}from"./CFGOF_JX.js";import{s as ce}from"./BoNO6UAY.js";import{i as de}from"./CZRFLhJG.js";import{l as M,p as a,s as me}from"./BrXzBH3h.js";import{a as z,s as ue,b as A}from"./CgU0heln.js";import{c as fe}from"./DsexP6Wk.js";import{B as pe}from"./SNXFWeJi.js";import{B as _e}from"./pnLOYuxo.js";import{I as ve}from"./BExi9zWc.js";import{b as ge,c as be}from"./BnzsqTWD.js";import{t as he}from"./Ds6tgvmq.js";var xe=B('<div class="flex"><!></div>'),ye=B("<!> <div><!></div> <!> <!> <!>",1);function Oe(C,e){const D=ie(e),N=M(e,["children","$$slots","$$events","$$legacy"]),T=M(N,["class","controls","count","disabled","hasIndicator","id","label","variant","size"]);ee(e,!1);const[v,q]=ue(),d=()=>z(o,"$open",v),P=()=>z(X,"$menuElement",v);let S=a(e,"class",8,""),$=a(e,"controls",8),g=a(e,"count",8,0),m=a(e,"disabled",8,!1),F=a(e,"hasIndicator",8,!1),O=a(e,"id",8,null),U=a(e,"label",8,null),K=a(e,"variant",8,"secondary"),L=a(e,"size",8,"md");const R=fe(),{open:o,menuElement:X}=te(ge),j=()=>{o.update(t=>{let n=t;return m()||(n=!t),R("click",{open:n}),n})},G=t=>{switch(t.key){case"Escape":A(o,!1);break;case"ArrowDown":t.preventDefault(),d()?H():A(o,!0);break}},H=()=>{const t=Array.from(P().querySelectorAll(be));t&&t[0]&&requestAnimationFrame(()=>t[0].focus())};de();const J=f(()=>!m()),Q=f(()=>he(S()));_e(C,me({get id(){return O()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return u(J)},get"aria-controls"(){return $()},get"aria-expanded"(){return d()},get"aria-label"(){return U()},get variant(){return K()},get class(){return u(Q)},get size(){return L()}},()=>T,{$$events:{click:j,keydown:G},children:(t,n)=>{var b=ye(),h=ae(b);_(h,e,"leading",{},null);var l=c(h,2);ce(l,1,"flex grow items-center",null,{},{hidden:!D.default});var V=w(l);_(V,e,"default",{},null),k(l);var x=c(l,2);{var W=s=>{var r=xe(),E=w(r);const i=f(()=>d()?"chevron-up":"chevron-down");ve(E,{get name(){return u(i)}}),k(r),p(s,r)};I(x,s=>{F()&&s(W)})}var y=c(x,2);_(y,e,"trailing",{},null);var Y=c(y,2);{var Z=s=>{pe(s,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(r,E)=>{re();var i=le();oe(()=>ne(i,g())),p(r,i)},$$slots:{default:!0}})};I(Y,s=>{g()>0&&s(Z)})}p(t,b)},$$slots:{default:!0}})),se(),q()}export{Oe as M};
