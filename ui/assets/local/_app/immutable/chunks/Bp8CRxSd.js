import{au as S,J as U,G as m,v as q,aB as B,U as k,al as h,a0 as w,m as C,E as c,S as J,w as L,aC as D,aD as T,aE as A,F as O,N as p,O as y,aF as P}from"./CVkC3v6g.js";const N=0,l=1,x=2;function j(F,G,n,E,o){m&&q();var i=F,I=S(),H=O,a=k,r,s,t,_=(I?w:C)(void 0),v=(I?w:C)(void 0),d=!1;function u(e,f){d=!0,f&&(D(b),T(b),A(H));try{e===N&&n&&(r?p(r):r=c(()=>n(i))),e===l&&E&&(s?p(s):s=c(()=>E(i,_))),e===x&&o&&(t?p(t):t=c(()=>o(i,v))),e!==N&&r&&y(r,()=>r=null),e!==l&&s&&y(s,()=>s=null),e!==x&&t&&y(t,()=>t=null)}finally{f&&(A(null),T(null),D(null),P())}}var b=U(()=>{if(a!==(a=G())){if(B(a)){var e=a;d=!1,e.then(f=>{e===a&&(h(_,f),u(l,!0))},f=>{if(e===a&&(h(v,f),u(x,!0),!o))throw v.v}),m?n&&(r=c(()=>n(i))):J(()=>{d||u(N,!0)})}else h(_,a),u(l,!1);return()=>a=k}});m&&(i=L)}export{j as a};
