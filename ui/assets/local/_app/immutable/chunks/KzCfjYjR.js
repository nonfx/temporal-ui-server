import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as le,m as E,g as t,e as B,d as a,c as M,s as D,r as F,b as oe,l as ae,ah as me,a as pe,f as ie,n as z,t as j,aQ as Te}from"./CVkC3v6g.js";import{s as J}from"./DUPvQxLd.js";import{e as be,i as fe}from"./ojfNN_0P.js";import{t as G,a as _,c as Se,b as V}from"./CXa2DXXa.js";import{s as Ae}from"./01A5YHN4.js";import{i as ue}from"./B3G23GpA.js";import{p as Y}from"./BNtWe5Xb.js";import{a as re,s as ge}from"./B71MWTBs.js";import{B as se}from"./DSyaFiGS.js";import{t as s}from"./D2OY9xdY.js";import{c as Ee,b as _e}from"./DAc9Z4oz.js";import{S as g}from"./S6Q2Q0ub.js";import{i as X}from"./DpQPgcBL.js";import{C as De}from"./CzTHaTVy.js";import{I as ce}from"./DIpoW2lQ.js";import{N as Ce}from"./DvfOMGLz.js";import{S as ve,O as te}from"./DkP9UKsO.js";import{o as Ie}from"./DaqIHZoW.js";import{D as ke,T as Oe}from"./xsDOILn_.js";import{g as Ne}from"./BogN5CJj.js";import{s as de}from"./B6L3uVBf.js";var Ue=G('<div class="flex flex-col gap-2"><!> <!></div>');function Re(H,i){le(i,!1);let n=Y(i,"value",12);const m=n()?new Date(n()):new Date,O=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate());let h=E(de(O)),o=E(n()?String(m.getUTCHours()):""),T=E(n()?String(m.getUTCMinutes()):""),e=E(n()?String(m.getUTCSeconds()):"");Ie(()=>{n()||U()});const N=y=>{D(h,de(y.detail)),U()},U=()=>{n(Ne({date:t(h),hour:t(o),minute:t(T),second:t(e)}))};ue();var c=Ue(),C=B(c);const K=a(()=>s("common.value")),I=a(()=>s("common.utc")),l=a(()=>s("common.today")),$=a(()=>s("common.close")),x=a(()=>s("common.clear-input-button-label"));ke(C,{get label(){return`${t(K)??""} (${t(I)??""})`},get selected(){return t(h)},get todayLabel(){return t(l)},get closeLabel(){return t($)},get clearLabel(){return t(x)},$$events:{datechange:N}});var k=M(C,2);Oe(k,{twelveHourClock:!1,get hour(){return t(o)},set hour(y){D(o,y)},get minute(){return t(T)},set minute(y){D(T,y)},get second(){return t(e)},set second(y){D(e,y)},$$events:{timechange:U},$$legacy:!0}),F(c),_(H,c),oe()}var Pe=G("<!> <!>",1),Le=G("<div><!></div>"),Be=G('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Me(H,i){le(i,!1);const[n,m]=ge(),O=()=>re(_e,"$customSearchAttributes",n),h=()=>re(Ee,"$customSearchAttributeOptions",n),o=E();let T=Y(i,"attributes",24,()=>[]),e=Y(i,"attribute",12),N=Y(i,"onRemove",8),c=E(e().label||void 0);const C=r=>O()[r],K=r=>{e(e().label=r,!0);const p=C(r);p===g.KEYWORDLIST?e(e().value=[],!0):e().type!==p&&e(e().value=null,!0),e(e().type=p,!0)};ae(()=>me(T()),()=>{D(o,r=>!!T().find(p=>p.label===r))}),pe(),ue();var I=Be(),l=B(I),$=B(l),x=B($);const k=a(()=>s("workflows.custom-search-attribute")),y=a(()=>s("workflows.select-attribute"));ve(x,{id:"search-attribute","data-testid":"search-attribute-select",get label(){return t(k)},get placeholder(){return t(y)},onChange:K,get value(){return t(c)},set value(r){D(c,r)},children:(r,p)=>{var S=Se(),q=ie(S);be(q,1,h,fe,(v,b,Q,R)=>{let d=()=>t(b).value,u=()=>t(b).label,w=()=>t(b).type;const W=a(()=>t(o)(d()));te(v,{get disabled(){return t(W)},get value(){return d()},get description(){return w()},children:(f,P)=>{z();var A=V();j(()=>J(A,u())),_(f,A)},$$slots:{default:!0}})}),_(r,S)},$$slots:{default:!0},$$legacy:!0}),F($);var he=M($,2);se(he,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>N()(e().label)}}),F(l);var ne=M(l,2);{var $e=r=>{const p=a(()=>s("common.value"));ve(r,{get label(){return t(p)},id:"attribute-value",get value(){return e().value},set value(S){e(e().value=S,!0)},children:(S,q)=>{var v=Pe(),b=ie(v);te(b,{value:!0,children:(R,d)=>{z();var u=V();j(w=>J(u,w),[()=>s("common.true")],a),_(R,u)},$$slots:{default:!0}});var Q=M(b,2);te(Q,{value:!1,children:(R,d)=>{z();var u=V();j(w=>J(u,w),[()=>s("common.false")],a),_(R,u)},$$slots:{default:!0}}),_(S,v)},$$slots:{default:!0},$$legacy:!0})},xe=(r,p)=>{{var S=v=>{Re(v,{get value(){return e().value},set value(b){e(e().value=b,!0)},$$legacy:!0})},q=(v,b)=>{{var Q=d=>{var u=Le(),w=B(u);const W=a(()=>s("common.value")),f=a(()=>e().value<Number.MAX_SAFE_INTEGER);Ce(w,{get label(){return t(W)},id:"attribute-value",get valid(){return t(f)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(P){e(e().value=P,!0)},$$legacy:!0}),F(u),_(d,u)},R=(d,u)=>{{var w=f=>{const P=a(()=>s("common.value"));De(f,{get label(){return t(P)},id:"attribute-value",class:"w-full",removeChipButtonLabel:A=>s("workflows.remove-keyword-label",{keyword:A}),get chips(){return e().value},set chips(A){e(e().value=A,!0)},$$legacy:!0})},W=(f,P)=>{{var A=L=>{const Z=a(()=>s("common.value"));ce(L,{get label(){return t(Z)},"data-testid":"custom-search-attribute-value",id:"attribute-value",class:"grow",get value(){return e().value},set value(ee){e(e().value=ee,!0)},$$legacy:!0})},we=L=>{const Z=a(()=>s("common.value")),ee=a(()=>s("workflows.unsupported-attribute"));ce(L,{get label(){return t(Z)},id:"attribute-value",class:"grow",get placeholder(){return t(ee)},error:!0,disabled:!0,value:""})};X(f,L=>{e().type===g.TEXT||e().type===g.KEYWORD||e().type===g.UNSPECIFIED?L(A):L(we,!1)},P)}};X(d,f=>{e().type===g.KEYWORDLIST?f(w):f(W,!1)},u)}};X(v,d=>{e().type===g.INT||e().type===g.DOUBLE?d(Q):d(R,!1)},b)}};X(r,v=>{e().type===g.DATETIME?v(S):v(q,!1)},p)}};X(ne,r=>{e().type===g.BOOL?r($e):r(xe,!1)})}var ye=M(ne,2);se(ye,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>N()(e().label)}}),F(I),_(H,I),oe(),m()}var Fe=G("<div><!> <!></div>");function ct(H,i){le(i,!1);const[n,m]=ge(),O=()=>re(_e,"$customSearchAttributes",n),h=E(),o=E();let T=Y(i,"class",8,""),e=Y(i,"attributesToAdd",28,()=>[]);const N=()=>{e([...e(),{label:null,value:null,type:g.UNSPECIFIED}])},U=l=>{e(e().filter($=>$.label!==l))};ae(()=>O(),()=>{D(h,Object.keys(O()))}),ae(()=>me(e()),()=>{D(o,e())}),pe(),ue();var c=Fe(),C=B(c);be(C,1,()=>t(o),fe,(l,$,x)=>{Me(l,{get attributes(){return t(o)},onRemove:U,get attribute(){return t(o)[x]},set attribute(k){t(o)[x]=k,Te(()=>(t(o),e()))},$$legacy:!0})});var K=M(C,2);const I=a(()=>!t(h).length||t(o).length===t(h).length||t(o).filter(l=>l.value===""||l.value===null||Array.isArray(l.value)&&l.value.length===0).length>0);se(K,{variant:"ghost",leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(I)},$$events:{click:N},children:(l,$)=>{z();var x=V();j(k=>J(x,k),[()=>s("workflows.add-search-attribute")],a),_(l,x)},$$slots:{default:!0}}),F(c),j(()=>Ae(c,1,`flex flex-col gap-4 ${T()??""}`)),_(H,c),oe(),m()}export{ct as A};
