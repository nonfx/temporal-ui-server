import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as le,ad as Me,t as F,h,r as _,i as j,d as C,b as ie,j as U,ae as pe,e as Oe,f as Ce,c as B,l as G,a as Te,g as P,m as Z,s as $,ac as ee}from"./DSxqszTl.js";import{e as D,s as Ie}from"./CXaSvchK.js";import{i as te}from"./BAt4aHTa.js";import{s as T}from"./Qdkaj6Y8.js";import{b as J,C as se,s as ue}from"./DyEeuWnl.js";import{s as ne}from"./Bfc47y5P.js";import{i as re}from"./BcaHj5WR.js";import{l as I,p as a}from"./Bp73-jql.js";import{s as oe,a as Q,b as g}from"./CZBNCVvj.js";import{c as be,w as ae}from"./Cb3VdkNs.js";import{I as Se}from"./Dc8cZy7F.js";import{t as V}from"./Ds6tgvmq.js";import{t as Le,a as Ne}from"./LeF0uBFk.js";import{b as ze}from"./BUdEKvIy.js";import{b as He}from"./K6Afqa47.js";import{b as Ae}from"./13eOOzQn.js";import{c as Pe,g as fe}from"./uVHWBtn_.js";import{a as je}from"./C-KX_dL0.js";const ce="menu-context";var Ue=F("<div><!></div>");function ct(S,e){const L=I(e,["children","$$slots","$$events","$$legacy"]),k=I(L,["class","open"]);le(e,!1);const[x,N]=oe(),E=()=>Q(n(),"$open",x);let w=a(e,"class",8,""),n=a(e,"open",24,()=>ae(!1));const y=ae(!1),l=ae(null),f=be(),v=()=>{E()&&(f("close"),g(n(),!1))};Me(ce,{open:n(),keepOpen:y,menuElement:l}),re();var i=Ue();let m;var r=h(i);T(r,e,"default",{get open(){return n()}},null),_(i),je(i,(p,u)=>{var b;return(b=Pe)==null?void 0:b(p,u)},()=>v),j(p=>m=J(i,m,{class:p,...k}),[()=>V("relative",w())],U),C(S,i),ie(),N()}const ve='input, li[role="option"]:not([aria-disabled="true"]), li[role="menuitem"]:not([aria-disabled="true"])';var De=F("<a><!></a>"),Fe=F("<div> </div>"),Re=F('<li><!> <div class="grow"><div><!> <!></div> <!></div> <!></li>');function mt(S,e){const L=I(e,["children","$$slots","$$events","$$legacy"]),k=I(L,["class","selected","destructive","disabled","href","description","centered","hoverable","newTab"]);le(e,!1);const[x,N]=oe(),E=()=>Q(p,"$keepOpen",x);let w=a(e,"class",8,""),n=a(e,"selected",8,void 0),y=a(e,"destructive",8,!1),l=a(e,"disabled",8,!1),f=a(e,"href",8,null),v=a(e,"description",8,null),i=a(e,"centered",8,!1),m=a(e,"hoverable",8,!0),r=a(e,"newTab",8,!1);const{keepOpen:p,open:u}=pe(ce),b=be(),z=s=>{switch(s.key){case"Escape":g(u,!1);break;case"ArrowDown":case"ArrowRight":W(s.currentTarget);break;case"ArrowUp":case"ArrowLeft":o(s.currentTarget);break;case" ":case"Enter":b("click"),E()||g(u,!1);break}},W=s=>{let t=s.nextElementSibling;for(;t&&!t.matches(ve);)t=t.nextElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},o=s=>{let t=s.previousElementSibling;for(;t&&!t.matches(ve);)t=t.previousElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},R=()=>{E()||g(u,!1),b("click")};re();var q=Oe(),c=Ce(q);{var Y=s=>{var t=De();let H;var K=h(t);T(K,e,"default",{},null),_(t),j((A,M)=>H=J(t,H,{href:f(),target:r()?"_blank":null,rel:r()?"noreferrer":null,role:"menuitem",class:A,"aria-hidden":l()?"true":"false","aria-disabled":l(),tabindex:l()?-1:0,"data-track-name":"menuitem","data-track-intent":"navigate","data-track-text":"*textContent*",...k,[se]:M},"svelte-16xtmhf"),[()=>V("menu-item","m-1 px-3 py-2","flex items-center gap-2",w()),()=>({disabled:l(),hoverable:m(),"justify-center":i()})],U),D("keydown",t,ne(z)),C(s,t)},he=s=>{var t=Re();let H;var K=h(t);T(K,e,"leading",{},null);var A=B(K,2),M=h(A);let me;var de=h(M);T(de,e,"default",{},null);var _e=B(de,2);{var ge=d=>{Se(d,{name:"checkmark",class:"shrink-0"})};te(_e,d=>{n()&&d(ge)})}_(M);var ke=B(M,2);{var xe=d=>{var O=Fe();let X;var we=h(O,!0);_(O),j(ye=>{X=ue(O,1,"menu-item-description svelte-16xtmhf",null,X,ye),Ie(we,v())},[()=>({"text-center":i()})],U),C(d,O)};te(ke,d=>{v()&&d(xe)})}_(A);var Ee=B(A,2);T(Ee,e,"trailing",{},null),_(t),j((d,O,X)=>{H=J(t,H,{role:"menuitem",class:d,"aria-hidden":l()?"true":"false","aria-disabled":l(),tabindex:l()?-1:0,"data-track-name":"menuitem","data-track-intent":"action","data-track-text":"*textContent*",...k,[se]:O},"svelte-16xtmhf"),me=ue(M,1,"menu-item-wrapper svelte-16xtmhf",null,me,X)},[()=>V("menu-item","m-1 px-3 py-2","flex items-center gap-2",w()),()=>({destructive:y(),disabled:l(),selected:n(),hoverable:m()}),()=>({centered:i()})],U),D("click",t,R),D("keydown",t,ne(z)),C(s,t)};te(c,s=>{f()?s(Y):s(he,!1)})}C(S,q),ie(),N()}var qe=F("<ul><!></ul>");function dt(S,e){const L=I(e,["children","$$slots","$$events","$$legacy"]),k=I(L,["class","id","keepOpen","position","menuElement","maxHeight"]);le(e,!1);const[x,N]=oe(),E=()=>Q(u,"$keepOpenCtx",x),w=()=>Q(z,"$open",x),n=Z(),y=Z();let l=a(e,"class",8,""),f=Z(0),v=a(e,"id",8),i=a(e,"keepOpen",8,!1),m=a(e,"position",8,"left"),r=a(e,"menuElement",12,null),p=a(e,"maxHeight",8,"max-h-[20rem]");const{keepOpen:u,menuElement:b,open:z}=pe(ce),W=c=>{!E()&&c.target===P(y)&&g(z,!1)};G(()=>ee(i()),()=>{g(u,i())}),G(()=>ee(r()),()=>{g(b,r())}),G(()=>(ee(r()),fe),()=>{$(n,r()?fe(r()):[])}),G(()=>P(n),()=>{$(y,P(n)[P(n).length-1])}),Te(),re();var o=qe();let R;var q=h(o);T(q,e,"default",{},null),_(o),He(o,c=>r(c),()=>r()),j((c,Y)=>R=J(o,R,{role:"menu",class:c,"aria-labelledby":v(),tabindex:-1,style:m()==="top-right"||m()==="top-left"?`top: -${P(f)+16}px;`:"",id:v(),...k,[se]:Y},"svelte-1jzz301"),[()=>V("menu",p(),m(),l()),()=>({hidden:!w()})],U),Le(1,o,()=>Ne,()=>({duration:100})),ze(o,"clientHeight",c=>$(f,c)),D("focusout",o,W),D("click",o,ne(function(c){Ae.call(this,e,c)})),C(S,o),ie(),N()}export{ce as M,ve as a,mt as b,ct as c,dt as d};
