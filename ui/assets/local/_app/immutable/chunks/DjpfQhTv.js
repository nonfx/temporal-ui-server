import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as R,b as q,t as x,d as i,s as r,m as h,g as n,e as _,r as b,c as L}from"./DYX0w8bX.js";import{s as $}from"./CxFVcq4O.js";import{t as T,a as y}from"./Bz76f8pg.js";import{i as H}from"./CZRFLhJG.js";import{p as m}from"./BrXzBH3h.js";import{s as N,b as j}from"./CgU0heln.js";import{M as z}from"./riza8Wxf.js";import{t as o}from"./D2OY9xdY.js";import{h as O,t as Q}from"./PS3yGIAW.js";import{t as B}from"./DlxtkSgV.js";import{i as F}from"./DOIkg3zK.js";import{I as S}from"./AdtmwPut.js";var U=T('<h3 slot="title"> </h3>'),V=T("<p> </p>");function we(a,e){R(e,!1);const[d,D]=N();let f=m(e,"open",12),W=m(e,"workflow",8),M=m(e,"namespace",8),C=m(e,"refresh",8),u=h(),l=h("");const p=async()=>{r(l,""),r(u,!0);try{await O({namespace:M(),workflow:W()}),f(!1),j(C(),Date.now()),B.push({id:"workflow-cancelation-success-toast",message:o("workflows.cancel-success")})}catch(s){r(l,F(s)?s.message:o("common.unknown-error"))}finally{r(u,!1)}};H();const k=i(()=>o("common.confirm")),E=i(()=>o("common.cancel"));z(a,{id:"cancel-confirmation-modal","data-testid":"cancel-confirmation-modal",get confirmText(){return n(k)},get cancelText(){return n(E)},get loading(){return n(u)},confirmType:"destructive",get error(){return n(l)},set error(s){r(l,s)},get open(){return f()},set open(s){f(s)},$$events:{confirmModal:p},$$slots:{title:(s,P)=>{var c=U(),t=_(c,!0);b(c),x(g=>$(t,g),[()=>o("workflows.cancel-modal-title")],i),y(s,c)},content:(s,P)=>{var c=V(),t=_(c,!0);b(c),x(g=>$(t,g),[()=>o("workflows.cancel-modal-confirmation")],i),y(s,c)}},$$legacy:!0}),q(),D()}var X=T('<h3 slot="title"> </h3>'),Y=T('<div slot="content"><p> </p> <!></div>');function pe(a,e){R(e,!1);const[d,D]=N();let f=m(e,"open",12),W=m(e,"workflow",8),M=m(e,"namespace",8),C=m(e,"refresh",8),u=m(e,"first",8,void 0),l=h(""),p=h(""),k=h(!1);const E=()=>{f(!1),r(l,"")},s=async()=>{r(p,""),r(k,!0);try{await Q({workflow:W(),namespace:M(),reason:n(l),first:u()}),f(!1),r(l,""),j(C(),Date.now()),B.push({id:"workflow-termination-success-toast",message:o("workflows.terminate-success")})}catch(t){r(p,F(t)?t.message:o("common.unknown-error"))}finally{r(k,!1)}};H();const P=i(()=>o("workflows.terminate")),c=i(()=>o("common.cancel"));z(a,{id:"terminate-confirmation-modal","data-testid":"terminate-confirmation-modal",get loading(){return n(k)},get confirmText(){return n(P)},get cancelText(){return n(c)},confirmType:"destructive",get error(){return n(p)},set error(t){r(p,t)},get open(){return f()},set open(t){f(t)},$$events:{cancelModal:E,confirmModal:s},$$slots:{title:(t,g)=>{var w=X(),v=_(w,!0);b(w),x(A=>$(v,A),[()=>o("workflows.terminate-modal-title")],i),y(t,w)},content:(t,g)=>{var w=Y(),v=_(w),A=_(v,!0);b(v);var G=L(v,2);const J=i(()=>o("common.reason-placeholder")),K=i(()=>o("common.reason-placeholder"));S(G,{id:"workflow-termination-reason",class:"mt-4",get placeholder(){return n(J)},get label(){return n(K)},labelHidden:!0,get value(){return n(l)},set value(I){r(l,I)},$$legacy:!0}),b(w),x(I=>$(A,I),[()=>o("workflows.terminate-modal-confirmation")],i),y(t,w)}},$$legacy:!0}),q(),D()}const ue=(a,e,d)=>!a.disableWriteActions&&!a.workflowCancelDisabled&&!e.namespaceWriteDisabled(d),ke=(a,e,d)=>!a.disableWriteActions&&!a.workflowResetDisabled&&!e.namespaceWriteDisabled(d),ge=(a,e,d)=>!a.disableWriteActions&&!a.workflowTerminateDisabled&&!e.namespaceWriteDisabled(d);export{we as C,pe as T,ue as a,ke as b,ge as w};
