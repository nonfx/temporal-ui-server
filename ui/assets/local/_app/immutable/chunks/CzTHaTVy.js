import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as je,l as ee,ah as te,s as G,m as ae,a as ze,e as x,c as C,P as I,g as a,r as _,t as L,d as g,b as Be,f as qe,n as re}from"./CVkC3v6g.js";import{s as D}from"./DUPvQxLd.js";import{i as E}from"./DpQPgcBL.js";import{e as le}from"./ojfNN_0P.js";import{t as V,a as h,c as Pe,b as se}from"./CXa2DXXa.js";import{a as Te}from"./H9n-HFj3.js";import{r as De,c as ne,s as H,a as w}from"./01A5YHN4.js";import{e as Q}from"./FZ_CX87U.js";import{a as Ee}from"./B6BscVnp.js";import{s as He}from"./Bfc47y5P.js";import{i as Ve}from"./B3G23GpA.js";import{p as o}from"./BNtWe5Xb.js";import{b as Ke,a as Me,s as Ne}from"./B71MWTBs.js";import{w as Ae}from"./DaqIHZoW.js";import{C as ie}from"./1Y4AM361.js";import{L as Fe}from"./C0UPJbhF.js";import{t as oe}from"./Ds6tgvmq.js";var Ge=V("<p> </p>"),Ie=V('<span class="count svelte-ej7kzn"><span> </span> </span>'),Je=V('<div class="flex justify-between gap-2"><div><!></div> <!></div>'),Oe=V('<div class="flex flex-row flex-wrap gap-1"></div>'),Qe=V('<div><!> <div><!> <input data-lpignore="true" data-1p-ignore="true" autocomplete="off" multiple></div> <!> <!></div>');function ut(de,n){je(n,!1);const[ve,ue]=Ne(),s=()=>Me(b,"$values",ve),j=ae();let K=o(n,"id",8),c=o(n,"chips",12),fe=o(n,"label",8),ce=o(n,"labelHidden",8,!1),R=o(n,"placeholder",8,""),me=o(n,"name",24,K),m=o(n,"disabled",8,!1),S=o(n,"required",8,!1),J=o(n,"hintText",8,""),M=o(n,"validator",8,()=>!0),y=o(n,"removeChipButtonLabel",8),U=o(n,"external",8,!1),v=o(n,"maxLength",8,0);const b=Ae(c());let k=ae(""),pe=o(n,"class",8,""),ge=o(n,"scrollTo",8,!1);const _e=e=>{const t=a(k).trim();(e.key===","||e.key==="Enter")&&t!==""&&(e.preventDefault(),b.update(l=>[...l,t]),c(s()),G(k,""));const r=e.target;e.key==="Backspace"&&r&&r.value===""&&s().length>0&&(b.update(l=>l.slice(0,-1)),c(s()))},he=e=>{if(e.preventDefault(),v()&&s().length>=v())return;let r=e.clipboardData.getData("text/plain").split(",").map(l=>l.trim());v()&&(r=r.slice(0,v()-s().length)),b.update(l=>[...l,...r]),c(s())},be=()=>{const e=a(k).trim();e!==""&&(b.update(t=>[...t,e]),c(s()),G(k,""))},W=e=>{b.update(t=>(t.splice(e,1),t)),c(s())},O=(e,t)=>({update:()=>{ge()&&e===document.activeElement&&e.scrollIntoView({block:"nearest",inline:"start"})}});ee(()=>te(c()),()=>{c(),Ke(b,c())}),ee(()=>(s(),te(M())),()=>{G(j,s().some(e=>!M()(e)))}),ze(),Ve();var N=Qe(),X=x(N);Fe(X,{get required(){return S()},get label(){return fe()},get disabled(){return m()},get hidden(){return ce()},get for(){return K()}});var A=C(X,2),Y=x(A);{var xe=e=>{var t=Pe(),r=qe(t);le(r,3,s,(l,p)=>`${l}-${p}`,(l,p,z)=>{const B=g(()=>M()(a(p))),q=g(()=>typeof y()=="string"?y():y()(a(p))),d=g(()=>a(B)?"default":"warning");ie(l,{get removeButtonLabel(){return a(q)},get intent(){return a(d)},get disabled(){return m()},$$events:{remove:()=>W(a(z))},children:(u,f)=>{re();var P=se();L(()=>D(P,a(p))),h(u,P)},$$slots:{default:!0}})}),h(e,t)};E(Y,e=>{s().length>0&&!U()&&e(xe)})}var i=C(Y,2);De(i);let Z;I(()=>Ee(i,()=>a(k),e=>G(k,e))),I(()=>Q("blur",i,be)),I(()=>Q("keydown",i,He(_e))),I(()=>Q("paste",i,he)),Te(i,(e,t)=>O==null?void 0:O(e),s),_(A);var $=C(A,2);{var we=e=>{var t=Je(),r=x(t);let l;var p=x(r);{var z=d=>{var u=Ge(),f=x(u,!0);_(u),L(()=>D(f,J())),h(d,u)};E(p,d=>{a(j)&&J()&&d(z)})}_(r);var B=C(r,2);{var q=d=>{var u=Ie(),f=x(u);let P;var Ce=x(f,!0);_(f);var Le=C(f);_(u),L(F=>{var T;P=H(f,1,"text-information svelte-ej7kzn",null,P,F),D(Ce,((T=s())==null?void 0:T.length)??0),D(Le,` / ${v()??""}`)},[()=>{var F,T;return{warn:v()-((F=s())==null?void 0:F.length)<=5,error:v()===((T=s())==null?void 0:T.length)}}],g),h(d,u)};E(B,d=>{v()&&!m()&&d(q)})}_(t),L(d=>{l=H(r,1,"error-msg svelte-ej7kzn",null,l,d),w(r,"aria-live",a(j)?"assertive":"off")},[()=>({"min-width":v()})],g),h(e,t)};E($,e=>{(a(j)&&J()||v()&&!m())&&e(we)})}var ye=C($,2);{var ke=e=>{var t=Oe();le(t,7,s,(r,l)=>`${r}-${l}`,(r,l,p)=>{const z=g(()=>M()(a(l))),B=g(()=>typeof y()=="string"?y():y()(a(l))),q=g(()=>a(z)?"default":"warning");ie(r,{get removeButtonLabel(){return a(B)},get intent(){return a(q)},get disabled(){return m()},$$events:{remove:()=>W(a(p))},children:(d,u)=>{re();var f=se();L(()=>D(f,a(l))),h(d,f)},$$slots:{default:!0}})}),_(t),h(e,t)};E(ye,e=>{s().length>0&&U()&&e(ke)})}_(N),L((e,t,r)=>{H(N,1,e,"svelte-ej7kzn"),H(A,1,t,"svelte-ej7kzn"),i.disabled=m(),w(i,"placeholder",R()),w(i,"id",K()),w(i,"name",me()),i.required=S(),w(i,"data-testid",K()),w(i,"maxlength",v()&&s().length>=v()?0:void 0),w(i,"size",R().length||void 0),Z=H(i,1,"svelte-ej7kzn",null,Z,r)},[()=>ne(oe("group flex flex-col gap-1",m()&&"cursor-not-allowed",pe())),()=>ne(oe("surface-primary flex min-h-[2.5rem] w-full flex-row flex-wrap gap-1 overflow-y-scroll border border-subtle p-2 text-sm text-primary focus-within:border-interactive focus-within:ring-2 focus-within:ring-primary/70",m()&&"cursor-not-allowed opacity-65",a(j)&&"invalid")),()=>({"cursor-not-allowed":m()})],g),h(de,N),Be(),ue()}export{ut as C};
