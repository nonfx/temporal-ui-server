import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as _e,e as l,c as d,r as c,t as V,d as i,b as be,f as me,g as e,m as F,l as de,s as p,az as S,a as ze,n as ue}from"./DYX0w8bX.js";import{s as T}from"./CxFVcq4O.js";import{i as ee}from"./B_BuKjdB.js";import{t as B,a as b,c as Ne,b as pe}from"./Bz76f8pg.js";import{c as ge,s as se,b as Oe,a as Me}from"./BoNO6UAY.js";import{t as We,a as Fe}from"./De9SQVcE.js";import{i as xe}from"./CZRFLhJG.js";import{l as Ce,p as s}from"./BrXzBH3h.js";import{a as U,s as Ge,b as G}from"./CgU0heln.js";import{w as Re}from"./DsexP6Wk.js";import{p as Ie}from"./DOYgSXUg.js";import{A as Je}from"./DNgFeJjM.js";import{B as $e}from"./pnLOYuxo.js";import{L as Ke}from"./BPhwjPAO.js";import{t as a}from"./D2OY9xdY.js";import{c as Te,p as je,i as Ee,o as Le}from"./BK31YXL3.js";import{r as Qe}from"./D0drot8M.js";import{v as Ue,a as Pe}from"./Dq3hB7XF.js";import{s as Xe}from"./CFGOF_JX.js";import{g as Ye,e as re}from"./B8vPeB6P.js";import{a as Ze}from"./DeQILgAu.js";import{s as et}from"./Bfc47y5P.js";import{b as ae}from"./CXVuWmQA.js";import{L as tt}from"./WwDu3wGH.js";import{t as ce}from"./Ds6tgvmq.js";import{T as De}from"./Cg-zGock.js";import{R as rt,a as He}from"./DjSFcTzd.js";var at=B('<p class="-mt-1 text-sm"> </p>'),st=B("<p> </p>"),ot=B("<!> <!>",1),it=B('<span class="count svelte-1ie3gjb"><span> </span> </span>'),nt=B('<div><!> <!> <div><textarea></textarea></div> <div class="flex justify-between gap-2"><div><!></div> <!></div></div>');function lt(I,t){const x=Ce(t,["children","$$slots","$$events","$$legacy"]),X=Ce(x,["disabled","error","isValid","placeholder","rows","spellcheck","value","label","labelHidden","id","required","description","maxLength","class"]);_e(t,!1);let g=s(t,"disabled",8,!1),j=s(t,"error",8,""),h=s(t,"isValid",8,!0),J=s(t,"placeholder",8,""),q=s(t,"rows",8,5),K=s(t,"spellcheck",8,null),E=s(t,"value",12),w=s(t,"label",8),L=s(t,"labelHidden",8,!1),k=s(t,"id",8),z=s(t,"required",8,!1),P=s(t,"description",8,""),y=s(t,"maxLength",8,0),f=s(t,"class",8,"text-primary");xe();var _=nt(),n=l(_);tt(n,{get required(){return z()},get hidden(){return L()},get label(){return w()},get for(){return k()}});var D=d(n,2);{var Y=r=>{var v=at(),m=l(v,!0);c(v),V(()=>T(m,P())),b(r,v)};ee(D,r=>{P()&&r(Y)})}var N=d(D,2),C=l(N);Ye(C);let oe;c(N);var ie=d(N,2),A=l(ie);let O;var ne=l(A);{var te=r=>{var v=ot(),m=me(v);{var M=Q=>{var H=st(),R=l(H,!0);c(H),V(()=>T(R,j())),b(Q,H)};ee(m,Q=>{j()&&Q(M)})}var Z=d(m,2);Xe(Z,t,"error",{},null),b(r,v)};ee(ne,r=>{h()||r(te)})}c(A);var le=d(A,2);{var ve=r=>{var v=it(),m=l(v);let M;var Z=l(m,!0);c(m);var Q=d(m);c(v),V(H=>{var R;M=se(m,1,"text-information svelte-1ie3gjb",null,M,H),T(Z,((R=E())==null?void 0:R.length)??0),T(Q,` / ${y()??""}`)},[()=>{var H,R;return{warn:y()-((H=E())==null?void 0:H.length)<=5,error:y()===((R=E())==null?void 0:R.length)}}],i),b(r,v)};ee(le,r=>{y()&&!g()&&r(ve)})}c(ie),c(_),V((r,v,m,M)=>{se(_,1,r,"svelte-1ie3gjb"),se(N,1,v,"svelte-1ie3gjb"),oe=Oe(C,oe,{class:m,id:k(),disabled:g(),placeholder:J(),rows:q(),spellcheck:K(),maxlength:y()>0?y():void 0,"data-testid":k(),...X},"svelte-1ie3gjb"),O=se(A,1,"error-msg svelte-1ie3gjb",null,O,M),Me(A,"aria-live",h()?"off":"assertive")},[()=>ge(ce("group flex flex-col gap-1",f())),()=>ge(ce("relative box-border inline-flex w-full border border-subtle focus-within:border-information focus-within:ring-2 focus-within:ring-primary/70",!h()&&"error",!g()&&"hover:border-information")),()=>ce("surface-primary min-h-fit w-full px-3 py-2 text-sm placeholder:text-secondary focus-visible:outline-none",g()&&"cursor-not-allowed opacity-50"),()=>({"min-width":y()})],i),Ze(C,E),re("input",C,function(r){ae.call(this,t,r)}),re("change",C,function(r){ae.call(this,t,r)}),re("focus",C,function(r){ae.call(this,t,r)}),re("blur",C,function(r){ae.call(this,t,r)}),re("keydown",C,et(function(r){ae.call(this,t,r)})),b(I,_),be()}var dt=B('<small data-testid="data-encoder-cross-origin-credentials"> </small>'),ct=B('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!> <!> <!></div></div>');function vt(I,t){_e(t,!1);let x=s(t,"endpoint",12,""),X=s(t,"passToken",12,!1),g=s(t,"includeCreds",12,!1),j=s(t,"error",8,"");xe();var h=ct(),J=l(h),q=l(J);const K=i(()=>a("data-encoder.endpoint-placeholder")),E=i(()=>!j()),w=i(()=>a("data-encoder.endpoint-title")),L=i(()=>a("data-encoder.endpoint-description"));lt(q,{id:"data-encoder-endpoint-input",rows:3,get placeholder(){return e(K)},get error(){return j()},get isValid(){return e(E)},get label(){return e(w)},get description(){return e(L)},get value(){return x()},set value(n){x(n)},$$legacy:!0});var k=d(q,2);const z=i(()=>a("data-encoder.pass-access-token-label"));De(k,{get label(){return e(z)},id:"pass-access-token","data-testid":"data-encoder-pass-access-token",get checked(){return X()},set checked(n){X(n)},$$legacy:!0});var P=d(k,2);const y=i(()=>a("data-encoder.include-cross-origin-credentials-label"));De(P,{get label(){return e(y)},id:"pass-access-credentials","data-testid":"data-encoder-include-credentials",get checked(){return g()},set checked(n){g(n)},$$legacy:!0});var f=d(P,2);{var _=n=>{var D=dt(),Y=l(D,!0);c(D),V(N=>T(Y,N),[()=>a("data-encoder.include-cross-origin-credentials-warning")],i),b(n,D)};ee(f,n=>{g()&&n(_)})}c(J),c(h),b(I,h),be()}const ut=I=>I.replace(/\/+$/,""),fe=Re(!1);var pt=B("<!> <!>",1),ft=B('<aside><div class="flex w-full flex-col gap-4 xl:w-1/2"><div class="flex items-center justify-between space-x-2"><h3 data-testid="data-encoder-title"> </h3></div> <p class="text-sm"> <!> </p> <!> <!> <div class="flex items-center gap-4"><!> <!></div></div></aside>');function Ft(I,t){_e(t,!1);const[x,X]=Ge(),g=()=>U(Te,"$codecEndpoint",x),j=()=>U(je,"$passAccessToken",x),h=()=>U(Ee,"$includeCredentials",x),J=()=>U(Le,"$overrideRemoteCodecConfiguration",x),q=()=>U(Ie,"$page",x),K=()=>U(fe,"$viewDataEncoderSettings",x),E=()=>U(D,"$override",x),w=F(),L=F();var k=F(),z=F(),P=F();let y=s(t,"class",8,""),f=F(g()!==null&&g()!==void 0?g():""),_=F(j()!==null&&j()!==void 0?j():!1),n=F(h()!==null&&h()!==void 0?h():!1),D=Re(J());const Y=()=>{p(f,g()),p(_,j()),p(n,h()),G(D,J()),G(fe,!1)},N=()=>{p(w,""),G(Te,e(f)?ut(e(f)):e(f)),G(je,e(_)),G(Ee,e(n)),G(fe,!1),G(Le,E()),q().url.pathname.endsWith("history")&&G(Qe,Date.now())};de(()=>{},()=>{p(w,"")}),de(()=>(S(P),S(z),S(k),q(),a),()=>{p(L,!(p(P,p(z,p(k,q().data)===null||S(k)===void 0?void 0:S(k).settings)===null||S(z)===void 0?void 0:S(z).runtimeEnvironment)===null||S(P)===void 0)&&S(P).isCloud?a("common.namespaces"):a("common.cluster"))}),de(()=>(e(_),e(f),Pe),()=>{e(_)&&!Ue(e(f))?p(w,a("data-encoder.access-token-https-error")):e(f)&&!Pe(e(f))?p(w,a("data-encoder.prefix-error")):p(w,"")}),de(()=>K(),()=>{K()||Y()}),ze(),xe();var C=Ne(),oe=me(C);{var ie=A=>{var O=ft(),ne=l(O),te=l(ne),le=l(te),ve=l(le,!0);c(le),c(te);var r=d(te,2),v=l(r,!0),m=d(v);Ke(m,{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,children:(o,W)=>{ue();var u=pe();V($=>T(u,$),[()=>a("common.codec-server")],i),b(o,u)},$$slots:{default:!0}});var M=d(m);c(r);var Z=d(r,2);const Q=i(()=>E()?a("data-encoder.browser-override-description",{level:e(L)}):a("data-encoder.no-browser-override-description",{level:e(L)})),H=i(()=>{var o,W,u,$;return E()?"":($=(u=(W=(o=q())==null?void 0:o.data)==null?void 0:W.settings)==null?void 0:u.codec)==null?void 0:$.endpoint});Je(Z,{"data-testid":"override-accordion",get title(){return e(Q)},get subtitle(){return e(H)},children:(o,W)=>{rt(o,{name:"override",group:D,children:(u,$)=>{var ke=pt(),ye=me(ke);const Se=i(()=>a("data-encoder.no-browser-override-description",{level:e(L)}));He(ye,{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,get label(){return e(Se)}});var Ve=d(ye,2);const Be=i(()=>a("data-encoder.browser-override-description",{level:e(L)}));He(Ve,{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,get label(){return e(Be)}}),b(u,ke)},$$slots:{default:!0}})},$$slots:{default:!0}});var R=d(Z,2);vt(R,{get error(){return e(w)},get endpoint(){return e(f)},set endpoint(o){p(f,o)},get passToken(){return e(_)},set passToken(o){p(_,o)},get includeCreds(){return e(n)},set includeCreds(o){p(n,o)},$$legacy:!0});var he=d(R,2),we=l(he);const qe=i(()=>!!e(w));$e(we,{get disabled(){return e(qe)},"data-testid":"confirm-data-encoder-button",type:"submit",$$events:{click:N},children:(o,W)=>{ue();var u=pe();V($=>T(u,$),[()=>a("common.apply")],i),b(o,u)},$$slots:{default:!0}});var Ae=d(we,2);$e(Ae,{variant:"ghost","data-testid":"cancel-data-encoder-button",$$events:{click:Y},children:(o,W)=>{ue();var u=pe();V($=>T(u,$),[()=>a("common.cancel")],i),b(o,u)},$$slots:{default:!0}}),c(he),c(ne),c(O),V((o,W,u,$)=>{se(O,1,o),T(ve,W),T(v,u),T(M,` ${$??""}`)},[()=>ge(ce("surface-primary relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-subtle p-4 md:p-12",y())),()=>a("common.codec-server"),()=>a("data-encoder.codec-server-description-prefix"),()=>a("data-encoder.codec-server-description-suffix",{level:e(L)})],i),We(1,O,()=>Fe,()=>({y:-50,delay:0,duration:500})),b(A,O)};ee(oe,A=>{K()&&A(ie)})}b(I,C),be(),X()}export{Ft as D,fe as v};
