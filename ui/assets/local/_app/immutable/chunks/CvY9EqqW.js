import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as le,aP as Me,t as A,b as ie,e as _,d as U,r as h,as as pe,f as Oe,c as B,l as G,a as Ce,g as q,m as Z,s as $,ah as ee}from"./CVkC3v6g.js";import{s as Te}from"./DUPvQxLd.js";import{i as te}from"./DpQPgcBL.js";import{t as D,a as C,c as Ie}from"./CXa2DXXa.js";import{s as T}from"./DrOJgH2Z.js";import{b as J,C as se,s as ue}from"./01A5YHN4.js";import{e as j}from"./FZ_CX87U.js";import{s as ne}from"./Bfc47y5P.js";import{i as re}from"./B3G23GpA.js";import{l as I,p as a}from"./BNtWe5Xb.js";import{s as oe,a as Q,b as g}from"./B71MWTBs.js";import{c as be,w as ae}from"./DaqIHZoW.js";import{I as Se}from"./BkKACGbj.js";import{t as V}from"./Ds6tgvmq.js";import{t as Le,a as Ne}from"./D8zUdvDs.js";import{b as ze}from"./BqDms8M3.js";import{b as He}from"./v6kOUW79.js";import{b as Pe}from"./DA1P5rYO.js";import{c as qe,g as fe}from"./uVHWBtn_.js";import{a as Ae}from"./H9n-HFj3.js";const ce="menu-context";var Ue=D("<div><!></div>");function dt(S,e){const L=I(e,["children","$$slots","$$events","$$legacy"]),k=I(L,["class","open"]);le(e,!1);const[x,N]=oe(),E=()=>Q(n(),"$open",x);let w=a(e,"class",8,""),n=a(e,"open",24,()=>ae(!1));const y=ae(!1),l=ae(null),f=be(),v=()=>{E()&&(f("close"),g(n(),!1))};Me(ce,{open:n(),keepOpen:y,menuElement:l}),re();var i=Ue();let m;var r=_(i);T(r,e,"default",{get open(){return n()}},null),h(i),Ae(i,(p,u)=>{var b;return(b=qe)==null?void 0:b(p,u)},()=>v),A(p=>m=J(i,m,{class:p,...k}),[()=>V("relative",w())],U),C(S,i),ie(),N()}const ve='input, li[role="option"]:not([aria-disabled="true"]), li[role="menuitem"]:not([aria-disabled="true"])';var je=D("<a><!></a>"),De=D("<div> </div>"),Fe=D('<li><!> <div class="grow"><div><!> <!></div> <!></div> <!></li>');function ut(S,e){const L=I(e,["children","$$slots","$$events","$$legacy"]),k=I(L,["class","selected","destructive","disabled","href","description","centered","hoverable","newTab"]);le(e,!1);const[x,N]=oe(),E=()=>Q(p,"$keepOpen",x);let w=a(e,"class",8,""),n=a(e,"selected",8,void 0),y=a(e,"destructive",8,!1),l=a(e,"disabled",8,!1),f=a(e,"href",8,null),v=a(e,"description",8,null),i=a(e,"centered",8,!1),m=a(e,"hoverable",8,!0),r=a(e,"newTab",8,!1);const{keepOpen:p,open:u}=pe(ce),b=be(),z=s=>{switch(s.key){case"Escape":g(u,!1);break;case"ArrowDown":case"ArrowRight":W(s.currentTarget);break;case"ArrowUp":case"ArrowLeft":o(s.currentTarget);break;case" ":case"Enter":b("click"),E()||g(u,!1);break}},W=s=>{let t=s.nextElementSibling;for(;t&&!t.matches(ve);)t=t.nextElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},o=s=>{let t=s.previousElementSibling;for(;t&&!t.matches(ve);)t=t.previousElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},F=()=>{E()||g(u,!1),b("click")};re();var R=Ie(),c=Oe(R);{var Y=s=>{var t=je();let H;var K=_(t);T(K,e,"default",{},null),h(t),A((P,M)=>H=J(t,H,{href:f(),target:r()?"_blank":null,rel:r()?"noreferrer":null,role:"menuitem",class:P,"aria-hidden":l()?"true":"false","aria-disabled":l(),tabindex:l()?-1:0,...k,[se]:M},"svelte-nbq40i"),[()=>V("menu-item","m-1 px-3 py-2","flex items-center gap-2",w()),()=>({disabled:l(),hoverable:m(),"justify-center":i()})],U),j("keydown",t,ne(z)),C(s,t)},_e=s=>{var t=Fe();let H;var K=_(t);T(K,e,"leading",{},null);var P=B(K,2),M=_(P);let me;var de=_(M);T(de,e,"default",{},null);var he=B(de,2);{var ge=d=>{Se(d,{name:"checkmark",class:"shrink-0"})};te(he,d=>{n()&&d(ge)})}h(M);var ke=B(M,2);{var xe=d=>{var O=De();let X;var we=_(O,!0);h(O),A(ye=>{X=ue(O,1,"menu-item-description svelte-nbq40i",null,X,ye),Te(we,v())},[()=>({"text-center":i()})],U),C(d,O)};te(ke,d=>{v()&&d(xe)})}h(P);var Ee=B(P,2);T(Ee,e,"trailing",{},null),h(t),A((d,O,X)=>{H=J(t,H,{role:"menuitem",class:d,"aria-hidden":l()?"true":"false","aria-disabled":l(),tabindex:l()?-1:0,...k,[se]:O},"svelte-nbq40i"),me=ue(M,1,"menu-item-wrapper svelte-nbq40i",null,me,X)},[()=>V("menu-item","m-1 px-3 py-2","flex items-center gap-2",w()),()=>({destructive:y(),disabled:l(),selected:n(),hoverable:m()}),()=>({centered:i()})],U),j("click",t,F),j("keydown",t,ne(z)),C(s,t)};te(c,s=>{f()?s(Y):s(_e,!1)})}C(S,R),ie(),N()}var Re=D("<ul><!></ul>");function ft(S,e){const L=I(e,["children","$$slots","$$events","$$legacy"]),k=I(L,["class","id","keepOpen","position","menuElement","maxHeight"]);le(e,!1);const[x,N]=oe(),E=()=>Q(u,"$keepOpenCtx",x),w=()=>Q(z,"$open",x),n=Z(),y=Z();let l=a(e,"class",8,""),f=Z(0),v=a(e,"id",8),i=a(e,"keepOpen",8,!1),m=a(e,"position",8,"left"),r=a(e,"menuElement",12,null),p=a(e,"maxHeight",8,"max-h-[20rem]");const{keepOpen:u,menuElement:b,open:z}=pe(ce),W=c=>{!E()&&c.target===q(y)&&g(z,!1)};G(()=>ee(i()),()=>{g(u,i())}),G(()=>ee(r()),()=>{g(b,r())}),G(()=>(ee(r()),fe),()=>{$(n,r()?fe(r()):[])}),G(()=>q(n),()=>{$(y,q(n)[q(n).length-1])}),Ce(),re();var o=Re();let F;var R=_(o);T(R,e,"default",{},null),h(o),He(o,c=>r(c),()=>r()),A((c,Y)=>F=J(o,F,{role:"menu",class:c,"aria-labelledby":v(),tabindex:-1,style:m()==="top-right"||m()==="top-left"?`top: -${q(f)+16}px;`:"",id:v(),...k,[se]:Y},"svelte-1jzz301"),[()=>V("menu",p(),m(),l()),()=>({hidden:!w()})],U),Le(1,o,()=>Ne,()=>({duration:100})),ze(o,"clientHeight",c=>$(f,c)),j("focusout",o,W),j("click",o,ne(function(c){Pe.call(this,e,c)})),C(S,o),ie(),N()}export{dt as M,ft as a,ce as b,ve as c,ut as d};
