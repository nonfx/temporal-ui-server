import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as Me,l as tt,s as Te,m as rt,g as e,a as yt,t as ae,h as re,j as Q,c as Ze,n as Je,k as y,i as m,d as a,r as oe,b as Re,e as Ke,f as Le,az as u,aC as gt}from"./DSxqszTl.js";import{s as g,e as be,d as ht}from"./CXaSvchK.js";import{t as ot,a as _t,f as pt}from"./LeF0uBFk.js";import{p as Ge,s as at}from"./Bfc47y5P.js";import{i as nt}from"./BcaHj5WR.js";import{a as z,s as qe,b as we}from"./CZBNCVvj.js";import{p as ct}from"./DjD1pzbG.js";import{B as kt}from"./DzSGmXjD.js";import{I as xt}from"./CaoxXKIj.js";import{t as te}from"./D2OY9xdY.js";import{w as Be}from"./CHtRYNRv.js";import{c as Tt}from"./CUq0Ob4J.js";import{s as Bt,i as It,w as Ft,c as St}from"./80RifD-7.js";import{l as Dt,r as Ct}from"./C1ublD0G.js";import{a as Vt,u as Wt}from"./DLYK-ekq.js";import{M as st}from"./DE1siwnE.js";import{u as At}from"./DBJIqWGo.js";import{i as o}from"./BAt4aHTa.js";import{p as Ot}from"./DNwXkscJ.js";import{W as Et}from"./L-HzL4_-.js";import{B as Pt}from"./-jFGsH1F.js";import{f as xe,r as jt,t as Lt}from"./BSP6lJQ9.js";import{S as Xe}from"./S6Q2Q0ub.js";import{h as Mt}from"./CLGfdnHC.js";import{g as Rt}from"./CT3a8W8Y.js";import{c as Ye,h as qt}from"./BfH0n9ks.js";import{p as O}from"./Bp73-jql.js";import{k as Ht}from"./CvtqSEth.js";import{c as Qt,s as lt}from"./DyEeuWnl.js";import{I as it}from"./Dc8cZy7F.js";import{c as Nt}from"./DtffxbY8.js";import{t as Ut}from"./Ds6tgvmq.js";import{L as zt}from"./CN3eTER7.js";import{s as Yt}from"./byHaz_JD.js";var Kt=ae('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function qr(h,t){Me(t,!1);const[v,C]=qe(),n=()=>z(ct,"$page",v),_=()=>z(Bt,"$searchAttributes",v),T=rt();let r=rt("");function x(f){Te(r,f)}const d=()=>{if(!e(r))we(Be,[]),we(Dt,"");else try{we(Be,Vt(e(r),_()))}catch(f){console.error(f)}e(r)&&e(r)===e(T)?we(Ct,Date.now()):At({url:n().url,parameter:"query",value:e(r),allowEmpty:!0,clearParameters:[Tt]})};function E(){d()}tt(()=>n(),()=>{Te(T,n().url.searchParams.get("query"))}),tt(()=>e(T),()=>{x(e(T))}),yt(),nt();var D=Kt(),P=re(D),M=re(P);const Y=Q(()=>te("workflows.search-placeholder")),K=Q(()=>te("workflows.search-placeholder")),G=Q(()=>te("common.clear-input-button-label")),l=Q(()=>!e(r)||e(r).length<st);xt(M,{id:"manual-search",type:"search",get label(){return e(Y)},labelHidden:!0,get placeholder(){return e(K)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(G)},maxLength:st,get hideCount(){return e(l)},get value(){return e(r)},set value(f){Te(r,f)},$$events:{clear:E},$$legacy:!0});var s=Ze(M,2);kt(s,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(f,V)=>{Je();var W=y();m(b=>g(W,b),[()=>te("common.search")],Q),a(f,W)},$$slots:{default:!0}}),oe(P),oe(D),be("submit",P,Ge(d)),ot(1,P,()=>_t,()=>({x:-100,duration:150})),ot(1,D,()=>pt),a(h,D),Re(),C()}const Gt=(h,t=2)=>{if(!+h)return"0 Bytes";const v=1024,C=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],_=Math.floor(Math.log(h)/Math.log(v));return`${parseFloat((h/Math.pow(v,_)).toFixed(C))} ${n[_]}`};var Xt=ae('<button id="filter-button"><!></button>'),Zt=ae('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),Jt=ae("<div><!> <!></div>");function $t(h,t){Me(t,!1);const[v,C]=qe(),n=()=>z(G,"$copied",v);let _=O(t,"show",8,!1),T=O(t,"filterable",8,!0),r=O(t,"copyable",8,!0),x=O(t,"content",8),d=O(t,"onFilter",8,()=>{}),E=O(t,"filtered",8,!1),D=O(t,"copyIconTitle",8),P=O(t,"copySuccessIconTitle",8),M=O(t,"filterIconTitle",8),Y=O(t,"class",8,"");const{copy:K,copied:G}=Nt();nt();var l=Ke(),s=Le(l);{var f=V=>{var W=Jt(),b=re(W);{var X=i=>{var w=Xt();let j;var Z=re(w);Ht(Z,E,c=>{it(c,{get title(){return M()},name:"filter",class:"m-1"})}),oe(w),m(c=>j=lt(w,1,"copy-or-filter-button svelte-qwjj97",null,j,c),[()=>({filtered:E()})],Q),be("click",w,Ge(at(function(...c){var B;(B=d())==null||B.apply(this,c)}))),a(i,w)};o(b,i=>{T()&&i(X)})}var ye=Ze(b,2);{var ge=i=>{var w=Zt(),j=re(w);const Z=Q(()=>n()?P():D()),c=Q(()=>n()?"checkmark":"copy");it(j,{get title(){return e(Z)},get name(){return e(c)},class:"m-1"}),oe(w),be("click",w,Ge(at(B=>K(B,x())))),a(i,w)};o(ye,i=>{r()&&i(ge)})}oe(W),m(i=>lt(W,1,i,"svelte-qwjj97"),[()=>Qt(Ut("copy-or-filter",Y()))],Q),a(V,W)};o(s,V=>{_()&&V(f)})}a(h,l),Re(),C()}var er=ae("<!> <!>",1);function ee(h,t){Me(t,!0);const[v,C]=qe(),n=()=>z(Be,"$workflowFilters",v),_=()=>z(ct,"$page",v);let T=O(t,"filterOrCopyButtonsVisible",3,!1);const r=()=>{const l=n().find(f=>f.attribute===t.attribute),s=()=>n().filter(f=>f.attribute!==t.attribute);if(!l||l.value!==t.value){const f={attribute:t.attribute,type:Xe.KEYWORD,value:t.value,conditional:"=",operator:"",parenthesis:""};we(Be,[...s(),f])}else we(Be,[...s()]);Wt(_().url,n())};var x=er(),d=Le(x);{var E=l=>{zt(l,{get href(){return t.href},children:(s,f)=>{Je();var V=y();m(()=>g(V,t.value)),a(s,V)},$$slots:{default:!0}})},D=l=>{var s=y();m(()=>g(s,t.value)),a(l,s)};o(d,l=>{t.href?l(E):l(D,!1)})}var P=Ze(d,2);const M=u(()=>te("common.copy-icon-title")),Y=u(()=>te("common.copy-success-icon-title")),K=u(()=>te("common.filter-workflows")),G=u(()=>n().some(l=>l.attribute===t.attribute&&l.value===t.value));$t(P,{get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(Y)},get filterIconTitle(){return e(K)},get show(){return T()},get content(){return t.value},onFilter:r,get filtered(){return e(G)}}),a(h,x),Re(),C()}const tr=(h,t)=>{const v=h.relatedTarget;v&&!["filter-button","copy-button"].includes(v.id)&&t()};var rr=ae('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),or=ae('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function Hr(h,t){Me(t,!0);const[v,C]=qe(),n=()=>z(Lt,"$timeFormat",v),_=()=>z(jt,"$relativeTime",v),T=()=>z(St,"$customSearchAttributes",v),r=u(()=>t.column.label),x=u(()=>Ot.params.namespace);let d=gt(!1);const E=()=>Te(d,!0),D=()=>Te(d,!1),P=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var M=Ke(),Y=Le(M);{var K=l=>{var s=rr();s.__mouseover=E,s.__focusin=E,s.__focusout=[tr,D];var f=re(s);{var V=b=>{const X=u(()=>Ye({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));ee(b,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(X)}})},W=(b,X)=>{{var ye=i=>{const w=u(()=>Ye({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));ee(i,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(w)}})},ge=(i,w)=>{{var j=c=>{const B=u(()=>Ye({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));ee(c,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(B)}})},Z=(c,B)=>{{var he=I=>{const A=u(()=>{var p,F;return(F=(p=t.workflow.searchAttributes)==null?void 0:p.indexedFields)==null?void 0:F.TemporalWorkerDeployment}),_e=u(()=>e(A)&&typeof e(A)=="string"?e(A):""),pe=u(()=>qt({namespace:e(x),deployment:e(A)}));ee(I,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeployment",get value(){return e(_e)},get href(){return e(pe)}})},He=(I,A)=>{{var _e=p=>{const F=u(()=>{var se,k;return(k=(se=t.workflow.searchAttributes)==null?void 0:se.indexedFields)==null?void 0:k.TemporalWorkerDeploymentVersion}),N=u(()=>e(F)&&typeof e(F)=="string"?e(F):"");ee(p,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(N)}})},pe=(p,F)=>{{var N=k=>{const L=u(()=>{var U,S,R,q,$;return((R=(S=(U=t.workflow)==null?void 0:U.searchAttributes)==null?void 0:S.indexedFields)==null?void 0:R.TemporalWorkerBuildId)||Rt(($=(q=t.workflow.searchAttributes)==null?void 0:q.indexedFields)==null?void 0:$.TemporalWorkerDeploymentVersion)}),J=u(()=>e(L)&&typeof e(L)=="string"?e(L):"");ee(k,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerBuildId",get value(){return e(J)}})},se=(k,L)=>{{var J=U=>{const S=u(()=>{var q,$;return($=(q=t.workflow.searchAttributes)==null?void 0:q.indexedFields)==null?void 0:$.TemporalWorkflowVersioningBehavior}),R=u(()=>e(S)&&typeof e(S)=="string"?e(S):"");ee(U,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(R)}})};o(k,U=>{e(r)==="Versioning Behavior"&&U(J)},L)}};o(p,k=>{e(r)==="Build ID"?k(N):k(se,!1)},F)}};o(I,p=>{e(r)==="Deployment Version"?p(_e):p(pe,!1)},A)}};o(c,I=>{e(r)==="Deployment"?I(he):I(He,!1)},B)}};o(i,c=>{e(r)==="Run ID"?c(j):c(Z,!1)},w)}};o(b,i=>{e(r)==="Workflow ID"?i(ye):i(ge,!1)},X)}};o(f,b=>{e(r)==="Type"?b(V):b(W,!1)})}oe(s),be("focus",s,E),be("mouseleave",s,D),be("blur",s,D),a(l,s)},G=l=>{var s=or(),f=re(s);{var V=b=>{Et(b,{get status(){return t.workflow.status}})},W=(b,X)=>{{var ye=i=>{var w=y();m(j=>g(w,j),[()=>xe(t.workflow.endTime,n(),{relative:_()})]),a(i,w)},ge=(i,w)=>{{var j=c=>{var B=y();m(he=>g(B,he),[()=>xe(t.workflow.startTime,n(),{relative:_()})]),a(c,B)},Z=(c,B)=>{{var he=I=>{var A=y();m(()=>g(A,t.workflow.taskQueue)),a(I,A)},He=(I,A)=>{{var _e=p=>{var F=y();m(()=>{var N;return g(F,((N=t.workflow)==null?void 0:N.parentNamespaceId)??"")}),a(p,F)},pe=(p,F)=>{{var N=k=>{var L=y();m(J=>g(L,J),[()=>Gt(parseInt(t.workflow.historySizeBytes,10))]),a(k,L)},se=(k,L)=>{{var J=S=>{var R=y();m(q=>g(R,q),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(S,R)},U=(S,R)=>{{var q=le=>{var Ie=y();m(Qe=>g(Ie,Qe),[()=>xe(t.workflow.executionTime,n(),{relative:_()})]),a(le,Ie)},$=(le,Ie)=>{{var Qe=ie=>{var Fe=y();m(Ne=>g(Fe,Ne),[()=>Mt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(ie,Fe)},ft=(ie,Fe)=>{{var Ne=ne=>{var Se=y();m(Ue=>g(Se,Ue),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(ne,Se)},ut=(ne,Se)=>{{var Ue=ce=>{var De=y();m(()=>{var Ce,Ve;return g(De,((Ve=(Ce=t.workflow.searchAttributes)==null?void 0:Ce.indexedFields)==null?void 0:Ve.TemporalScheduledById)??"")}),a(ce,De)},mt=(ce,De)=>{{var Ce=fe=>{var We=y();const ke=u(()=>{var ue,H;return(H=(ue=t.workflow.searchAttributes)==null?void 0:ue.indexedFields)==null?void 0:H.TemporalScheduledStartTime});m(ue=>g(We,ue),[()=>e(ke)&&typeof e(ke)=="string"?xe(e(ke),n(),{relative:_()}):""]),a(fe,We)},Ve=(fe,We)=>{{var ke=H=>{var Ae=y();m(()=>{var Oe,me;return g(Ae,(me=(Oe=t.workflow.searchAttributes)==null?void 0:Oe.indexedFields)==null?void 0:me.TemporalChangeVersion)}),a(H,Ae)},ue=(H,Ae)=>{{var Oe=me=>{var $e=Ke();const Ee=u(()=>t.workflow.searchAttributes.indexedFields[e(r)]);var vt=Le($e);{var dt=ve=>{var Pe=y();m(ze=>g(Pe,ze),[()=>xe(e(Ee),n(),{relative:_()})]),a(ve,Pe)},wt=(ve,Pe)=>{{var ze=de=>{Pt(de,{children:(je,ar)=>{Je();var et=y();m(()=>g(et,e(Ee))),a(je,et)},$$slots:{default:!0}})},bt=de=>{var je=y();m(()=>g(je,e(Ee))),a(de,je)};o(ve,de=>{T()[e(r)]===Xe.BOOL?de(ze):de(bt,!1)},Pe)}};o(vt,ve=>{T()[e(r)]===Xe.DATETIME&&typeof e(Ee)=="string"?ve(dt):ve(wt,!1)})}a(me,$e)};o(H,me=>{It(e(r))&&Ft(t.workflow,e(r))&&me(Oe)},Ae)}};o(fe,H=>{e(r)==="Change Version"?H(ke):H(ue,!1)},We)}};o(ce,fe=>{e(r)==="Scheduled Start Time"?fe(Ce):fe(Ve,!1)},De)}};o(ne,ce=>{e(r)==="Scheduled By ID"?ce(Ue):ce(mt,!1)},Se)}};o(ie,ne=>{e(r)==="History Length"?ne(Ne):ne(ut,!1)},Fe)}};o(le,ie=>{e(r)==="Execution Duration"?ie(Qe):ie(ft,!1)},Ie)}};o(S,le=>{e(r)==="Execution Time"?le(q):le($,!1)},R)}};o(k,S=>{e(r)==="State Transitions"?S(J):S(U,!1)},L)}};o(p,k=>{e(r)==="History Size"?k(N):k(se,!1)},F)}};o(I,p=>{e(r)==="Parent Namespace"?p(_e):p(pe,!1)},A)}};o(c,I=>{e(r)==="Task Queue"?I(he):I(He,!1)},B)}};o(i,c=>{e(r)==="Start"?c(j):c(Z,!1)},w)}};o(b,i=>{e(r)==="End"?i(ye):i(ge,!1)},X)}};o(f,b=>{e(r)==="Status"?b(V):b(W,!1)})}oe(s),a(l,s)};o(Y,l=>{P.includes(e(r))?l(K):l(G,!1)})}a(h,M),Re(),C()}ht(["mouseover","focusin","focusout"]);const Qr=(h,t)=>{const v=Yt({workflows:h},null,2),C=`workflows-${h.length}-${t}-${Date.now()}.json`;n(v,C,"text/plain");function n(_,T,r){const x=document.createElement("a"),d=new Blob([_],{type:r});x.href=URL.createObjectURL(d),x.download=T,x.click()}};export{Hr as T,qr as W,Qr as e};
